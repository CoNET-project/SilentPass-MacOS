/*! For license information please see main.5906fad1.js.LICENSE.txt */
(()=>{var e={445:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=o(e),a=s[0],c=s[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,h=c>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=16383,o=0,u=r-i;o<u;o+=a)s.push(c(e,o,o+a>u?u:o+a));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},476:e=>{const t=e=>e*(Math.PI/180),n=(e,n,r,i)=>{let s=e/2,a=n*(s/10),o=e/2,c=(e=>{var t=360/e;return Array(e).fill("a").map(((e,n)=>n*t))})(r),u=(l=[99,999,9999,99999,999999],l.sort((()=>Math.random()-.5)),l)[0];var l;let h=Math.floor(Math.random()*u),f=i||h,d=(e=>{var t=4294967295,n=123456789+e&t,r=987654321-e&t;return function(){return(((r=36969*(65535&r)+(r>>>16)&t)<<16)+(65535&(n=18e3*(65535&n)+(n>>>16)&t))>>>0)/4294967296}})(f),p=[];return c.forEach((e=>{let n=((e,t,n)=>{let r=t+e*(n-t);return r>n?r-=t:r<t&&(r+=t),r})(d(),a,s),r=((e,n,r)=>{var i=e+n*Math.cos(t(r)),s=e+n*Math.sin(t(r));return[Math.round(i),Math.round(s)]})(o,n,e);p.push(r)})),{destPoints:p,seedValue:f}},r=e=>{let t="";var n=[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2];t+="M"+n[0]+","+n[1];for(var r=0;r<e.length;r++){var i=e[(r+1)%e.length],s=e[(r+2)%e.length];n=[(i[0]+s[0])/2,(i[1]+s[1])/2],t+="Q"+i[0]+","+i[1]+","+n[0]+","+n[1]}return t+="Z",t};e.exports=function(){let{size:e=400,growth:t=6,edges:i=6,seed:s=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{destPoints:a,seedValue:o}=n(e,t,i,s);return{path:r(a),seedValue:o}}},382:(e,t,n)=>{"use strict";var r=n(445),i=n(900),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;var a=2147483647;function o(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=o(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(j(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(j(e,SharedArrayBuffer)||e&&j(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=function(e){if(c.isBuffer(e)){var t=0|p(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Q(e.length)?o(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),o(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return B(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var s,a=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(s=n;s<o;s++)if(u(e,s)===u(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(n+c>o&&(n=o-c),s=n;s>=0;s--){for(var h=!0,f=0;f<c;f++)if(u(e,s+f)!==u(t,f)){h=!1;break}if(h)return s}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(Q(o))return a;e[n+a]=o}return a}function A(e,t,n,r){return F(M(t,e.length-n),e,n,r)}function k(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return F(K(t),e,n,r)}function S(e,t,n,r){return F(function(e,t){for(var n,r,i,s=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,a,o,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128===(192&(s=e[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:s=e[i+1],a=e[i+2],128===(192&s)&&128===(192&a)&&(c=(15&u)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],128===(192&s)&&128===(192&a)&&128===(192&o)&&(c=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?o(e):void 0!==t?"string"===typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(j(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(j(s,Uint8Array))i+s.length>r.length?c.from(s).copy(r,i):Uint8Array.prototype.set.call(r,s,i);else{if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i)}i+=s.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(j(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),o=Math.min(s,a),u=this.slice(r,i),l=e.slice(t,n),h=0;h<o;++h)if(u[h]!==l[h]){s=u[h],a=l[h];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function B(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function _(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=z[e[s]];return i}function T(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,s){return t=+t,n>>>=0,s||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function O(e,t,n,r,s){return t=+t,n>>>=0,s||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var s=n-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=c.isBuffer(e)?e:c.from(e,r),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%o]}return this};var L=/[^+/0-9A-Za-z-_]/g;function M(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&y(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,s,a,u;if(o(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"===typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,a;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},900:(e,t)=>{t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,c=(1<<o)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+h],h+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),s-=u}return(d?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*c-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*y}},716:(e,t,n)=>{"use strict";n.d(t,{A:()=>wr});var r,i=n(908),s=n.n(i),a=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const u=function(e){return"string"===typeof e&&c.test(e)};for(var l=[],h=0;h<256;++h)l.push((h+256).toString(16).substr(1));const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};const d=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return f(r)};var p=n(490),y=n(284),g=n.n(y);var m=Function.prototype.toString,w=m.call(Object);function b(e){var t,n,r;if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=b(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!==typeof Blob&&e instanceof Blob}(e))return function(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&m.call(n)==w}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=b(e[n]);"undefined"!==typeof i&&(t[n]=i)}return t}function v(e){var t=!1;return function(){if(t)throw new Error("once called more than once");t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}function A(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n=b(n);var i=this,s="function"===typeof n[n.length-1]&&n.pop(),a=new Promise((function(t,r){var s;try{var a=v((function(e,n){e?r(e):t(n)}));n.push(a),(s=e.apply(i,n))&&"function"===typeof s.then&&t(s)}catch(o){r(o)}}));return s&&a.then((function(e){s(null,e)}),s),a}}function k(e,t){return A((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var s=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var s=n[n.length-1];n[n.length-1]=function(n,r){var i=["api",e.name,t];i=i.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",i),s(n,r)}}}(s,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise((function(t,n){s.taskqueue.addTask((function(i){i?n(i):t(s[e].apply(s,r))}))}))}))}function E(e,t){for(var n={},r=0,i=t.length;r<i;r++){var s=t[r];s in e&&(n[s]=e[s])}return n}var S;function I(e){return e}function C(e){return[{ok:e}]}function x(e,t,n){var r=t.docs,i=new Map;r.forEach((function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])}));var s=i.size,a=0,o=new Array(s);function c(){++a===s&&function(){var e=[];o.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e})}()}var u=[];i.forEach((function(e,t){u.push(t)}));var l=0;function h(){if(!(l>=u.length)){var n=Math.min(l+6,u.length),r=u.slice(l,n);!function(n,r){n.forEach((function(n,s){var a=r+s,u=i.get(n),l=E(u[0],["atts_since","attachments"]);l.open_revs=u.map((function(e){return e.rev})),l.open_revs=l.open_revs.filter(I);var f=I;0===l.open_revs.length&&(delete l.open_revs,f=C),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(l[e]=t[e])})),e.get(n,l,(function(e,t){var r,i,s;r=e?[{error:e}]:f(t),i=n,s=r,o[a]={id:i,docs:s},c(),h()}))}))}(r,l),l+=r.length}}h()}try{localStorage.setItem("_pouch_check_localstorage",1),S=!!localStorage.getItem("_pouch_check_localstorage")}catch(br){S=!1}function B(){return S}const P="function"===typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};class _ extends(g()){constructor(){super(),this._listeners={},B()&&addEventListener("storage",(e=>{this.emit(e.key)}))}addListener(e,t,n,r){if(!this._listeners[t]){var i=!1,s=this;this._listeners[t]=a,this.on(e,a)}function a(){if(s._listeners[t])if(i)i="waiting";else{i=!0;var e=E(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))})).on("complete",(function(){"waiting"===i&&P(a),i=!1})).on("error",(function(){i=!1}))}}}removeListener(e,t){t in this._listeners&&(super.removeListener(e,this._listeners[t]),delete this._listeners[t])}notifyLocalWindows(e){B()&&(localStorage[e]="a"===localStorage[e]?"b":"a")}notify(e){this.emit(e),this.notifyLocalWindows(e)}}function T(e){if("undefined"!==typeof console&&"function"===typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function N(e){var t=0;return e||(t=2e3),function(e,t){var n=6e5;return e=parseInt(e,10)||0,(t=parseInt(t,10))!==t||t<=e?t=(e||1)<<1:t+=1,t>n&&(e=3e5,t=n),~~((t-e)*Math.random()+e)}(e,t)}function R(e,t){T("info","The above "+e+" is totally normal. "+t)}class D extends Error{constructor(e,t,n){super(),this.status=e,this.name=t,this.message=n,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new D(401,"unauthorized","Name or password is incorrect.");var U=new D(400,"bad_request","Missing JSON list of 'docs'"),O=new D(404,"not_found","missing"),L=new D(409,"conflict","Document update conflict"),M=new D(400,"bad_request","_id field must contain a string"),K=new D(412,"missing_id","_id is required for puts"),F=new D(400,"bad_request","Only reserved document ids may start with underscore."),j=(new D(412,"precondition_failed","Database not open"),new D(500,"unknown_error","Database encountered an unknown error")),Q=new D(500,"badarg","Some query argument is invalid"),z=(new D(400,"invalid_request","Request was invalid"),new D(400,"query_parse_error","Some query parameter is invalid")),H=new D(500,"doc_validation","Bad special document member"),G=new D(400,"bad_request","Something wrong with the request"),V=new D(400,"bad_request","Document must be a JSON object"),q=(new D(404,"not_found","Database not found"),new D(500,"indexed_db_went_bad","unknown")),J=(new D(500,"web_sql_went_bad","unknown"),new D(500,"levelDB_went_went_bad","unknown"),new D(403,"forbidden","Forbidden by design doc validate_doc_update function"),new D(400,"bad_request","Invalid rev format")),$=(new D(412,"file_exists","The database could not be created, the file already exists."),new D(412,"missing_stub","A pre-existing attachment stub wasn't found"));new D(413,"invalid_url","Provided URL is invalid");function W(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),r=0,i=n.length;r<i;r++)"function"!==typeof e[n[r]]&&(this[n[r]]=e[n[r]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=D.prototype,new n(t)}function Y(e){if("object"!==typeof e){var t=e;(e=j).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function Z(e){var t={},n=e.filter&&"function"===typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(i){var r="Filter function threw: "+i.toString();return W(G,r)}}(e.filter,r.doc,t);if("object"===typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var s in r.doc._attachments)Object.prototype.hasOwnProperty.call(r.doc._attachments,s)&&(r.doc._attachments[s].stub=!0)}else delete r.doc;return!0}}function X(e){var t;if(e?"string"!==typeof e?t=W(M):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=W(F)):t=W(K),t)throw t}function ee(e){return"boolean"===typeof e._remote?e._remote:"function"===typeof e.type&&(T("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function te(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function ne(e){var t=te(e);return t?t.join("/"):null}var re=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ie="queryKey",se=/(?:^|&)([^&=]*)=?([^&]*)/g,ae=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function oe(e){for(var t=ae.exec(e),n={},r=14;r--;){var i=re[r],s=t[r]||"",a=-1!==["user","password"].indexOf(i);n[i]=a?decodeURIComponent(s):s}return n[ie]={},n[re[12]].replace(se,(function(e,t,r){t&&(n[ie][t]=r)})),n}function ce(e,t){var n=[],r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function ue(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(r){var i=r._rev,s=n(r);return s?(s._id=t,s._rev=i,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(r){if(409!==r.status)throw r;return ue(e,t._id,n)}))}(e,s,n)):{updated:!1,rev:i}}))}var le=function(e){return atob(e)},he=function(e){return btoa(e)};function fe(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(br){if("TypeError"!==br.name)throw br;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function de(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function pe(e,t){return fe([de(e)],{type:t})}function ye(e,t){return pe(le(e),t)}function ge(e,t){var n=new FileReader,r="function"===typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function me(e,t){ge(e,(function(e){t(e)}))}function we(e,t){me(e,(function(e){t(he(e))}))}var be=self.setImmediate||self.setTimeout;function ve(e,t,n,r,i){(n>0||r<t.size)&&(t=t.slice(n,r)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),i()}))}function Ae(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function ke(e,t){var n="string"===typeof e,r=n?e.length:e.size,i=Math.min(32768,r),a=Math.ceil(r/i),o=0,c=n?new(s()):new(s().ArrayBuffer),u=n?Ae:ve;function l(){be(f)}function h(){var e=function(e){return he(e)}(c.end(!0));t(e),c.destroy()}function f(){var t=o*i,n=t+i;o++,u(c,e,t,n,o<a?l:h)}f()}function Ee(e){return s().hash(e)}function Se(e,t){if(!t)return d().replace(/-/g,"").toLowerCase();var n=Object.assign({},e);return delete n._rev_tree,Ee(JSON.stringify(n))}var Ie=d;function Ce(e){for(var t,n,r,i,s=e.rev_tree.slice();i=s.pop();){var a=i.ids,o=a[2],c=i.pos;if(o.length)for(var u=0,l=o.length;u<l;u++)s.push({pos:c+1,ids:o[u]});else{var h=!!a[1].deleted,f=a[0];t&&!(r!==h?r:n!==c?n<c:t<f)||(t=f,n=c,r=h)}}return n+"-"+t}function xe(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,s=n.ids,a=s[2],o=t(0===a.length,i,s[0],n.ctx,s[1]),c=0,u=a.length;c<u;c++)r.push({pos:i+1,ids:a[c],ctx:o})}function Be(e,t){return e.pos-t.pos}function Pe(e){var t=[];xe(e,(function(e,n,r,i,s){e&&t.push({rev:n+"-"+r,pos:n,opts:s})})),t.sort(Be).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function _e(e){for(var t=Ce(e),n=Pe(e.rev_tree),r=[],i=0,s=n.length;i<s;i++){var a=n[i];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function Te(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,s=t.ids,a=s[0],o=s[1],c=s[2],u=0===c.length,l=t.history?t.history.slice():[];l.push({id:a,opts:o}),u&&n.push({pos:i+1-l.length,ids:l});for(var h=0,f=c.length;h<f;h++)r.push({pos:i+1,ids:c[h],history:l})}return n.reverse()}function Ne(e,t){return e.pos-t.pos}function Re(e,t,n){var r=function(e,t,n){for(var r,i=0,s=e.length;i<s;)n(e[r=i+s>>>1],t)<0?i=r+1:s=r;return i}(e,t,n);e.splice(r,0,t)}function De(e,t){for(var n,r,i=t,s=e.length;i<s;i++){var a=e[i],o=[a.id,a.opts,[]];r?(r[2].push(o),r=o):n=r=o}return n}function Ue(e,t){return e[0]<t[0]?-1:1}function Oe(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),s=i.tree1,a=i.tree2;(s[1].status||a[1].status)&&(s[1].status="available"===s[1].status||"available"===a[1].status?"available":"missing");for(var o=0;o<a[2].length;o++)if(s[2][0]){for(var c=!1,u=0;u<s[2].length;u++)s[2][u][0]===a[2][o][0]&&(n.push({tree1:s[2][u],tree2:a[2][o]}),c=!0);c||(r="new_branch",Re(s[2],a[2][o],Ue))}else r="new_leaf",s[2][0]=a[2][o]}return{conflicts:r,tree:e}}function Le(e,t,n){var r,i=[],s=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var o=0,c=e.length;o<c;o++){var u=e[o];if(u.pos===t.pos&&u.ids[0]===t.ids[0])r=Oe(u.ids,t.ids),i.push({pos:u.pos,ids:r.tree}),s=s||r.conflicts,a=!0;else if(!0!==n){var l=u.pos<t.pos?u:t,h=u.pos<t.pos?t:u,f=h.pos-l.pos,d=[],p=[];for(p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var y=p.pop();if(0!==y.diff)for(var g=y.ids[2],m=0,w=g.length;m<w;m++)p.push({ids:g[m],diff:y.diff-1,parent:y.ids,parentIdx:m});else y.ids[0]===h.ids[0]&&d.push(y)}var b=d[0];b?(r=Oe(b.ids,h.ids),b.parent[2][b.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),s=s||r.conflicts,a=!0):i.push(u)}else i.push(u)}return a||i.push(t),i.sort(Ne),{tree:i,conflicts:s||"internal_node"}}function Me(e,t,n){var r=Le(e,t),i=function(e,t){for(var n,r,i=Te(e),s=0,a=i.length;s<a;s++){var o,c=i[s],u=c.ids;if(u.length>t){n||(n={});var l=u.length-t;o={pos:c.pos+l,ids:De(u,l)};for(var h=0;h<l;h++){var f=c.pos+h+"-"+u[h].id;n[f]=!0}}else o={pos:c.pos,ids:De(u,0)};r=r?Le(r,o,!0).tree:[o]}return n&&xe(r,(function(e,t,r){delete n[t+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function Ke(e){return e.ids}function Fe(e,t){t||(t=Ce(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(Ke);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function je(e){return"string"===typeof e&&e.startsWith("_local/")}function Qe(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Pe(t.rev_tree).map((function(e){return{rev:e.rev}})));var i={id:t.id,changes:r,doc:e};return Fe(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=_e(t),i.doc._conflicts.length||delete i.doc._conflicts),i}class ze extends(g()){constructor(e,t,n){super(),this.db=e;var r=(t=t?b(t):{}).complete=v(((t,n)=>{var r,s;t?(s="error",("listenerCount"in(r=this)?r.listenerCount(s):g().listenerCount(r,s))>0&&this.emit("error",t)):this.emit("complete",n),this.removeAllListeners(),e.removeListener("destroyed",i)}));n&&(this.on("complete",(function(e){n(null,e)})),this.on("error",n));const i=()=>{this.cancel()};e.once("destroyed",i),t.onChange=(e,t,n)=>{this.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(br){T("error",'Error in .on("change", function):',br)}}(this,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,r){t?n(t):e(r)}}));this.once("cancel",(function(){e.removeListener("destroyed",i),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?this.validateChanges(t):e.taskqueue.addTask((e=>{e?t.complete(e):this.isCancelled?this.emit("cancel"):this.validateChanges(t)}))}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(e){var t=e.complete;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(n=>{if(n)return t(n);this.doChanges(e)})):this.doChanges(e)}doChanges(e){var t=this,n=e.complete;if("live"in(e=b(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Qe,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&T("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"===typeof r.cancel){const e=this.cancel;this.cancel=function(){r.cancel();for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e.apply(t,i)}}}else this.db.info().then((t=>{this.isCancelled?n(null,{status:"cancelled"}):(e.since=t.update_seq,this.doChanges(e))}),n)}}function He(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function Ge(e,t){if(e._id===t._id){return(e._revisions?e._revisions.start:0)-(t._revisions?t._revisions.start:0)}return e._id<t._id?-1:1}function Ve(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch((function(){return!1})).then((function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,(function(t,n){t?r(t):r(null,n),P((function(){e._compactionQueue.shift(),e._compactionQueue.length&&Ve(e)}))}))}))}function qe(e,t,n){return e.get("_local/purges").then((function(e){const r=e.purgeSeq+1;return e.purges.push({docId:t,rev:n,purgeSeq:r}),e.purges.length>self.purged_infos_limit&&e.purges.splice(0,e.purges.length-self.purged_infos_limit),e.purgeSeq=r,e})).catch((function(e){if(404!==e.status)throw e;return{_id:"_local/purges",purges:[{docId:t,rev:n,purgeSeq:0}],purgeSeq:0}})).then((function(t){return e.put(t)}))}function Je(e){return null===e||"object"!==typeof e||Array.isArray(e)}const $e=/^\d+-[^-]*$/;function We(e){return"string"===typeof e&&$e.test(e)}class Ye extends(g()){_setup(){this.post=k("post",(function(e,t,n){if("function"===typeof t&&(n=t,t={}),Je(e))return n(W(V));this.bulkDocs({docs:[e]},t,He(n,e._id))})).bind(this),this.put=k("put",(function(e,t,n){if("function"===typeof t&&(n=t,t={}),Je(e))return n(W(V));if(X(e._id),"_rev"in e&&!We(e._rev))return n(W(J));if(je(e._id)&&"function"===typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);const r=n=>{"function"===typeof this._put&&!1!==t.new_edits?this._put(e,t,n):this.bulkDocs({docs:[e]},t,He(n,e._id))};t.force&&e._rev?(!function(){var n=e._rev.split("-"),r=n[1],i=parseInt(n[0],10)+1,s=Se();e._revisions={start:i,ids:[s,r]},e._rev=i+"-"+s,t.new_edits=!1}(),r((function(t){var r=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,r)}))):r(n)})).bind(this),this.putAttachment=k("putAttachment",(function(e,t,n,r,i){var s=this;function a(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r,revpos:++n},s.put(e)}return"function"===typeof i&&(i=r,r=n,n=null),"undefined"===typeof i&&(i=r,r=n,n=null),i||T("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==n)throw W(L);return a(e)}),(function(t){if(t.reason===O.message)return a({_id:e});throw t}))})).bind(this),this.removeAttachment=k("removeAttachment",(function(e,t,n,r){this.get(e,((e,i)=>{if(e)r(e);else if(i._rev===n){if(!i._attachments)return r();delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,this.put(i,r)}else r(W(L))}))})).bind(this),this.remove=k("remove",(function(e,t,n,r){var i;"string"===typeof t?(i={_id:e,_rev:t},"function"===typeof n&&(r=n,n={})):(i=e,"function"===typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(je(s._id)&&"function"===typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[s]},n,He(r,s._id))})).bind(this),this.revsDiff=k("revsDiff",(function(e,t,n){"function"===typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var i=0,s=new Map;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}r.forEach((function(t){this._getRevisionTree(t,(function(o,c){if(o&&404===o.status&&"missing"===o.message)s.set(t,{missing:e[t]});else{if(o)return n(o);!function(t,n){var r=e[t].slice(0);xe(n,(function(e,n,i,s,o){var c=n+"-"+i,u=r.indexOf(c);-1!==u&&(r.splice(u,1),"available"!==o.status&&a(t,c))})),r.forEach((function(e){a(t,e)}))}(t,c)}if(++i===r.length){var u={};return s.forEach((function(e,t){u[t]=e})),n(null,u)}}))}),this)})).bind(this),this.bulkGet=k("bulkGet",(function(e,t){x(this,e,t)})).bind(this),this.compactDocument=k("compactDocument",(function(e,t,n){this._getRevisionTree(e,((r,i)=>{if(r)return n(r);var s=function(e){var t={},n=[];return xe(e,(function(e,r,i,s){var a=r+"-"+i;return e&&(t[a]=0),void 0!==s&&n.push({from:s,to:a}),a})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(i),a=[],o=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),xe(i,(function(e,t,n,r,i){var s=t+"-"+n;"available"===i.status&&-1!==a.indexOf(s)&&o.push(s)})),this._doCompaction(e,o,n)}))})).bind(this),this.compact=k("compact",(function(e,t){"function"===typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&Ve(this)})).bind(this),this.get=k("get",(function(e,t,n){if("function"===typeof t&&(n=t,t={}),t=t||{},"string"!==typeof e)return n(W(M));if(je(e)&&"function"===typeof this._getLocal)return this._getLocal(e,n);var r=[];const i=()=>{var i=[],s=r.length;if(!s)return n(null,i);r.forEach((r=>{this.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)i.push({missing:r});else{for(var a,o=0,c=i.length;o<c;o++)if(i[o].ok&&i[o].ok._rev===t._rev){a=!0;break}a||i.push({ok:t})}--s||n(null,i)}))}))};if(!t.open_revs)return this._get(e,t,((r,i)=>{if(r)return r.docId=e,n(r);var s=i.doc,a=i.metadata,o=i.ctx;if(t.conflicts){var c=_e(a);c.length&&(s._conflicts=c)}if(Fe(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var u=s._rev.split("-"),l=parseInt(u[0],10),h=u[1],f=Te(a.rev_tree),d=null,p=0;p<f.length;p++){var y=f[p];const e=y.ids.findIndex((e=>e.id===h));(e===l-1||!d&&-1!==e)&&(d=y)}if(!d)return(r=new Error("invalid rev tree")).docId=e,n(r);const i=s._rev.split("-")[1],o=d.ids.findIndex((e=>e.id===i))+1;var g=d.ids.length-o;if(d.ids.splice(o,g),d.ids.reverse(),t.revs&&(s._revisions={start:d.pos+d.ids.length-1,ids:d.ids.map((function(e){return e.id}))}),t.revs_info){var m=d.pos+d.ids.length;s._revs_info=d.ids.map((function(e){return{rev:--m+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,b=Object.keys(w).length;if(0===b)return n(null,s);Object.keys(w).forEach((e=>{this._getAttachment(s._id,e,w[e],{binary:t.binary,metadata:a,ctx:o},(function(t,r){var i=s._attachments[e];i.data=r,delete i.stub,delete i.length,--b||n(null,s)}))}))}else{if(s._attachments)for(var v in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,v)&&(s._attachments[v].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);r=Pe(t).map((function(e){return e.rev})),i()}));else{if(!Array.isArray(t.open_revs))return n(W(j,"function_clause"));r=t.open_revs;for(var s=0;s<r.length;s++){if(!We(r[s]))return n(W(J))}i()}})).bind(this),this.getAttachment=k("getAttachment",(function(e,t,n,r){n instanceof Function&&(r=n,n={}),this._get(e,n,((i,s)=>i?r(i):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,n.metadata=s.metadata,void this._getAttachment(e,t,s.doc._attachments[t],n,r)):r(W(O))))})).bind(this),this.allDocs=k("allDocs",(function(e,t){if("function"===typeof e&&(t=e,e={}),e.skip="undefined"!==typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(W(z,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ee(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})).bind(this),this.close=k("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})).bind(this),this.info=k("info",(function(e){this._info(((t,n)=>{if(t)return e(t);n.db_name=n.db_name||this.name,n.auto_compaction=!(!this.auto_compaction||ee(this)),n.adapter=this.adapter,e(null,n)}))})).bind(this),this.id=k("id",(function(e){return this._id(e)})).bind(this),this.bulkDocs=k("bulkDocs",(function(e,t,n){if("function"===typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(W(U));for(var r=0;r<e.docs.length;++r){const t=e.docs[r];if(Je(t))return n(W(V));if("_rev"in t&&!We(t._rev))return n(W(J))}var i;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||T("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),i)return n(W(G,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||ee(s)||e.docs.sort(Ge),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var s=r[i];n._attachments[s]=E(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var a=e.docs.map((function(e){return e._id}));this._bulkDocs(e,t,(function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter((function(e){return e.error}))),!ee(s))for(var i=0,o=r.length;i<o;i++)r[i].id=r[i].id||a[i];n(null,r)}))})).bind(this),this.registerDependentDatabase=k("registerDependentDatabase",(function(e,t){var n=b(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var r=new this.constructor(e,n);ue(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:r})})).catch(t)})).bind(this),this.destroy=k("destroy",(function(e,t){"function"===typeof e&&(t=e,e={});var n=!("use_prefix"in this)||this.use_prefix;const r=()=>{this._destroy(e,((e,n)=>{if(e)return t(e);this._destroyed=!0,this.emit("destroyed"),t(null,n||{ok:!0})}))};if(ee(this))return r();this.get("_local/_pouch_dependentDbs",((e,i)=>{if(e)return 404!==e.status?t(e):r();var s=i.dependentDbs,a=this.constructor,o=Object.keys(s).map((e=>{var t=n?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,this.__opts).destroy()}));Promise.all(o).then(r,t)}))})).bind(this)}_compact(e,t){var n,r={return_docs:!1,last_seq:e.last_seq||0,since:e.last_seq||0},i=[],s=0;const a=e=>{this.activeTasks.update(n,{completed_items:++s}),i.push(this.compactDocument(e.id,0))},o=e=>{this.activeTasks.remove(n,e),t(e)},c=e=>{var r=e.last_seq;Promise.all(i).then((()=>ue(this,"_local/compaction",(e=>(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e))))).then((()=>{this.activeTasks.remove(n),t(null,{ok:!0})})).catch(o)};this.info().then((e=>{n=this.activeTasks.add({name:"database_compaction",total_items:e.update_seq-r.last_seq}),this.changes(r).on("change",a).on("complete",c).on("error",o)}))}changes(e,t){return"function"===typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new ze(this,e,t)}type(){return"function"===typeof this._type?this._type():this.adapter}}Ye.prototype.purge=k("_purge",(function(e,t,n){if("undefined"===typeof this._purge)return n(W(j,"Purge is not implemented in the "+this.adapter+" adapter."));var r=this;r._getRevisionTree(e,((i,s)=>{if(i)return n(i);if(!s)return n(W(O));let a;try{a=function(e,t){let n=[];const r=e.slice();let i;for(;i=r.pop();){const{pos:e,ids:s}=i,a=`${e}-${s[0]}`,o=s[2];if(n.push(a),a===t){if(0!==o.length)throw new Error("The requested revision is not a leaf");return n.reverse()}(0===o.length||o.length>1)&&(n=[]);for(let t=0,n=o.length;t<n;t++)r.push({pos:e+1,ids:o[t]})}if(0===n.length)throw new Error("The requested revision does not exist");return n.reverse()}(s,t)}catch(i){return n(i.message||i)}r._purge(e,a,((i,s)=>{if(i)return n(i);qe(r,e,t).then((function(){return n(null,s)}))}))}))}));class Ze{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()}fail(e){this.failed=e,this.execute()}ready(e){this.isReady=!0,this.db=e,this.execute()}addTask(e){this.queue.push(e),this.failed&&this.execute()}}function Xe(e,t){let n=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!(this instanceof n))return new n(...r);t.apply(this,r)};var r,i;return i=e,(r=n).prototype=Object.create(i.prototype,{constructor:{value:r}}),n}class et extends Ye{constructor(e,t){super(),this._setup(e,t)}_setup(e,t){if(super._setup(),t=t||{},e&&"object"===typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=b(t),this.auto_compaction=t.auto_compaction,this.purged_infos_limit=t.purged_infos_limit||1e3,this.prefix=tt.prefix,"string"!==typeof e)throw new Error("Missing/invalid DB name");var n=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=tt.adapters,i=tt.preferredAdapters,s=tt.prefix,a=t.adapter;if(!a)for(var o=0;o<i.length&&"idb"===(a=i[o])&&"websql"in r&&B()&&localStorage["_pouch__websqldb_"+s+e];++o)T("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=r[a];return{name:c&&"use_prefix"in c&&!c.use_prefix?e:s+e,adapter:a}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,this.name=e,this._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);this.taskqueue=new Ze,this.adapter=t.adapter,tt.adapters[t.adapter].call(this,t,(e=>{if(e)return this.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(this),this.emit("created",this),tt.emit("created",this.name),this.taskqueue.ready(this)}))}}const tt=Xe(et,(function(e,t){et.prototype._setup.call(this,e,t)}));var nt=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var it=new(g());!function(e){Object.keys(g().prototype).forEach((function(t){"function"===typeof g().prototype[t]&&(e[t]=it[t].bind(it))}));var t=e._destructionListeners=new Map;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"===typeof e)e(tt);else{if("object"!==typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=Object.assign({},this.__defaults)),tt},tt.defaults=function(e){let t=Xe(tt,(function(e,n){n=n||{},e&&"object"===typeof e&&(e=(n=e).name,delete n.name),n=Object.assign({},t.__defaults,n),tt.call(this,e,n)}));return t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=Object.assign({},this.__defaults,e),t},tt.fetch=function(e,t){return nt(e,t)},tt.prototype.activeTasks=tt.activeTasks=new class{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(e){const t=d();return this.tasks[t]={id:t,name:e.name,total_items:e.total_items,created_at:(new Date).toJSON()},t}get(e){return this.tasks[e]}remove(e,t){return delete this.tasks[e],this.tasks}update(e,t){const n=this.tasks[e];if("undefined"!==typeof n){const r={id:n.id,name:n.name,created_at:n.created_at,total_items:t.total_items||n.total_items,completed_items:t.completed_items||n.completed_items,updated_at:(new Date).toJSON()};this.tasks[e]=r}return this.tasks}};function st(e,t){for(var n=e,r=0,i=t.length;r<i;r++){if(!(n=n[t[r]]))break}return n}function at(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var s=e[r];r>0&&"\\"===e[r-1]&&("$"===s||"."===s)?n=n.substring(0,n.length-1)+s:"."===s?(t.push(n),n=""):n+=s}return t.push(n),t}var ot=["$or","$nor","$not"];function ct(e){return ot.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function lt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(r){var i=e[r];if("object"!==typeof i&&(i={$eq:i}),ct(r))if(i instanceof Array){if(n[r])return n[r]=!1,void(t[r]=i);var s=[];t[r].forEach((function(e){Object.keys(i).forEach((function(t){var n=i[t],r=Math.max(Object.keys(e).length,Object.keys(n).length),a=lt([e,n]);Object.keys(a).length<=r||s.push(a)}))})),t[r]=s}else t[r]=lt([i]);else{var a=t[r]=t[r]||{};Object.keys(i).forEach((function(e){var t=i[e];return"$gt"===e||"$gte"===e?function(e,t,n){if("undefined"!==typeof n.$eq)return;"undefined"!==typeof n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):"undefined"!==typeof n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,a):"$lt"===e||"$lte"===e?function(e,t,n){if("undefined"!==typeof n.$eq)return;"undefined"!==typeof n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):"undefined"!==typeof n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,a):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,a):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,a):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,a):void(a[e]=t)}))}}))})),t}function ht(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=lt(e[n].$and));var r=e[t];"object"===typeof r&&ht(r)}return e}function ft(e,t){for(var n in e){"$and"===n&&(t=!0);var r=e[n];"object"===typeof r&&(t=ft(r,t))}return t}function dt(e){var t=b(e);ft(t,!1)&&"$and"in(t=ht(t))&&(t=lt(t.$and)),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];"object"===typeof i&&null!==i||(e[r]={$eq:i})}}))})),"$not"in t&&(t.$not=lt([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],s=t[i];"object"===typeof s&&null!==s||(s={$eq:s}),t[i]=s}return pt(t),t}function pt(e){Object.keys(e).forEach((function(t){var n=e[t];Array.isArray(n)?n.forEach((function(e){e&&"object"===typeof e&&pt(e)})):"$ne"===t?e.$ne=[n]:"$regex"===t?e.$regex=[n]:n&&"object"===typeof n&&pt(n)}))}var yt=-324;function gt(e,t){if(e===t)return 0;e=mt(e),t=mt(t);var n=kt(e),r=kt(t);if(n-r!==0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=gt(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),s=0;s<i;s++){var a=gt(n[s],r[s]);if(0!==a)return a;if(0!==(a=gt(e[n[s]],t[r[s]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function mt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=mt(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];"undefined"!==typeof s&&(e[i]=mt(s))}}}return e}function wt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",s=(a=((r?-n:n)-yt).toString(),o="0",c=3,function(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}(a,o,c)+a);var a,o,c;i+=""+s;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var l=u.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=""+l,i}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,s="";if(t)for(;++r<i;)s+=bt(n[r]);else for(;++r<i;){var a=n[r];s+=bt(a)+bt(e[a])}return s}return""}function bt(e){return kt(e=mt(e))+""+wt(e)+"\0"}function vt(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var i="0"===e[t];t++;var s="",a=e.substring(t,t+3),o=parseInt(a,10)+yt;for(i&&(o=-o),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(n-=10),0!==o&&(n=parseFloat(n+"e"+o))}return{num:n,length:t-r}}function At(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,s=r.index;if(Array.isArray(i))i.push(n);else if(s===e.length-2){i[e.pop()]=n}else e.push(n)}}function kt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function Et(e,t,n){if(e=e.filter((function(e){return St(e.doc,t.selector,n)})),t.sort){var r=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return st(t,n)}))}return function(e,n){var r,i,s=gt(t(e.doc),t(n.doc));return 0!==s?s:(r=e.doc._id)<(i=n.doc._id)?-1:r>i?1:0}}(t.sort);e=e.sort(r),"string"!==typeof t.sort[0]&&"desc"===(i=t.sort[0])[ut(i)]&&(e=e.reverse())}var i;if("limit"in t||"skip"in t){var s=t.skip||0,a=("limit"in t?t.limit:e.length)+s;e=e.slice(s,a)}return e}function St(e,t,n){return n.every((function(n){var r=t[n],i=at(n),s=st(e,i);return ct(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return St(n,e,Object.keys(e))}));if("$not"===e)return!St(n,t,Object.keys(t));return!t.find((function(e){return St(n,e,Object.keys(e))}))}(n,r,e):It(r,e,i,s)}))}function It(e,t,n,r){return!e||("object"===typeof e?Object.keys(e).every((function(i){var s=e[i];if(0===i.indexOf("$"))return Ct(i,t,s,n,r);var a=at(i);if(void 0===r&&"object"!==typeof s&&a.length>0)return!1;var o=st(r,a);return"object"===typeof s?It(s,t,n,o):Ct("$eq",t,s,a,o)})):e===r)}function Ct(e,t,n,r,i){if(!_t[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return _t[e](t,n,r,i)}function xt(e){return"undefined"!==typeof e&&null!==e}function Bt(e){return"undefined"!==typeof e}function Pt(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===gt(t,e)})):0===gt(t,e)}))}var _t={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"===typeof r[0]&&null!==r[0]?r.some((function(e){return St(e,t,Object.keys(t))})):r.some((function(r){return It(t,e,n,r)}))))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"===typeof r[0]&&null!==r[0]?r.every((function(e){return St(e,t,Object.keys(t))})):r.every((function(r){return It(t,e,n,r)}))))},$eq:function(e,t,n,r){return Bt(r)&&0===gt(r,t)},$gte:function(e,t,n,r){return Bt(r)&&gt(r,t)>=0},$gt:function(e,t,n,r){return Bt(r)&&gt(r,t)>0},$lte:function(e,t,n,r){return Bt(r)&&gt(r,t)<=0},$lt:function(e,t,n,r){return Bt(r)&&gt(r,t)<0},$exists:function(e,t,n,r){return t?Bt(r):!Bt(r)},$mod:function(e,t,n,r){return xt(r)&&function(e,t){return"number"===typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(r,t)},$ne:function(e,t,n,r){return t.every((function(e){return 0!==gt(r,e)}))},$in:function(e,t,n,r){return xt(r)&&Pt(r,t)},$nin:function(e,t,n,r){return xt(r)&&!Pt(r,t)},$size:function(e,t,n,r){return xt(r)&&Array.isArray(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===gt(t,e)}))}))}(r,t)},$regex:function(e,t,n,r){return xt(r)&&"string"==typeof r&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(r,e)}))},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"===typeof e;case"number":return"number"===typeof e;case"string":return"string"===typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(r,t)}};function Tt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"===typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Nt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"===typeof e.filter&&("_view"===e.filter?e.view=ne(e.view):e.filter=ne(e.filter))}function Rt(e,t){return t.filter&&"string"===typeof t.filter&&!t.doc_ids&&!ee(e.db)}function Dt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!==typeof t.view){var r=W(G,"`view` filter parameter not found or invalid.");return n(r)}var i=te(t.view);e.db.get("_design/"+i[0],(function(r,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Y(r));var a=s&&s.views&&s.views[i[1]]&&s.views[i[1]].map;if(!a)return n(W(O,s.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=ce(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+a+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!==typeof t)throw new Error("Selector error: expected a JSON object");var n=Et([{doc:e}],{selector:t=dt(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=te(t.filter);e.db.get("_design/"+s[0],(function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Y(r));var a=i&&i.filters&&i.filters[s[1]];if(!a)return n(W(O,i&&i.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=ce('"use strict";\nreturn '+a+";",{}),e.doChanges(t)}))}}function Ut(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Tt,normalize:Nt,shouldFilter:Rt,filter:Dt}})),tt.version="9.0.0";var Ot=Ut(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Lt=Ut(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return W(J);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Kt(e,t,n){var r,i,s;n||(n={deterministic_revs:!0});var a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=Ie()),i=Se(e,n.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[i,a,[]]]]}],r=s.prefix+1}else e._rev_tree=[{pos:1,ids:[i,a,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],s=1,a=r.length;s<a;s++)i=[r[s],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,a),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;r=s.prefix,i=s.id,e._rev_tree=[{pos:r,ids:[i,a,[]]}]}X(e._id),e._rev=r+"-"+i;var o={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var u="_"===c[0];if(u&&!Ot[c]){var l=W(H,c);throw l.message=H.message+": "+c,l}u&&!Lt[c]?o.metadata[c.slice(1)]=e[c]:o.data[c]=e[c]}return o}function Ft(e,t,n){var r=function(e){try{return le(e)}catch(br){return{error:W(Q,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?pe(r,e.content_type):"base64"===t?he(r):r,ke(r,(function(t){e.digest="md5-"+t,n()}))}function jt(e,t,n){if(e.stub)return n();"string"===typeof e.data?Ft(e,t,n):function(e,t,n){ke(e.data,(function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?me(e.data,(function(t){e.data=t,n()})):"base64"===t?we(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Qt(e,t,n,r,i,s,a,o){if(function(e,t){for(var n,r=e.slice(),i=t.split("-"),s=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===s&&n.ids[0]===a)return!0;for(var o=n.ids[2],c=0,u=o.length;c<u;c++)r.push({pos:n.pos+1,ids:o[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!o)return r[i]=n,s();var c=t.winningRev||Ce(t),u="deleted"in t?t.deleted:Fe(t,c),l="deleted"in n.metadata?n.metadata.deleted:Fe(n.metadata),h=/^1-/.test(n.metadata.rev);if(u&&!l&&o&&h){var f=n.data;f._rev=c,f._id=n.metadata.id,n=Kt(f,o)}var d=Me(t.rev_tree,n.metadata.rev_tree[0],e);if(o&&(u&&l&&"new_leaf"!==d.conflicts||!u&&"new_leaf"!==d.conflicts||u&&!l&&"new_branch"===d.conflicts)){var p=W(L);return r[i]=p,s()}var y=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Ce(n.metadata),m=Fe(n.metadata,g),w=u===m?0:u<m?-1:1;a(n,g,m,y===g?m:Fe(n.metadata,y),!0,w,i,s)}function zt(e,t,n,r,i,s,a,o,c){e=e||1e3;var u=o.new_edits,l=new Map,h=0,f=t.length;function d(){++h===f&&c&&c()}t.forEach((function(e,t){if(e._id&&je(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";n[r](e,{ctx:i},(function(e,n){s[t]=e||n,d()}))}else{var a=e.metadata.id;l.has(a)?(f--,l.get(a).push([e,t])):l.set(a,[[e,t]])}})),l.forEach((function(t,n){var i=0;function c(){++i<t.length?l():d()}function l(){var l=t[i],h=l[0],f=l[1];if(r.has(n))Qt(e,r.get(n),h,s,f,c,a,u);else{var d=Me([],h.metadata.rev_tree[0],e);h.metadata.rev_tree=d.tree,h.stemmedRevs=d.stemmedRevs||[],function(e,t,n){var r=Ce(e.metadata),i=Fe(e.metadata,r);if("was_delete"in o&&i)return s[t]=W(O,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var c=W(L);return s[t]=c,n()}a(e,r,i,i,!1,i?0:1,t,n)}(h,f,c)}}l()}))}var Ht="document-store",Gt="by-sequence",Vt="attach-store",qt="attach-seq-store",Jt="meta-store",$t="local-store",Wt="detect-blob-support";function Yt(e){try{return JSON.stringify(e)}catch(br){return p.stringify(e)}}function Zt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(W(q,n,t.type))}}function Xt(e,t,n){return{data:Yt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function en(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(br){return p.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function tn(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function nn(e,t,n,r){n?r(e?"string"!==typeof e?e:ye(e,t):fe([""],{type:t})):e?"string"!==typeof e?ge(e,(function(e){r(he(e))})):r(e):r("")}function rn(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var s=0;function a(){++s===i.length&&r&&r()}i.forEach((function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(Vt).get(i).onsuccess=function(e){r.body=e.target.result.body,a()}}(e,r):(e._attachments[r].stub=!0,a())}))}function sn(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var r=e.doc._attachments[n];if("body"in r){var i=r.body,s=r.content_type;return new Promise((function(a){nn(i,s,t,(function(t){e.doc._attachments[n]=Object.assign(E(r,["digest","content_type"]),{data:t}),a()}))}))}})))}})))}function an(e,t,n){var r=[],i=n.objectStore(Gt),s=n.objectStore(Vt),a=n.objectStore(qt),o=e.length;function c(){--o||function(){if(!r.length)return;r.forEach((function(e){a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}e.forEach((function(e){var n=i.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!==typeof t)return c();i.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),a.delete(t.primaryKey),t.continue()}else c()}}}))}function on(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var cn=new _;function un(e,t,n,r,i,s){for(var a,o,c,u,l,h,f,d,p=t.docs,y=0,g=p.length;y<g;y++){var m=p[y];m._id&&je(m._id)||(m=p[y]=Kt(m,n.new_edits,e)).error&&!f&&(f=m)}if(f)return s(f);var w=!1,b=0,v=new Array(p.length),A=new Map,k=!1,E=r._meta.blobSupport?"blob":"base64";function S(){w=!0,I()}function I(){d&&w&&(d.docCount+=b,h.put(d))}function C(){k||(cn.notify(r._meta.name),s(null,v))}function x(e,t,n,r,i,s,a,o){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,r&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,r,i,s){var a=e.data,o=0,c=Object.keys(a._attachments);function l(){o===c.length&&B(e,t,n,r,i,s)}function h(){o++,l()}c.forEach((function(n){var r=e.data._attachments[n];if(r.stub)o++,l();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){var r=u.count(e);r.onsuccess=function(r){if(r.target.result)return n();var i={digest:e,body:t};u.put(i).onsuccess=n}}(r.digest,i,h)}}))}(e,t,n,i,a,o);b+=s,I(),B(e,t,n,i,a,o)}function B(e,t,n,i,s,u){var h=e.data,f=e.metadata;function d(s){var c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=c.concat(function(e){var t=[];return xe(e.rev_tree,(function(e,n,r,i,s){"available"!==s.status||e||(t.push(n+"-"+r),s.status="missing")})),t}(e.metadata))),c&&c.length&&an(c,e.metadata.id,a),f.seq=s.target.result;var u=Xt(f,t,n);o.put(u).onsuccess=p}function p(){v[s]={ok:!0,id:f.id,rev:f.rev},A.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();function s(){++r===i.length&&n()}function a(n){var r=e.data._attachments[n].digest,i=l.put({seq:t,digestSeq:r+"::"+t});i.onsuccess=s,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var o=0;o<i.length;o++)a(i[o])}(e,f.seq,u)}h._doc_id_rev=f.id+"::"+f.rev,delete h._id,delete h._rev;var y=c.put(h);y.onsuccess=d,y.onerror=function(e){e.preventDefault(),e.stopPropagation(),c.index("_doc_id_rev").getKey(h._doc_id_rev).onsuccess=function(e){c.put(h,e.target.result).onsuccess=d}}}!function(e,t,n){if(!e.length)return n();var r,i=0;function s(){i++,e.length===i&&(r?n(r):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!n.length)return s();function a(e){r=e,++i===n.length&&s()}for(var o in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,o)&&jt(e.data._attachments[o],t,a)}))}(p,E,(function(t){if(t)return s(t);!function(){var t=on(i,[Ht,Gt,Vt,$t,qt,Jt],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Zt(s),a.ontimeout=Zt(s),a.oncomplete=C,o=a.objectStore(Ht),c=a.objectStore(Gt),u=a.objectStore(Vt),l=a.objectStore(qt),(h=a.objectStore(Jt)).get(Jt).onsuccess=function(e){d=e.target.result,I()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)}))})),!t.length)return e();var n,r=0;function i(){++r===t.length&&e(n)}t.forEach((function(e){!function(e,t){var n=u.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=W($,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(e,(function(e){e&&!n&&(n=e),i()}))}))}((function(t){if(t)return k=!0,s(t);!function(){if(!p.length)return;var t=0;function i(){++t===p.length&&zt(e.revs_limit,p,r,A,a,v,x,n,S)}function s(e){var t=en(e.target.result);t&&A.set(t.id,t),i()}for(var c=0,u=p.length;c<u;c++){var l=p[c];if(l._id&&je(l._id))i();else o.get(l.metadata.id).onsuccess=s}}()}))}()}))}function ln(e,t,n,r,i){var s,a,o;function c(e){a=e.target.result,s&&i(s,a,o)}function u(e){s=e.target.result,a&&i(s,a,o)}function l(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}-1===r&&(r=1e3),"function"===typeof e.getAll&&"function"===typeof e.getAllKeys&&r>1&&!n?(o={continue:function(){if(!s.length)return i();var n,o=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(o,t.upper,!0,t.upperOpen)}catch(br){if("DataError"===br.name&&0===br.code)return i()}else n=IDBKeyRange.lowerBound(o,!0);t=n,s=null,a=null,e.getAll(t,r).onsuccess=c,e.getAllKeys(t,r).onsuccess=u}},e.getAll(t,r).onsuccess=c,e.getAllKeys(t,r).onsuccess=u):n?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}function hn(e,t,n){var r,i,s="startkey"in e&&e.startkey,a="endkey"in e&&e.endkey,o="key"in e&&e.key,c="keys"in e&&e.keys,u=e.skip||0,l="number"===typeof e.limit?e.limit:-1,h=!1!==e.inclusive_end;if(!c&&(r=function(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(br){return{error:br}}return null}(s,a,h,o,e.descending),(i=r&&r.error)&&("DataError"!==i.name||0!==i.code)))return n(W(q,i.name,i.message));var f=[Ht,Gt,Jt];e.attachments&&f.push(Vt);var d=on(t,f,"readonly");if(d.error)return n(d.error);var p=d.txn;p.oncomplete=function(){e.attachments?sn(A,e.binary).then(I):I()},p.onabort=Zt(n);var y,g,m=p.objectStore(Ht),w=p.objectStore(Gt),b=p.objectStore(Jt),v=w.index("_doc_id_rev"),A=[];function k(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(A.push(r),r.value.deleted=!0,r.doc=null):u--<=0&&(A.push(r),e.include_docs&&function(t,n,r){var i=t.id+"::"+r;v.get(i).onsuccess=function(r){if(n.doc=tn(r.target.result)||{},e.conflicts){var i=_e(t);i.length&&(n.doc._conflicts=i)}rn(n.doc,e,p)}}(n,r,t))}function E(e){for(var t=0,n=e.length;t<n&&A.length!==l;t++){var r=e[t];if(r.error&&c)A.push(r);else{var i=en(r);k(i.winningRev,i)}}}function S(e,t,n){n&&(E(t),A.length<l&&n.continue())}function I(){var t={total_rows:y,offset:e.skip,rows:A};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return b.get(Jt).onsuccess=function(e){y=e.target.result.docCount},e.update_seq&&(w.openKeyCursor(null,"prev").onsuccess=e=>{var t=e.target.result;t&&t.key&&(g=t.key)}),i||0===l?void 0:c?function(e,t,n){var r=new Array(e.length),i=0;e.forEach((function(s,a){t.get(s).onsuccess=function(t){t.target.result?r[a]=t.target.result:r[a]={key:s,error:"not_found"},++i===e.length&&n(e,r,{})}}))}(c,m,S):-1===l?function(e,t,n){if("function"!==typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(m,r,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),E(n)})):void ln(m,r,e.descending,l+u,S)}var fn=!1,dn=[];function pn(){!fn&&dn.length&&(fn=!0,dn.shift()())}function yn(e,t,n,r){if((e=b(e)).continuous){var i=n+":"+Ie();return cn.addListener(n,i,t,e),cn.notify(n),{cancel:function(){cn.removeListener(n,i)}}}var s=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var a=e.since,o="limit"in e?e.limit:-1;0===o&&(o=1);var c,u,l,h,f=[],d=0,p=Z(e),y=new Map;function g(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var i=e._id+"::"+n.winningRev;h.get(i).onsuccess=function(e){r(n,tn(e.target.result))}}function m(){e.complete(null,{results:f,last_seq:a})}var w=[Ht,Gt];e.attachments&&w.push(Vt);var v=on(r,w,"readonly");if(v.error)return e.complete(v.error);(c=v.txn).onabort=Zt(e.complete),c.oncomplete=function(){!e.continuous&&e.attachments?sn(f).then(m):m()},u=c.objectStore(Gt),l=c.objectStore(Ht),h=u.index("_doc_id_rev"),ln(u,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,o,(function(t,n,r){if(r&&t.length){var i=new Array(t.length),u=new Array(t.length),h=0;n.forEach((function(n,a){!function(e,t,n){if(s&&!s.has(e._id))return n();var r=y.get(e._id);if(r)return g(e,t,r,n);l.get(e._id).onsuccess=function(i){r=en(i.target.result),y.set(e._id,r),g(e,t,r,n)}}(tn(n),t[a],(function(n,s){u[a]=n,i[a]=s,++h===t.length&&function(){for(var t=[],n=0,s=i.length;n<s&&d!==o;n++){var a=i[n];if(a){var c=u[n];t.push(m(c,a))}}Promise.all(t).then((function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),d!==o&&r.continue()}()}))}))}function m(t,n){var r=e.processChange(n,t,e);a=r.seq=t.seq;var i=p(r);return"object"===typeof i?Promise.reject(i):i?(d++,e.return_docs&&f.push(r),e.attachments&&e.include_docs?new Promise((function(t){rn(n,e,c,(function(){sn([r],e.binary).then((function(){t(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}var gn,mn=new Map,wn=new Map;function bn(e,t){var n=this;!function(e,t,n){dn.push((function(){e((function(e,r){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(t,e,r,n),fn=!1,P((function(){pn()}))}))})),pn()}((function(t){!function(e,t,n){var r=t.name,i=null,s=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,n)}}function o(e){var t=e.createObjectStore(Ht,{keyPath:"id"});e.createObjectStore(Gt,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Vt,{keyPath:"digest"}),e.createObjectStore(Jt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Wt),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore($t,{keyPath:"_id"});var n=e.createObjectStore(qt,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function c(e,t){var n=e.objectStore(Ht);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,s=Fe(i);i.deletedOrLocal=s?"1":"0",n.put(i),r.continue()}else t()}}function u(e){e.createObjectStore($t,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function l(e,t){var n=e.objectStore($t),r=e.objectStore(Ht),i=e.objectStore(Gt);r.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var a=s.value,o=a.id,c=je(o),u=Ce(a);if(c){var l=o+"::"+u,h=o+"::",f=o+"::~",d=i.index("_doc_id_rev"),p=IDBKeyRange.bound(h,f,!1,!1),y=d.openCursor(p);y.onsuccess=function(e){if(y=e.target.result){var t=y.value;t._doc_id_rev===l&&n.put(t),i.delete(y.primaryKey),y.continue()}else r.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function h(e){var t=e.createObjectStore(qt,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function f(e,t){var n=e.objectStore(Gt),r=e.objectStore(Vt),i=e.objectStore(qt);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,s=n.primaryKey,a=Object.keys(r._attachments||{}),o={},c=0;c<a.length;c++){o[r._attachments[a[c]].digest]=!0}var u=Object.keys(o);for(c=0;c<u.length;c++){var l=u[c];i.put({seq:s,digestSeq:l+"::"+s})}n.continue()}}}function d(e){function t(e){return e.data?en(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(Gt),r=e.objectStore(Ht);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var s=t(i.value);if(s.winningRev=s.winningRev||Ce(s),s.seq)return o();a()}function a(){var e=s.id+"::",t=s.id+"::\uffff",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}function o(){var e=Xt(s,s.winningRev,s.deleted);r.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=A((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,r,s){un(t,n,r,e,i,a(s))},e._get=function(e,t,n){var r,s,a,o=t.ctx;if(!o){var c=on(i,[Ht,Gt,Vt],"readonly");if(c.error)return n(c.error);o=c.txn}function u(){n(a,{doc:r,metadata:s,ctx:o})}o.objectStore(Ht).get(e).onsuccess=function(e){if(!(s=en(e.target.result)))return a=W(O,"missing"),u();var n;if(t.rev)n=t.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,s=n.ids,a=s[0],o=s[1],c=s[2],u=0===c.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:i,opts:o}),u)for(var h=0,f=l.length;h<f;h++){var d=l[h];if(d.pos+"-"+d.id===e)return i+"-"+a}for(var p=0,y=c.length;p<y;p++)r.push({pos:i+1,ids:c[p],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,Fe(s))return a=W(O,"deleted"),u();var i=o.objectStore(Gt),c=s.id+"::"+n;i.index("_doc_id_rev").get(c).onsuccess=function(e){if((r=e.target.result)&&(r=tn(r)),!r)return a=W(O,"missing"),u();u()}}},e._getAttachment=function(e,t,n,r,s){var a;if(r.ctx)a=r.ctx;else{var o=on(i,[Ht,Gt,Vt],"readonly");if(o.error)return s(o.error);a=o.txn}var c=n.digest,u=n.content_type;a.objectStore(Vt).get(c).onsuccess=function(e){nn(e.target.result.body,u,r.binary,(function(e){s(null,e)}))}},e._info=function(t){var n,r,s=on(i,[Jt,Gt],"readonly");if(s.error)return t(s.error);var a=s.txn;a.objectStore(Jt).get(Jt).onsuccess=function(e){r=e.target.result.docCount},a.objectStore(Gt).openKeyCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},a.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){hn(e,i,a(t))},e._changes=function(t){return yn(t,e,r,i)},e._close=function(e){i.close(),mn.delete(r),e()},e._getRevisionTree=function(e,t){var n=on(i,[Ht],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Ht).get(e).onsuccess=function(e){var n=en(e.target.result);n?t(null,n.rev_tree):t(W(O))}},e._doCompaction=function(e,t,n){var r=on(i,[Ht,Gt,Vt,qt],"readwrite");if(r.error)return n(r.error);var s=r.txn;s.objectStore(Ht).get(e).onsuccess=function(n){var r=en(n.target.result);xe(r.rev_tree,(function(e,n,r,i,s){var a=n+"-"+r;-1!==t.indexOf(a)&&(s.status="missing")})),an(t,e,s);var i=r.winningRev,a=r.deleted;s.objectStore(Ht).put(Xt(r,i,a))},s.onabort=Zt(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=on(i,[$t],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore($t).get(e);r.onerror=Zt(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(W(O))}},e._putLocal=function(e,t,n){"function"===typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,s=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var a,o=t.ctx;if(!o){var c=on(i,[$t],"readwrite");if(c.error)return n(c.error);(o=c.txn).onerror=Zt(n),o.oncomplete=function(){a&&n(null,a)}}var u,l=o.objectStore($t);r?(u=l.get(s)).onsuccess=function(i){var s=i.target.result;s&&s._rev===r?l.put(e).onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)}:n(W(L))}:((u=l.add(e)).onerror=function(e){n(W(L)),e.preventDefault(),e.stopPropagation()},u.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)})},e._removeLocal=function(e,t,n){"function"===typeof t&&(n=t,t={});var r,s=t.ctx;if(!s){var a=on(i,[$t],"readwrite");if(a.error)return n(a.error);(s=a.txn).oncomplete=function(){r&&n(null,r)}}var o=e._id,c=s.objectStore($t),u=c.get(o);u.onerror=Zt(n),u.onsuccess=function(i){var s=i.target.result;s&&s._rev===e._rev?(c.delete(o),r={ok:!0,id:o,rev:"0-0"},t.ctx&&n(null,r)):n(W(O))}},e._destroy=function(e,t){cn.removeAllListeners(r);var n=wn.get(r);n&&n.result&&(n.result.close(),mn.delete(r));var i=indexedDB.deleteDatabase(r);i.onsuccess=function(){wn.delete(r),B()&&r in localStorage&&delete localStorage[r],t(null,{ok:!0})},i.onerror=Zt(t)};var p=mn.get(r);if(p)return i=p.idb,e._meta=p.global,P((function(){n(null,e)}));var y=indexedDB.open(r,5);wn.set(r,y),y.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return o(t);var n=e.currentTarget.transaction;e.oldVersion<3&&u(t),e.oldVersion<4&&h(t);var r=[c,l,f,d],i=e.oldVersion;function s(){var e=r[i-1];i++,e&&e(n,s)}s()},y.onsuccess=function(t){(i=t.target.result).onversionchange=function(){i.close(),mn.delete(r)},i.onabort=function(e){T("error","Database has a global failure",e.target.error),s=e.target.error,i.close(),mn.delete(r)};var a,o,c,u,l=i.transaction([Jt,Wt,Ht],"readwrite"),h=!1;function f(){"undefined"!==typeof c&&h&&(e._meta={name:r,instanceId:u,blobSupport:c},mn.set(r,{idb:i,global:e._meta}),n(null,e))}function d(){if("undefined"!==typeof o&&"undefined"!==typeof a){var e=r+"_id";e in a?u=a[e]:a[e]=u=Ie(),a.docCount=o,l.objectStore(Jt).put(a)}}l.objectStore(Jt).get(Jt).onsuccess=function(e){a=e.target.result||{id:Jt},d()},function(e,t){e.objectStore(Ht).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(l,(function(e){o=e,d()})),gn||(gn=function(e,t,n){return new Promise((function(r){var i=fe([""]);let s;if("function"===typeof n){const r=n(i);s=e.objectStore(t).put(r)}else{const r=n;s=e.objectStore(t).put(i,r)}s.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||parseInt(e[1],10)>=43)},s.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)}})).catch((function(){return!1}))}(l,Wt,"key")),gn.then((function(e){c=e,f()})),l.oncomplete=function(){h=!0,f()},l.onabort=Zt(n)},y.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",T("error",t),n(W(q,t))}}(n,e,t)}),t,n.constructor)}bn.valid=function(){try{return"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(br){return!1}};const vn=5e3,An={};function kn(e){const t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){const t=n[e];t.data=ye(t.data,t.content_type)}))}function En(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Sn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){const n=e._attachments[t];if(n.data&&"string"!==typeof n.data)return new Promise((function(e){we(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function In(e,t){if(function(e){if(!e.prefix)return!1;const t=oe(e.prefix).protocol;return"http"===t||"https"===t}(t)){const n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}const n=oe(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});const r=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=r.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=r.join("/"),n}function Cn(e,t){return xn(e,e.db+"/"+t)}function xn(e,t){const n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function Bn(e){const t=Object.keys(e);return 0===t.length?"":"?"+t.map((t=>t+"="+encodeURIComponent(e[t]))).join("&")}function Pn(e,t){const n=this,r=In(e.name,e),i=Cn(r,"");e=b(e);const s=async function(t,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",e.auth||r.auth){const t=e.auth||r.auth,i=t.username+":"+t.password,s=he(unescape(encodeURIComponent(i)));n.headers.set("Authorization","Basic "+s)}const i=e.headers||{};Object.keys(i).forEach((function(e){n.headers.append(e,i[e])})),function(e){const t="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),i=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(n||r||i)&&s}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now());const s=e.fetch||nt;return await s(t,n)};function a(e,t){return k(e,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];u().then((function(){return t.apply(this,n)})).catch((function(e){n.pop()(e)}))})).bind(n)}async function o(e,t){const n={};(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json");const r=await s(e,t);n.ok=r.ok,n.status=r.status;const i=await r.json();if(n.data=i,!n.ok){n.data.status=n.status;throw Y(n.data)}return Array.isArray(n.data)&&(n.data=n.data.map((function(e){return e.error||e.missing?Y(e):e}))),n}let c;async function u(){return e.skip_setup?Promise.resolve():c||(c=o(i).catch((function(e){return e&&e.status&&404===e.status?(R(404,"PouchDB is just detecting if the remote exists."),o(i,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)})),c.catch((function(){c=null})),c)}function l(e){return e.split("/").map(encodeURIComponent).join("/")}P((function(){t(null,n)})),n._remote=!0,n.type=function(){return"http"},n.id=a("id",(async function(e){let t;try{const e=await s(xn(r,""));t=await e.json()}catch(n){t={}}e(null,t&&t.uuid?t.uuid+r.db:Cn(r,""))})),n.compact=a("compact",(async function(e,t){"function"===typeof e&&(t=e,e={}),e=b(e),await o(Cn(r,"_compact"),{method:"POST"}),function r(){n.info((function(n,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)}))}()})),n.bulkGet=k("bulkGet",(function(e,t){const n=this;async function i(t){const n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0);try{const i=await o(Cn(r,"_bulk_get"+Bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})});e.attachments&&e.binary&&i.data.results.forEach((function(e){e.docs.forEach(kn)})),t(null,i.data)}catch(i){t(i)}}function s(){const r=Math.ceil(e.docs.length/50);let i=0;const s=new Array(r);function a(e){return function(n,a){s[e]=a.results,++i===r&&t(null,{results:s.flat()})}}for(let t=0;t<r;t++){const r=E(e,["revs","attachments","binary","latest"]);r.docs=e.docs.slice(50*t,Math.min(e.docs.length,50*(t+1))),x(n,r,a(t))}}const a=xn(r,""),c=An[a];"boolean"!==typeof c?i((function(e,n){e?(An[a]=!1,R(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(An[a]=!0,t(null,n))})):c?i(t):s()})),n._info=async function(e){try{await u();const t=await s(Cn(r,"")),n=await t.json();n.host=Cn(r,""),e(null,n)}catch(t){e(t)}},n.fetch=async function(e,t){await u();const n="/"===e.substring(0,1)?xn(r,e.substring(1)):Cn(r,e);return s(n,t)},n.get=a("get",(async function(e,t,n){"function"===typeof t&&(n=t,t={});const i={};function a(e){const n=e._attachments,i=n&&Object.keys(n);if(!n||!i.length)return;return function(e,t){return new Promise((function(n,r){var i,s=0,a=0,o=0,c=e.length;function u(){++o===c?i?r(i):n():f()}function l(){s--,u()}function h(e){s--,i=i||e,u()}function f(){for(;s<t&&a<c;)s++,e[a++]().then(l,h)}f()}))}(i.map((function(i){return function(){return async function(i){const a=n[i],o=En(e._id)+"/"+l(i)+"?rev="+e._rev,c=await s(Cn(r,o));let u,h;if(u="buffer"in c?await c.buffer():await c.blob(),t.binary){const e=Object.getOwnPropertyDescriptor(u.__proto__,"type");e&&!e.set||(u.type=a.content_type),h=u}else h=await new Promise((function(e){we(u,e)}));delete a.stub,delete a.length,a.data=h}(i)}})),5)}(t=b(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=En(e);const c=Cn(r,e+Bn(i));try{const e=await o(c);t.attachments&&await(u=e.data,Array.isArray(u)?Promise.all(u.map((function(e){if(e.ok)return a(e.ok)}))):a(u)),n(null,e.data)}catch(h){h.docId=e,n(h)}var u})),n.remove=a("remove",(async function(e,t,n,i){let s;"string"===typeof t?(s={_id:e,_rev:t},"function"===typeof n&&(i=n,n={})):(s=e,"function"===typeof t?(i=t,n={}):(i=n,n=t));const a=s._rev||n.rev,c=Cn(r,En(s._id))+"?rev="+a;try{i(null,(await o(c,{method:"DELETE"})).data)}catch(u){i(u)}})),n.getAttachment=a("getAttachment",(async function(e,t,n,i){"function"===typeof n&&(i=n,n={});const a=n.rev?"?rev="+n.rev:"",o=Cn(r,En(e))+"/"+l(t)+a;let c;try{const e=await s(o,{method:"GET"});if(!e.ok)throw e;let t;if(c=e.headers.get("content-type"),t="undefined"===typeof process||process.browser||"function"!==typeof e.buffer?await e.blob():await e.buffer(),"undefined"!==typeof process&&!process.browser){const e=Object.getOwnPropertyDescriptor(t.__proto__,"type");e&&!e.set||(t.type=c)}i(null,t)}catch(u){i(u)}})),n.removeAttachment=a("removeAttachment",(async function(e,t,n,i){const s=Cn(r,En(e)+"/"+l(t))+"?rev="+n;try{i(null,(await o(s,{method:"DELETE"})).data)}catch(a){i(a)}})),n.putAttachment=a("putAttachment",(async function(e,t,n,i,s,a){"function"===typeof s&&(a=s,s=i,i=n,n=null);const c=En(e)+"/"+l(t);let u=Cn(r,c);if(n&&(u+="?rev="+n),"string"===typeof i){let e;try{e=le(i)}catch(h){return a(W(Q,"Attachment is not a valid base64 string"))}i=e?pe(e,s):""}try{a(null,(await o(u,{headers:new rt({"Content-Type":s}),method:"PUT",body:i})).data)}catch(f){a(f)}})),n._bulkDocs=async function(e,t,n){e.new_edits=t.new_edits;try{await u(),await Promise.all(e.docs.map(Sn));n(null,(await o(Cn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)})).data)}catch(i){n(i)}},n._put=async function(e,t,n){try{await u(),await Sn(e);n(null,(await o(Cn(r,En(e._id)),{method:"PUT",body:JSON.stringify(e)})).data)}catch(i){i.docId=e&&e._id,n(i)}},n.allDocs=a("allDocs",(async function(e,t){"function"===typeof e&&(t=e,e={});const n={};let i,s="GET";(e=b(e)).conflicts&&(n.conflicts=!0),e.update_seq&&(n.update_seq=!0),e.descending&&(n.descending=!0),e.include_docs&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.key&&(n.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(n.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(n.endkey=JSON.stringify(e.endkey)),"undefined"!==typeof e.inclusive_end&&(n.inclusive_end=!!e.inclusive_end),"undefined"!==typeof e.limit&&(n.limit=e.limit),"undefined"!==typeof e.skip&&(n.skip=e.skip);const a=Bn(n);"undefined"!==typeof e.keys&&(s="POST",i={keys:e.keys});try{const n=await o(Cn(r,"_all_docs"+a),{method:s,body:JSON.stringify(i)});e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(kn),t(null,n.data)}catch(c){t(c)}})),n._changes=function(e){const t="batch_size"in e?e.batch_size:25;(e=b(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);let n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<vn&&(n=e.timeout+vn),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<vn&&(n=e.heartbeat+vn);const i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);const s="undefined"!==typeof e.limit&&e.limit;let a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"===typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"===typeof e.filter&&(i.filter=e.filter),e.view&&"string"===typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"===typeof e.query_params)for(const r in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,r)&&(i[r]=e.query_params[r]);let c,l="GET";e.doc_ids?(i.filter="_doc_ids",l="POST",c={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",l="POST",c={selector:e.selector});const h=new AbortController;let f;const d=async function(n,d){if(e.aborted)return;i.since=n,"object"===typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;const p=Cn(r,"_changes"+Bn(i)),y={signal:h.signal,method:l,body:JSON.stringify(c)};if(f=n,!e.aborted)try{await u();d(null,(await o(p,y)).data)}catch(g){d(g)}},p={results:[]},y=function(n,r){if(e.aborted)return;let i=0;if(r&&r.results){i=r.results.length,p.last_seq=r.last_seq;let t=null,n=null;"number"===typeof r.pending&&(t=r.pending),"string"!==typeof p.last_seq&&"number"!==typeof p.last_seq||(n=p.last_seq);({}).query=e.query_params,r.results=r.results.filter((function(r){a--;const i=Z(e)(r);return i&&(e.include_docs&&e.attachments&&e.binary&&kn(r),e.return_docs&&p.results.push(r),e.onChange(r,t,n)),i}))}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(f=r.last_seq);const o=s&&a<=0||r&&i<t||e.descending;(!e.continuous||s&&a<=0)&&o?e.complete(null,p):P((function(){d(f,y)}))};return d(e.since||0,y),{cancel:function(){e.aborted=!0,h.abort()}}},n.revsDiff=a("revsDiff",(async function(e,t,n){"function"===typeof t&&(n=t,t={});try{n(null,(await o(Cn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)})).data)}catch(i){n(i)}})),n._close=function(e){e()},n._destroy=async function(e,t){try{t(null,await o(Cn(r,""),{method:"DELETE"}))}catch(n){404===n.status?t(null,{ok:!0}):t(n)}}}Pn.valid=function(){return!0};class _n extends Error{constructor(e){super(),this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(br){}}}class Tn extends Error{constructor(e){super(),this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Tn)}catch(br){}}}class Nn extends Error{constructor(e){super(),this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Nn)}catch(br){}}}function Rn(e,t){return t&&e.then((function(e){P((function(){t(null,e)}))}),(function(e){P((function(){t(e)}))})),e}function Dn(e,t){return function(){var n=arguments,r=this;return e.add((function(){return t.apply(r,n)}))}}function Un(e){var t=new Set(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function On(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,r){t[++n]=r})),t}function Ln(e){return new Nn("builtin "+e+" function requires map values to be numbers or number arrays")}function Mn(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if("number"!==typeof i){if(!Array.isArray(i))throw Ln("_sum");t="number"===typeof t?[t]:t;for(var s=0,a=i.length;s<a;s++){var o=i[s];if("number"!==typeof o)throw Ln("_sum");"undefined"===typeof t[s]?t.push(o):t[s]+=o}}else"number"===typeof t?t+=i:t[0]+=i}return t}var Kn=T.bind(null,"log"),Fn=Array.isArray,jn=JSON.parse;function Qn(e,t){return ce("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Mn,log:Kn,isArray:Fn,toJSON:jn})}class zn{constructor(){this.promise=Promise.resolve()}add(e){return this.promise=this.promise.catch((()=>{})).then((()=>e())),this.promise}finish(){return this.promise}}function Hn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}async function Gn(e,t,n,r,i,s){const a=function(e,t){return Hn(e)+Hn(t)+"undefined"}(n,r);let o;if(!i&&(o=e._cachedViews=e._cachedViews||{},o[a]))return o[a];const c=e.info().then((async function(c){const u=c.db_name+"-mrview-"+(i?"temp":Ee(a));await ue(e,"_local/"+s,(function(e){e.views=e.views||{};let n=t;-1===n.indexOf("/")&&(n=t+"/"+t);const r=e.views[n]=e.views[n]||{};if(!r[u])return r[u]=!0,e}));const l=(await e.registerDependentDatabase(u)).db;l.auto_compaction=!0;const h={name:u,db:l,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};let f;try{f=await h.db.get("_local/lastSeq")}catch(d){if(404!==d.status)throw d}return h.seq=f?f.seq:0,o&&h.db.once("destroyed",(function(){delete o[a]})),h}));return o&&(o[a]=c),c}const Vn={},qn=new zn;function Jn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function $n(e,t,n){try{e.emit("error",t)}catch(r){T("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),T("error",t,n)}}var Wn=function(e,t){return Mn(t)},Yn=function(e,t){return t.length},Zn=function(e,t){return{sum:Mn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];t+=i*i}return t}(t)}};var Xn=function(e,t,n,r){function i(e,t,n){try{t(n)}catch(br){$n(e,br,{fun:t,doc:n})}}function s(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(br){return $n(e,br,{fun:t,keys:n,values:r,rereduce:i}),{error:br}}}function a(e,t){const n=gt(e.key,t.key);return 0!==n?n:gt(e.value,t.value)}function o(e,t,n){return n=n||0,"number"===typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){const t=e.value;return t&&"object"===typeof t&&t._id||e.id}function u(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){for(const t of e.rows){const e=t.doc&&t.doc._attachments;if(e)for(const t of Object.keys(e)){const n=e[t];e[t].data=ye(n.data,n.content_type)}}}(t),t}}function l(e,t,n,r){let i=t[e];"undefined"!==typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function h(e){if("undefined"!==typeof e){const t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function f(e){if(e){if("number"!==typeof e)return new _n(`Invalid value for integer: "${e}"`);if(e<0)return new _n(`Invalid value for positive integer: "${e}"`)}}function d(e,t){const n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!==typeof e[n]&&"undefined"!==typeof e[r]&&gt(e[n],e[r])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}for(const i of["group_level","limit","skip"]){const t=f(e[i]);if(t)throw t}}function p(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/lastSeq";return e.db.get(r).catch(p({_id:r,seq:0})).then((function(r){var i=On(t);return Promise.all(i.map((function(n){return async function(e,t,n){const r="_local/doc_"+e,i={_id:r,keys:[]},s=n.get(e),a=s[0],o=s[1],c=await(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o)?Promise.resolve(i):t.db.get(r).catch(p(i))),u=await function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(c);return function(e,t){const n=[],r=new Set;for(const s of t.rows){const e=s.doc;if(e&&(n.push(e),r.add(e._id),e._deleted=!a.has(e._id),!e._deleted)){const t=a.get(e._id);"value"in t&&(e.value=t.value)}}const i=On(a);for(const s of i)if(!r.has(s)){const e={_id:s},t=a.get(s);"value"in t&&(e.value=t.value),n.push(e)}return e.keys=Un(i.concat(e.keys)),n.push(e),n}(c,u)}(n,e,t)}))).then((function(t){var i=t.flat();return r.seq=n,i.push(r),e.db.bulkDocs({docs:i})})).then((()=>function(e){return e.sourceDB.get("_local/purges").then((function(t){const n=t.purgeSeq;return e.db.get("_local/purgeSeq").then((function(e){return e._rev})).catch(p(void 0)).then((function(t){return e.db.put({_id:"_local/purgeSeq",_rev:t,purgeSeq:n})}))})).catch((function(e){if(404!==e.status)throw e}))}(e)))}))}function g(e){const t="string"===typeof e?e:e.name;let n=Vn[t];return n||(n=Vn[t]=new zn),n}async function m(e,n){return Dn(g(e),(function(){return async function(e,n){let r,s,o;function c(e,t){const n={id:s._id,key:mt(e)};"undefined"!==typeof t&&null!==t&&(n.value=mt(t)),r.push(n)}const u=t(e.mapFun,c);let l=e.seq||0;function h(){return e.sourceDB.info().then((function(t){o=e.sourceDB.activeTasks.add({name:"view_indexing",total_items:t.update_seq-l})}))}function f(t,n){return function(){return y(e,t,n)}}let d=0;const g={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",g);const m=new zn;async function w(){return v(await e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:l,limit:n.changes_batch_size}),await b())}function b(){return e.db.get("_local/purgeSeq").then((function(e){return e.purgeSeq})).catch(p(-1)).then((function(t){return e.sourceDB.get("_local/purges").then((function(n){const r=n.purges.filter((function(e,n){return n>t})).map((e=>e.docId)),i=r.filter((function(e,t){return r.indexOf(e)===t}));return Promise.all(i.map((function(t){return e.sourceDB.get(t).then((function(e){return{docId:t,doc:e}})).catch(p({docId:t}))})))})).catch(p([]))}))}function v(t,r){const i=t.results;if(!i.length&&!r.length)return;for(const e of r){if(i.findIndex((function(t){return t.id===e.docId}))<0){const t={_id:e.docId,doc:{_id:e.docId,_deleted:1},changes:[]};e.doc&&(t.doc=e.doc,t.changes.push({rev:e.doc._rev})),i.push(t)}}const s=A(i);m.add(f(s,l)),d+=i.length;const a={view:e.name,last_seq:t.last_seq,results_count:i.length,indexed_docs:d};return e.sourceDB.emit("indexing",a),e.sourceDB.activeTasks.update(o,{completed_items:d}),i.length<n.changes_batch_size?void 0:w()}function A(t){const n=new Map;for(const o of t){if("_"!==o.doc._id[0]){r=[],s=o.doc,s._deleted||i(e.sourceDB,u,s),r.sort(a);const t=k(r);n.set(o.doc._id,[t,o.changes])}l=o.seq}return n}function k(e){const t=new Map;let n;for(let r=0,i=e.length;r<i;r++){const i=e[r],s=[i.key,i.id];r>0&&0===gt(i.key,n)&&s.push(r),t.set(bt(s),i),n=i.key}return t}try{await h(),await w(),await m.finish(),e.seq=l,e.sourceDB.activeTasks.remove(o)}catch(E){e.sourceDB.activeTasks.remove(o,E)}}(e,n)}))()}function w(e,t){return Dn(g(e),(function(){return async function(e,t){let r;const i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;"undefined"===typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);async function u(t){t.include_docs=!0;const n=await e.db.allDocs(t);return r=n.total_rows,n.rows.map((function(e){if("value"in e.doc&&"object"===typeof e.doc.value&&null!==e.doc.value){const t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}const t=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=vt(e,r);t.push(s.num),r+=s.length;break;case"4":for(var a="";;){var o=e[r];if("\0"===o)break;a+=o,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var u={element:{},index:t.length};t.push(u.element),n.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();At(t,n)}}}(e.doc._id);return{key:t[0],id:t[1],value:"value"in e.doc?e.doc.value:null}}))}async function l(u){let l;if(l=i?function(e,t,r){0===r.group_level&&delete r.group_level;const i=r.group||r.group_level,a=n(e.reduceFun),c=[],u=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;for(const n of t){const e=c[c.length-1];let t=i?n.key:null;i&&Array.isArray(t)&&(t=t.slice(0,u)),e&&0===gt(e.groupKey,t)?(e.keys.push([n.key,n.id]),e.values.push(n.value)):c.push({keys:[[n.key,n.id]],values:[n.value],groupKey:t})}t=[];for(const n of c){const r=s(e.sourceDB,a,n.keys,n.values,!1);if(r.error&&r.error instanceof Nn)throw r.error;t.push({value:r.error?null:r.output,key:n.groupKey})}return{rows:o(t,r.limit,r.skip)}}(e,u,t):"undefined"===typeof t.keys?{total_rows:r,offset:a,rows:u}:{total_rows:r,offset:a,rows:o(u,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){const n=Un(u.map(c)),r=await e.sourceDB.allDocs({keys:n,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}),i=new Map;for(const e of r.rows)i.set(e.id,e.doc);for(const e of u){const t=c(e),n=i.get(t);n&&(e.doc=n)}}return l}if("undefined"!==typeof t.keys){const e=t.keys.map((function(e){const n={startkey:bt([e]),endkey:bt([e,{}])};return t.update_seq&&(n.update_seq=!0),u(n)}));return l((await Promise.all(e)).flat())}{const e={descending:t.descending};let n,r;if(t.update_seq&&(e.update_seq=!0),"start_key"in t&&(n=t.start_key),"startkey"in t&&(n=t.startkey),"end_key"in t&&(r=t.end_key),"endkey"in t&&(r=t.endkey),"undefined"!==typeof n&&(e.startkey=t.descending?bt([n,{}]):bt([n])),"undefined"!==typeof r){let n=!1!==t.inclusive_end;t.descending&&(n=!n),e.endkey=bt(n?[r,{}]:[r])}if("undefined"!==typeof t.key){const n=bt([t.key]),r=bt([t.key,{}]);e.descending?(e.endkey=n,e.startkey=r):(e.startkey=n,e.endkey=r)}i||("number"===typeof t.limit&&(e.limit=t.limit),e.skip=a);return l(await u(e))}}(e,t)}))()}async function b(t,n,i){if("function"===typeof t._query)return function(e,t,n){return new Promise((function(r,i){e._query(t,n,(function(e,t){if(e)return i(e);r(t)}))}))}(t,n,i);if(ee(t))return async function(e,t,n){let r,i,s=[],a="GET";if(l("reduce",n,s),l("include_docs",n,s),l("attachments",n,s),l("limit",n,s),l("descending",n,s),l("group",n,s),l("group_level",n,s),l("skip",n,s),l("stale",n,s),l("conflicts",n,s),l("startkey",n,s,!0),l("start_key",n,s,!0),l("endkey",n,s,!0),l("end_key",n,s,!0),l("inclusive_end",n,s),l("key",n,s,!0),l("update_seq",n,s),s=s.join("&"),s=""===s?"":"?"+s,"undefined"!==typeof n.keys){const e=2e3,i=`keys=${encodeURIComponent(JSON.stringify(n.keys))}`;i.length+s.length+1<=e?s+=("?"===s[0]?"&":"?")+i:(a="POST","string"===typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"===typeof t){const o=Jn(t),c=await e.fetch("_design/"+o[0]+"/_view/"+o[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(r)});i=c.ok;const l=await c.json();if(!i)throw l.status=c.status,Y(l);for(const e of l.rows)if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason);return new Promise((function(e){e(l)})).then(u(n))}r=r||{};for(const u of Object.keys(t))Array.isArray(t[u])?r[u]=t[u]:r[u]=t[u].toString();const o=await e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)});i=o.ok;const c=await o.json();if(!i)throw c.status=o.status,Y(c);return new Promise((function(e){e(c)})).then(u(n))}(t,n,i);const s={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!==typeof n)return d(i,n),qn.add((async function(){const r=await Gn(t,"temp_view/temp_view",n.map,n.reduce,!0,e);return a=m(r,s).then((function(){return w(r,i)})),o=function(){return r.db.destroy()},a.then((function(e){return o().then((function(){return e}))}),(function(e){return o().then((function(){throw e}))}));var a,o})),qn.finish();{const a=n,o=Jn(a),c=o[0],u=o[1],l=await t.get("_design/"+c);if(!(n=l.views&&l.views[u]))throw new Tn(`ddoc ${l._id} has no view named ${u}`);r(l,u),d(i,n);const h=await Gn(t,a,n.map,n.reduce,!1,e);return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&P((function(){m(h,s)})),w(h,i)):(await m(h,s),w(h,i))}}const v=(A=function(){const t=this;return"function"===typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,r){if(e)return n(e);t(r)}))}))}(t):ee(t)?async function(e){return(await e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"})).json()}(t):async function(t){try{const n=await t.get("_local/"+e),r=new Map;for(const e of Object.keys(n.views)){const t=Jn(e),n="_design/"+t[0],i=t[1];let s=r.get(n);s||(s=new Set,r.set(n,s)),s.add(i)}const i={keys:On(r),include_docs:!0},s=await t.allDocs(i),a={};for(const e of s.rows){const t=e.key.substring(8);for(const i of r.get(e.key)){let r=t+"/"+i;n.views[r]||(r=i);const s=Object.keys(n.views[r]),o=e.doc&&e.doc.views&&e.doc.views[i];for(const e of s)a[e]=a[e]||o}}const o=Object.keys(a).filter((function(e){return!a[e]})).map((function(e){return Dn(g(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}catch(n){if(404===n.status)return{ok:!0};throw n}}(t)},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),i=A.apply(this,t);return"function"===typeof r&&Rn(i,r),i});var A;return{query:function(e,t,n){const r=this;"function"===typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=h(e.group_level),e.limit=h(e.limit),e.skip=h(e.skip),e}(t):{},"function"===typeof e&&(e={map:e});const i=Promise.resolve().then((function(){return b(r,e,t)}));return Rn(i,n),i},viewCleanup:v}}("mrviews",(function(e,t){if("function"===typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Qn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Wn;if(/^_count/.test(e))return Yn;if(/^_stats/.test(e))return Zn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Qn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!==typeof n.map)throw new Tn("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var er={query:function(e,t,n){return Xn.query.call(this,e,t,n)},viewCleanup:function(e){return Xn.viewCleanup.call(this,e)}};function tr(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function nr(e,t,n,r){n=b(n);var i=[],s=!0;return Promise.resolve().then((function(){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(a.docs.length)return e.bulkGet(a).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(s=!1),r&&r._attachments?function(e,t,n){var r=ee(t)&&!ee(e),i=Object.keys(n._attachments);return r?e.get(n._id).then((function(r){return Promise.all(i.map((function(i){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(r,n,i)?t.getAttachment(n._id,i):e.getAttachment(r._id,i)})))})).catch((function(e){if(404!==e.status)throw e;return tr(t,n)})):tr(t,n)}(t,e,r).then((e=>{var t=Object.keys(r._attachments);return e.forEach((function(e,n){var i=r._attachments[t[n]];delete i.stub,delete i.length,i.data=e})),r})):r})))}))).then((function(e){i=i.concat(e.flat().filter(Boolean))}))}))})).then((function(){return{ok:s,docs:i}}))}var rr="pouchdb";function ir(e,t,n,r,i){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||R(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:rr,version:1};throw n})).then((function(s){if(!i.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter((function(e){return e.session_id!==r})),s.history.unshift({last_seq:n,session_id:r}),s.history=s.history.slice(0,5),s.version=1,s.replicator=rr,s.session_id=r,s.last_seq=n,e.put(s).catch((function(s){if(409===s.status)return ir(e,t,n,r,i);throw s}))}))}class sr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0};this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=i,"undefined"===typeof i.writeSourceCheckpoint&&(i.writeSourceCheckpoint=!0),"undefined"===typeof i.writeTargetCheckpoint&&(i.writeTargetCheckpoint=!0)}writeCheckpoint(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))}updateTarget(e,t){return this.opts.writeTargetCheckpoint?ir(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)}updateSource(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return ir(this.src,this.id,e,t,this.returnValue).catch((function(e){if(ur(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)}getCheckpoint(){var e=this;return e.opts.writeSourceCheckpoint||e.opts.writeTargetCheckpoint?e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in ar?ar[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return ur(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0})):Promise.resolve(0)}}var ar={undefined:function(e,t){return 0===gt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return or(e.history,t.history)}(t,e).last_seq}};function or(e,t){var n=e[0],r=e.slice(1),i=t[0],s=t.slice(1);return n&&0!==t.length?cr(n.session_id,t)?{last_seq:n.last_seq,history:e}:cr(i.session_id,r)?{last_seq:i.last_seq,history:s}:or(r,s):{last_seq:0,history:[]}}function cr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||cr(e,r))}function ur(e){return"number"===typeof e.status&&4===Math.floor(e.status/100)}function lr(e,t,n,r,i){return this instanceof sr?lr:new sr(e,t,n,r,i)}function hr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(gt):"",i=n.filter?n.filter.toString():"",s="",a="",o="";return n.selector&&(o=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(gt).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+i+a+s+r+o;return new Promise((function(e){ke(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function fr(e,t,n,r,i){var s,a,o,c,u=[],l={seq:0,changes:[],docs:[]},h=!1,f=!1,d=!1,p=0,y=0,g=n.continuous||n.live||!1,m=n.batch_size||100,w=n.batches_limit||10,v=n.style||"all_docs",A=!1,k=n.doc_ids,E=n.selector,S=[],I=Ie();i=i||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var C={};function x(){return o?Promise.resolve():hr(e,t,n).then((function(i){a=i;var s={};s=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},o=new lr(e,t,a,r,s)}))}function B(){if(S=[],0!==s.docs.length){var e=s.docs,a={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},a).then((function(t){if(r.cancelled)throw O(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var s=Object.keys(n).length;i.doc_write_failures+=s,i.docs_written+=e.length-s,e.forEach((function(e){var t=n[e._id];if(t){i.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;r.emit("denied",b(t))}else S.push(e)}))}),(function(t){throw i.doc_write_failures+=e.length,t}))}}function _(){if(s.error)throw new Error("There was a problem getting docs.");i.last_seq=y=s.seq;var t=b(i);return S.length&&(t.docs=S,"number"===typeof s.pending&&(t.pending=s.pending,delete s.pending),r.emit("change",t)),h=!0,e.info().then((function(t){var n=e.activeTasks.get(c);if(s&&n){var r=n.completed_items||0,i=parseInt(t.update_seq,10)-parseInt(p,10);e.activeTasks.update(c,{completed_items:r+s.changes.length,total_items:i})}})),o.writeCheckpoint(s.seq,I).then((function(){if(r.emit("checkpoint",{checkpoint:s.seq}),h=!1,r.cancelled)throw O(),new Error("cancelled");s=void 0,F()})).catch((function(e){throw z(e),e}))}function T(){return nr(e,t,s.diffs,r).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],i.docs_read++,s.docs.push(e)}))}))}function R(){r.cancelled||s||(0!==u.length?(s=u.shift(),r.emit("checkpoint",{start_next_batch:s.seq}),function(){var e={};return s.changes.forEach((function(t){r.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(r.cancelled)throw O(),new Error("cancelled");s.diffs=e}))}().then(T).then(B).then(_).then(R).catch((function(e){U("batch processing terminated with error",e)}))):D(!0))}function D(e){0!==l.changes.length?(e||f||l.changes.length>=m)&&(u.push(l),l={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),R()):0!==u.length||s||((g&&C.live||f)&&(r.state="pending",r.emit("paused")),f&&O())}function U(e,t){d||(t.message||(t.message=e),i.ok=!1,i.status="aborting",u=[],l={seq:0,changes:[],docs:[]},O(t))}function O(s){if(!d&&(!r.cancelled||(i.status="cancelled",!h)))if(i.status=i.status||"complete",i.end_time=(new Date).toISOString(),i.last_seq=y,d=!0,e.activeTasks.remove(c,s),s){(s=W(s)).result=i;var a=(s.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(r.emit("error",s),r.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!==typeof e.back_off_function&&(e.back_off_function=N),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",i)})),t.once("active",i)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(n,r,s,(function(){fr(e,t,n,r)}))}else r.emit("complete",i),r.removeAllListeners()}function L(t,i,s){if(r.cancelled)return O();if("number"===typeof i&&(l.pending=i),Z(n)(t))l.seq=t.seq||s,l.changes.push(t),r.emit("checkpoint",{pending_batch:l.seq}),P((function(){D(0===u.length&&C.live)}));else{var a=e.activeTasks.get(c);if(a){var o=a.completed_items||0;e.activeTasks.update(c,{completed_items:++o})}}}function M(e){if(A=!1,r.cancelled)return O();if(e.results.length>0)C.since=e.results[e.results.length-1].seq,F(),D(!0);else{var t=function(){g?(C.live=!0,F()):f=!0,D(!0)};s||0!==e.results.length?t():(h=!0,o.writeCheckpoint(e.last_seq,I).then((function(){if(h=!1,i.last_seq=y=e.last_seq,r.cancelled)throw O(),new Error("cancelled");t()})).catch(z))}}function K(e){if(A=!1,r.cancelled)return O();U("changes rejected",e)}function F(){if(!A&&!f&&u.length<w){A=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",i);var t=e.changes(C).on("change",L);t.then(s,s),t.then(M).catch(K),n.retry&&(r._changes=t,r._abortChanges=i)}function i(){t.cancel()}function s(){r.removeListener("cancel",i)}}function j(t){return e.info().then((function(r){var i="undefined"===typeof n.since?parseInt(r.update_seq,10)-parseInt(t,10):parseInt(r.update_seq,10);return c=e.activeTasks.add({name:`${g?"continuous ":""}replication from ${r.db_name}`,total_items:i}),t}))}function Q(){x().then((function(){if(!r.cancelled)return o.getCheckpoint().then(j).then((function(e){p=e,C={since:y=e,limit:m,batch_size:m,style:v,doc_ids:k,selector:E,return_docs:!0},n.filter&&("string"!==typeof n.filter?C.include_docs=!0:C.filter=n.filter),"heartbeat"in n&&(C.heartbeat=n.heartbeat),"timeout"in n&&(C.timeout=n.timeout),n.query_params&&(C.query_params=n.query_params),n.view&&(C.view=n.view),F()}));O()})).catch((function(e){U("getCheckpoint rejected with ",e)}))}function z(e){h=!1,U("writeCheckpoint completed with error",e)}r.ready(e,t),r.cancelled?O():(r._addedListeners||(r.once("cancel",O),"function"===typeof n.complete&&(r.once("error",n.complete),r.once("complete",(function(e){n.complete(null,e)}))),r._addedListeners=!0),"undefined"===typeof n.since?Q():x().then((function(){return h=!0,o.writeCheckpoint(n.since,I)})).then((function(){h=!1,r.cancelled?O():(y=n.since,Q())})).catch(z))}class dr extends(g()){constructor(){super(),this.cancelled=!1,this.state="pending";const e=new Promise(((e,t)=>{this.once("complete",e),this.once("error",t)}));this.then=function(t,n){return e.then(t,n)},this.catch=function(t){return e.catch(t)},this.catch((function(){}))}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(e,t){if(this._readyCalled)return;this._readyCalled=!0;const n=()=>{this.cancel()};function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}e.once("destroyed",n),t.once("destroyed",n),this.once("complete",r),this.once("error",r)}}function pr(e,t){var n=t.PouchConstructor;return"string"===typeof e?new n(e,t):e}function yr(e,t,n,r){if("function"===typeof n&&(r=n,n={}),"undefined"===typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw W(G,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=b(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new dr(n);return fr(pr(e,n),pr(t,n),n,i),i}function gr(e,t,n,r){return"function"===typeof n&&(r=n,n={}),"undefined"===typeof n&&(n={}),(n=b(n)).PouchConstructor=n.PouchConstructor||this,e=pr(e,n),t=pr(t,n),new mr(e,t,n,r)}class mr extends(g()){constructor(e,t,n,r){super(),this.canceled=!1;const i=n.push?Object.assign({},n,n.push):n,s=n.pull?Object.assign({},n,n.pull):n;this.push=yr(e,t,i),this.pull=yr(t,e,s),this.pushPaused=!0,this.pullPaused=!0;const a=e=>{this.emit("change",{direction:"pull",change:e})},o=e=>{this.emit("change",{direction:"push",change:e})},c=e=>{this.emit("denied",{direction:"push",doc:e})},u=e=>{this.emit("denied",{direction:"pull",doc:e})},l=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},h=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},f=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},d=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let p={};const y=e=>(t,n)=>{("change"===t&&(n===a||n===o)||"denied"===t&&(n===u||n===c)||"paused"===t&&(n===h||n===l)||"active"===t&&(n===d||n===f))&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&this.removeAllListeners(t))};function g(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push))),this.on("newListener",(function(e){"change"===e?(g(this.pull,"change",a),g(this.push,"change",o)):"denied"===e?(g(this.pull,"denied",u),g(this.push,"denied",c)):"active"===e?(g(this.pull,"active",d),g(this.push,"active",f)):"paused"===e&&(g(this.pull,"paused",h),g(this.push,"paused",l))})),this.on("removeListener",(function(e){"change"===e?(this.pull.removeListener("change",a),this.push.removeListener("change",o)):"denied"===e?(this.pull.removeListener("denied",u),this.push.removeListener("denied",c)):"active"===e?(this.pull.removeListener("active",d),this.push.removeListener("active",f)):"paused"===e&&(this.pull.removeListener("paused",h),this.push.removeListener("paused",l))})),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));const m=Promise.all([this.push,this.pull]).then((e=>{const t={push:e[0],pull:e[1]};return this.emit("complete",t),r&&r(null,t),this.removeAllListeners(),t}),(e=>{if(this.cancel(),r?r(e):this.emit("error",e),this.removeAllListeners(),r)throw e}));this.then=function(e,t){return m.then(e,t)},this.catch=function(e){return m.catch(e)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}tt.plugin((function(e){e.adapter("idb",bn,!0)})).plugin((function(e){e.adapter("http",Pn,!1),e.adapter("https",Pn,!1)})).plugin(er).plugin((function(e){e.replicate=yr,e.sync=gr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return"undefined"===typeof this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}));const wr=tt},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,w);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,w);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,w);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,L=Object.assign;function M(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var K=!1;function F(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=o);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function j(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case I:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function W(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),ke(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Be(e,t){return e(t)}function Pe(){}var _e=!1;function Te(e,t,n){if(_e)return e(t,n);_e=!0;try{return Be(e,t,n)}finally{_e=!1,(null!==Ee||null!==Se)&&(Pe(),xe())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Ue(e,t,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Oe=!1,Le=null,Me=!1,Ke=null,Fe={onError:function(e){Oe=!0,Le=e}};function je(e,t,n,r,i,s,a,o,c){Oe=!1,Le=null,Ue.apply(Fe,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Qe(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,$e=i.unstable_shouldYield,We=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,kt,Et,St,It,Ct=!1,xt=[],Bt=null,Pt=null,_t=null,Tt=new Map,Nt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=wi(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Kt(e,t,n){Mt(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Bt&&Mt(Bt)&&(Bt=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==_t&&Mt(_t)&&(_t=null),Tt.forEach(Kt),Nt.forEach(Kt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Qt(e){function t(t){return jt(t,e)}if(0<xt.length){jt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Bt&&jt(Bt,e),null!==Pt&&jt(Pt,e),null!==_t&&jt(_t,e),Tt.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var zt=v.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Vt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,zt.transition=s}}function qt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Jt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Bt=Ot(Bt,e,t,n,r,i),!0;case"dragenter":return Pt=Ot(Pt,e,t,n,r,i),!0;case"mouseover":return _t=Ot(_t,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tt.set(s,Ot(Tt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nt.set(s,Ot(Nt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&At(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Jt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Jt=null;function $t(e,t,n,r){if(Jt=null,null!==(e=wi(e=Ae(r))))if(null===(t=Qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Wt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=sn(un),hn=L({},un,{view:0,detail:0}),fn=sn(hn),dn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(dn),yn=sn(L({},dn,{dataTransfer:0})),gn=sn(L({},hn,{relatedTarget:0})),mn=sn(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(wn),vn=sn(L({},un,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Sn}var Cn=L({},hn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(Cn),Bn=sn(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),_n=sn(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Tn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Un=null;l&&"documentMode"in document&&(Un=document.documentMode);var On=l&&"TextEvent"in window&&!Un,Ln=l&&(!Dn||Un&&8<Un&&11>=Un),Mn=String.fromCharCode(32),Kn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=Vr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,qn=null;function Jn(e){Mr(e,0)}function $n(e){if(q(vi(e)))return e}function Wn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Zn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),qn=Vn=null)}function nr(e){if("value"===e.propertyName&&$n(qn)){var t=[];Gn(t,qn,e,Ae(e)),Te(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(qn)}function sr(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=lr(n,s);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,wr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&cr(wr,r)||(wr=r,0<(r=Vr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Er={},Sr={};function Ir(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Ir("animationend"),xr=Ir("animationiteration"),Br=Ir("animationstart"),Pr=Ir("transitionend"),_r=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){_r.set(e,t),c(t,[e])}for(var Rr=0;Rr<Tr.length;Rr++){var Dr=Tr[Rr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Cr,"onAnimationEnd"),Nr(xr,"onAnimationIteration"),Nr(Br,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,c,u){if(je.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var l=Le;Oe=!1,Le=null,Me||(Me=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Lr(i,o,u),s=c}else for(a=0;a<r.length;a++){if(c=(o=r[a]).instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Lr(i,o,u),s=c}}}if(Me)throw e=Ke,Me=!1,Ke=null,e}function Kr(e,t){var n=t[yi];void 0===n&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Wt(t)){case 1:var i=Gt;break;case 4:i=Vt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=wi(o)))return;if(5===(c=a.tag)||6===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Te((function(){var r=s,i=Ae(n),a=[];e:{var o=_r.get(e);if(void 0!==o){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=gn;break;case"focusout":u="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Pn;break;case Cr:case xr:case Br:c=mn;break;case Pr:c=_n;break;case"scroll":c=fn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Bn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==o?o+"Capture":null:o;l=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==f&&(null!=(y=Ne(p,f))&&l.push(Gr(p,y,d)))),h)break;p=p.return}0<l.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!wi(u)&&!u[pi])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?wi(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,y="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Bn,y="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?o:vi(c),d=null==u?o:vi(u),(o=new l(y,p+"leave",c,n,i)).target=h,o.relatedTarget=d,y=null,wi(i)===r&&((l=new l(f,p+"enter",u,n,i)).target=d,l.relatedTarget=h,y=l),h=y,c&&u)e:{for(f=u,p=0,d=l=c;d;d=qr(d))p++;for(d=0,y=f;y;y=qr(y))d++;for(;0<p-d;)l=qr(l),p--;for(;0<d-p;)f=qr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=qr(l),f=qr(f)}l=null}else l=null;null!==c&&Jr(a,o,c,l,!1),null!==u&&null!==h&&Jr(a,h,u,l,!0)}if("select"===(c=(o=r?vi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Wn;else if(Hn(o))if(Yn)g=ar;else{g=ir;var m=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(m&&m(e,o,r),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=r?vi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,wr=null);break;case"focusout":wr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":vr(a,n,i)}var w;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Qn&&(w=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,Qn=!0)),0<(m=Vr(r,b)).length&&(b=new vn(b,e,null,n,i),a.push({event:b,listeners:m}),w?b.data=w:null!==(w=jn(n))&&(b.data=w))),(w=On?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Kn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Xt=Zt=Yt=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=w))}Mr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ne(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Ne(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(c=Ne(n,s))&&a.unshift(Gr(n,c,o)):i||null!=(c=Ne(n,s))&&a.push(Gr(n,c,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Wr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Wr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,yi="__reactEvents$"+hi,gi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function wi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[di]||null}var ki=[],Ei=-1;function Si(e){return{current:e}}function Ii(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ci(e,t){Ei++,ki[Ei]=e.current,e.current=t}var xi={},Bi=Si(xi),Pi=Si(!1),_i=xi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Pi),Ii(Bi)}function Di(e,t,n){if(Bi.current!==xi)throw Error(s(168));Ci(Bi,t),Ci(Pi,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return L({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,_i=Bi.current,Ci(Bi,e),Ci(Pi,Pi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ui(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,Ii(Pi),Ii(Bi),Ci(Bi,e)):Ii(Pi),Ci(Pi,n)}var Mi=null,Ki=!1,Fi=!1;function ji(e){null===Mi?Mi=[e]:Mi.push(e)}function Qi(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ki=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),qe(Xe,Qi),i}finally{bt=t,Fi=!1}}return null}var zi=[],Hi=0,Gi=null,Vi=0,qi=[],Ji=0,$i=null,Wi=1,Yi="";function Zi(e,t){zi[Hi++]=Vi,zi[Hi++]=Gi,Gi=e,Vi=t}function Xi(e,t,n){qi[Ji++]=Wi,qi[Ji++]=Yi,qi[Ji++]=$i,$i=e;var r=Wi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wi=1<<32-at(t)+i|n<<i|r,Yi=s+e}else Wi=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function ts(e){for(;e===Gi;)Gi=zi[--Hi],zi[Hi]=null,Vi=zi[--Hi],zi[Hi]=null;for(;e===$i;)$i=qi[--Ji],qi[Ji]=null,Yi=qi[--Ji],qi[Ji]=null,Wi=qi[--Ji],qi[Ji]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Wi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function ls(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return ls(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw fs(),Error(s(418));for(;t;)as(e,t),t=ui(t.nextSibling)}if(ls(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=rs;e;)e=ui(e.nextSibling)}function ds(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ys=v.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&ws(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Uu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Mu(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uu(t,e.mode,n,null)).return=e,t;ms(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:h(e,t,n,r,null);ms(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return h(t,e=e.get(n)||null,r,i,null);ms(t,r)}return null}function y(i,s,o,c){for(var u=null,l=null,h=s,y=s=0,g=null;null!==h&&y<o.length;y++){h.index>y?(g=h,h=null):g=h.sibling;var m=d(i,h,o[y],c);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),s=a(m,s,y),null===l?u=m:l.sibling=m,l=m,h=g}if(y===o.length)return n(i,h),is&&Zi(i,y),u;if(null===h){for(;y<o.length;y++)null!==(h=f(i,o[y],c))&&(s=a(h,s,y),null===l?u=h:l.sibling=h,l=h);return is&&Zi(i,y),u}for(h=r(i,h);y<o.length;y++)null!==(g=p(h,i,y,o[y],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?y:g.key),s=a(g,s,y),null===l?u=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,y),u}function g(i,o,c,u){var l=U(c);if("function"!==typeof l)throw Error(s(150));if(null==(c=l.call(c)))throw Error(s(151));for(var h=l=null,y=o,g=o=0,m=null,w=c.next();null!==y&&!w.done;g++,w=c.next()){y.index>g?(m=y,y=null):m=y.sibling;var b=d(i,y,w.value,u);if(null===b){null===y&&(y=m);break}e&&y&&null===b.alternate&&t(i,y),o=a(b,o,g),null===h?l=b:h.sibling=b,h=b,y=m}if(w.done)return n(i,y),is&&Zi(i,g),l;if(null===y){for(;!w.done;g++,w=c.next())null!==(w=f(i,w.value,u))&&(o=a(w,o,g),null===h?l=w:h.sibling=w,h=w);return is&&Zi(i,g),l}for(y=r(i,y);!w.done;g++,w=c.next())null!==(w=p(y,i,g,w.value,u))&&(e&&null!==w.alternate&&y.delete(null===w.key?g:w.key),o=a(w,o,g),null===h?l=w:h.sibling=w,h=w);return e&&y.forEach((function(e){return t(i,e)})),is&&Zi(i,g),l}return function e(r,s,a,c){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case A:e:{for(var u=a.key,l=s;null!==l;){if(l.key===u){if((u=a.type)===E){if(7===l.tag){n(r,l.sibling),(s=i(l,a.props.children)).return=r,r=s;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===N&&ws(u)===l.type){n(r,l.sibling),(s=i(l,a.props)).ref=gs(r,l,a),s.return=r,r=s;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((s=Uu(a.props.children,r.mode,c,a.key)).return=r,r=s):((c=Du(a.type,a.key,a.props,null,r.mode,c)).ref=gs(r,s,a),c.return=r,r=c)}return o(r);case k:e:{for(l=a.key;null!==s;){if(s.key===l){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mu(a,r.mode,c)).return=r,r=s}return o(r);case N:return e(r,s,(l=a._init)(a._payload),c)}if(te(a))return y(r,s,a,c);if(U(a))return g(r,s,a,c);ms(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lu(a,r.mode,c)).return=r,r=s),o(r)):n(r,s)}}var vs=bs(!0),As=bs(!1),ks=Si(null),Es=null,Ss=null,Is=null;function Cs(){Is=Ss=Es=null}function xs(e){var t=ks.current;Ii(ks),e._currentValue=t}function Bs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){Es=e,Is=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Es)throw Error(s(308));Ss=e,Es.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ts=null;function Ns(e){null===Ts?Ts=[e]:Ts.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ns(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Us=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Bc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ns(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,r){var i=e.updateQueue;Us=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var l=e.alternate;null!==l&&((o=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===o?l.firstBaseUpdate=u:o.next=u,l.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(a=0,l=u=c=null,o=s;;){var f=o.lane,d=o.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(f=t,d=n,y.tag){case 1:if("function"===typeof(p=y.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=y.payload)?p.call(d,h,f):p)||void 0===f)break e;h=L({},h,f);break e;case 2:Us=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(u=l=d,c=h):l=l.next=d,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Oc|=a,e.lanes=a,e.memoizedState=h}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Gs=Si(Hs),Vs=Si(Hs),qs=Si(Hs);function Js(e){if(e===Hs)throw Error(s(174));return e}function $s(e,t){switch(Ci(qs,t),Ci(Vs,e),Ci(Gs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Gs),Ci(Gs,t)}function Ws(){Ii(Gs),Ii(Vs),Ii(qs)}function Ys(e){Js(qs.current);var t=Js(Gs.current),n=ce(t,e.type);t!==n&&(Ci(Vs,e),Ci(Gs,n))}function Zs(e){Vs.current===e&&(Ii(Gs),Ii(Vs))}var Xs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=v.ReactCurrentDispatcher,ia=v.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,ca=null,ua=!1,la=!1,ha=0,fa=0;function da(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:Xa,e=n(r,i),la){a=0;do{if(la=!1,ha=0,25<=a)throw Error(s(301));a+=1,ca=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(la)}if(ra.current=Ya,t=null!==oa&&null!==oa.next,sa=0,ca=oa=aa=null,ua=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ha;return ha=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?aa.memoizedState=ca=e:ca=ca.next=e,ca}function wa(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===ca?aa.memoizedState:ca.next;if(null!==t)ca=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===ca?aa.memoizedState=ca=e:ca=ca.next=e}return ca}function ba(e,t){return"function"===typeof t?t(e):t}function va(e){var t=wa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=o=null,u=null,l=a;do{var h=l.lane;if((sa&h)===h)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,o=r):u=u.next=f,aa.lanes|=h,Oc|=h}l=l.next}while(null!==l&&l!==a);null===u?o=r:u.next=c,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Oc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=wa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=aa,r=wa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ua(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,_a(9,Ia.bind(null,n,r,i,t),void 0,null),null===Pc)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&Ba(e)}function Ca(e,t,n){return n((function(){xa(t)&&Ba(e)}))}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ba(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function Pa(e){var t=ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=qa.bind(null,aa,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ta(){return wa().memoizedState}function Na(e,t,n,r){var i=ma();aa.flags|=e,i.memoizedState=_a(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=wa();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=_a(t,n,s,r))}aa.flags|=e,i.memoizedState=_a(1|t,n,s,r)}function Da(e,t){return Na(8390656,8,e,t)}function Ua(e,t){return Ra(2048,8,e,t)}function Oa(e,t){return Ra(4,2,e,t)}function La(e,t){return Ra(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Ma.bind(null,t,e),n)}function Fa(){}function ja(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function za(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=yt(),aa.lanes|=n,Oc|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ga(){return wa().memoizedState}function Va(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))$a(t,n);else if(null!==(n=Rs(e,t,n,r))){nu(n,e,r,eu()),Wa(n,t,r)}}function qa(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))$a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var c=t.interleaved;return null===c?(i.next=i,Ns(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Rs(e,t,i,r))&&(nu(n,e,r,i=eu()),Wa(n,t,r))}}function Ja(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function $a(e,t){la=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var Ya={readContext:_s,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},Za={readContext:_s,useCallback:function(e,t){return ma().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Va.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ma().memoizedState=e},useState:Pa,useDebugValue:Fa,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ha.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ma();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pc)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Ca.bind(null,r,a,e),[e]),r.flags|=2048,_a(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ma(),t=Pc.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Wi&~(1<<32-at(Wi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xa={readContext:_s,useCallback:ja,useContext:_s,useEffect:Ua,useImperativeHandle:Ka,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:Qa,useReducer:va,useRef:Ta,useState:function(){return va(ba)},useDebugValue:Fa,useDeferredValue:function(e){return za(wa(),oa.memoizedState,e)},useTransition:function(){return[va(ba)[0],wa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1},eo={readContext:_s,useCallback:ja,useContext:_s,useEffect:Ua,useImperativeHandle:Ka,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:Qa,useReducer:Aa,useRef:Ta,useState:function(){return Aa(ba)},useDebugValue:Fa,useDeferredValue:function(e){var t=wa();return null===oa?t.memoizedState=e:za(t,oa.memoizedState,e)},useTransition:function(){return[Aa(ba)[0],wa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,i))&&(nu(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,i))&&(nu(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ks(e,i,r))&&(nu(t,e,r,n),Fs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function so(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(i=Ni(t)?_i:Bi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=_s(s):(s=Ni(t)?_i:Bi.current,i.context=Ti(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function lo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Gc=r),lo(0,t)},n}function po(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){lo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){lo(0,t),"function"!==typeof r&&(null===Vc?Vc=new Set([this]):Vc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Ks(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=v.ReactCurrentOwner,bo=!1;function vo(e,t,n,r){t.child=null===e?As(t,null,n,r):vs(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var s=t.ref;return Ps(t,i),r=ya(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Nu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rc,Nc),Nc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rc,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rc,Nc),Nc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Rc,Nc),Nc|=r;return vo(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Ni(n)?_i:Bi.current;return s=Ti(t,s),Ps(t,i),n=ya(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function xo(e,t,n,r,i){if(Ni(n)){var s=!0;Oi(t)}else s=!1;if(Ps(t,i),null===t.stateNode)zo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=_s(u):u=Ti(t,u=Ni(n)?_i:Bi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||c!==u)&&ao(t,a,r,u),Us=!1;var f=t.memoizedState;a.state=f,Qs(t,r,a,i),c=t.memoizedState,o!==r||f!==c||Pi.current||Us?("function"===typeof l&&(no(t,n,l,r),c=t.memoizedState),(o=Us||io(t,n,o,r,f,c,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),a.props=u,h=t.pendingProps,f=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=_s(c):c=Ti(t,c=Ni(n)?_i:Bi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||f!==c)&&ao(t,a,r,c),Us=!1,f=t.memoizedState,a.state=f,Qs(t,r,a,i);var p=t.memoizedState;o!==h||f!==p||Pi.current||Us?("function"===typeof d&&(no(t,n,d,r),p=t.memoizedState),(u=Us||io(t,n,u,r,f,p,c)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bo(e,t,n,r,s,i)}function Bo(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ho(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,o,s)):vo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$s(e,t.containerInfo)}function _o(e,t,n,r,i){return ds(),ps(i),t.flags|=256,vo(e,t,n,r),t.child}var To,No,Ro,Do,Uo={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Xs.current,o=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(Xs,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,o?(i=t.mode,o=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=c):o=Ou(c,i,0,null),e=Uu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Uo,e):Mo(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Ko(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ou({mode:"visible",children:r.children},i,0,null),(a=Uu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&vs(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Uo,a);if(0===(1&t.mode))return Ko(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ko(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(c=0!==(o&e.childLanes),bo||c){if(null!==(r=Pc)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return yu(),Ko(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(qi[Ji++]=Wi,qi[Ji++]=Yi,qi[Ji++]=$i,Wi=e.id,Yi=e.overflow,$i=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(o){o=i.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ru(r,o):(o=Uu(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,c=null===(c=e.child.memoizedState)?Oo(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i}return e=(o=e.child).sibling,i=Ru(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mo(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ko(e,t,n,r){return null!==r&&ps(r),vs(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Bs(e.return,t,n)}function jo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vo(e,t,r.children,n),0!==(2&(r=Xs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Xs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jo(t,!0,n,null,s);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Oc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Vo(t),null;case 3:return r=t.stateNode,Ws(),Ii(Pi),Ii(Bi),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(au(ss),ss=null))),No(e,t),Vo(t),null;case 5:Zs(t);var i=Js(qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Js(Gs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)Kr(Ur[i],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":W(r,a),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kr("invalid",r);break;case"textarea":ie(r,a),Kr("invalid",r)}for(var c in we(n,a),i=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Kr("scroll",r)}switch(n){case"input":V(r),X(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fi]=t,e[di]=r,To(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),i=r;break;case"iframe":case"object":case"embed":Kr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Kr(Ur[i],e);i=r;break;case"source":Kr("error",e),i=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),i=r;break;case"details":Kr("toggle",e),i=r;break;case"input":W(e,r),i=$(e,r),Kr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Kr("invalid",e)}for(a in we(n,i),u=i)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Kr("scroll",e):null!=l&&b(e,a,l,c))}switch(n){case"input":V(e),X(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(qs.current),Js(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Vo(t),null;case 13:if(Ii(Xs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ds(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[fi]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),a=!1}else null!==ss&&(au(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Dc&&(Dc=3):yu())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Ws(),No(e,t),null===e&&Qr(t.stateNode.containerInfo),Vo(t),null;case 10:return xs(t.type._context),Vo(t),null;case 19:if(Ii(Xs),null===(a=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Go(a,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ea(e))){for(t.flags|=128,Go(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Qc&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!is)return Vo(t),null}else 2*Ye()-a.renderingStartTime>Qc&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Xs.current,Ci(Xs,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nc)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ts(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ws(),Ii(Pi),Ii(Bi),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ii(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(Xs),null;case 4:return Ws(),null;case 10:return xs(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}To=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},No=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Gs.current);var s,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in we(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(o.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Kr("scroll",e),a||c===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Wo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ec(t,n,s)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[yi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function oc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,hc=!1;function fc(e,t,n){for(n=n.child;null!==n;)dc(e,t,n),n=n.sibling}function dc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Wo||Xo(n,t);case 6:var r=lc,i=hc;lc=null,fc(e,t,n),hc=i,null!==(lc=r)&&(hc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(hc?(e=lc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Qt(e)):ci(lc,n.stateNode));break;case 4:r=lc,i=hc,lc=n.stateNode.containerInfo,hc=!0,fc(e,t,n),lc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Wo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&ec(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Wo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Su(n,t,o)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Wo=(r=Wo)||null!==n.memoizedState,fc(e,t,n),Wo=r):fc(e,t,n);break;default:fc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,hc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===lc)throw Error(s(160));dc(a,o,i),lc=null,hc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){Su(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yc(t,e),mc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Su(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Su(e,e.return,g)}}break;case 1:yc(t,e),mc(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(yc(t,e),mc(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Su(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&Y(i,a),be(c,o);var l=be(c,a);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(c){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(g){Su(e,e.return,g)}}break;case 6:if(yc(t,e),mc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Su(e,e.return,g)}}break;case 3:if(yc(t,e),mc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(g){Su(e,e.return,g)}break;case 4:default:yc(t,e),mc(e);break;case 13:yc(t,e),mc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(jc=Ye())),4&r&&pc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Wo=(l=Wo)||h,yc(t,e),Wo=l):yc(t,e),mc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(f=Zo=h;null!==Zo;){switch(p=(d=Zo).child,d.tag){case 0:case 11:case 14:case 15:nc(4,d,d.return);break;case 1:Xo(d,d.return);var y=d.stateNode;if("function"===typeof y.componentWillUnmount){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Su(r,n,g)}}break;case 5:Xo(d,d.return);break;case 22:if(null!==d.memoizedState){Ac(f);continue}}null!==p?(p.return=d,Zo=p):Ac(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=f.stateNode,o=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ye("display",o))}catch(g){Su(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Su(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yc(t,e),mc(e),4&r&&pc(e);case 21:}}function mc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),uc(e,oc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,oc(e),a);break;default:throw Error(s(161))}}catch(o){Su(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wc(e,t,n){Zo=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$o;if(!a){var o=i.alternate,c=null!==o&&null!==o.memoizedState||Wo;o=$o;var u=Wo;if($o=a,(Wo=c)&&!u)for(Zo=i;null!==Zo;)c=(a=Zo).child,22===a.tag&&null!==a.memoizedState?kc(i):null!==c?(c.return=a,Zo=c):kc(i);for(;null!==s;)Zo=s,bc(s,t,n),s=s.sibling;Zo=i,$o=o,Wo=u}vc(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):vc(e)}}function vc(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Wo||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Wo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Qt(f)}}}break;default:throw Error(s(163))}Wo||512&t.flags&&ic(t)}catch(d){Su(t,t.return,d)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Ac(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function kc(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Su(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Su(t,i,c)}}var s=t.return;try{ic(t)}catch(c){Su(t,s,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){Su(t,a,c)}}}catch(c){Su(t,t.return,c)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Ec,Sc=Math.ceil,Ic=v.ReactCurrentDispatcher,Cc=v.ReactCurrentOwner,xc=v.ReactCurrentBatchConfig,Bc=0,Pc=null,_c=null,Tc=0,Nc=0,Rc=Si(0),Dc=0,Uc=null,Oc=0,Lc=0,Mc=0,Kc=null,Fc=null,jc=0,Qc=1/0,zc=null,Hc=!1,Gc=null,Vc=null,qc=!1,Jc=null,$c=0,Wc=0,Yc=null,Zc=-1,Xc=0;function eu(){return 0!==(6&Bc)?Ye():-1!==Zc?Zc:Zc=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Bc)&&0!==Tc?Tc&-Tc:null!==ys.transition?(0===Xc&&(Xc=yt()),Xc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Wt(e.type)}function nu(e,t,n,r){if(50<Wc)throw Wc=0,Yc=null,Error(s(185));mt(e,n,r),0!==(2&Bc)&&e===Pc||(e===Pc&&(0===(2&Bc)&&(Lc|=n),4===Dc&&ou(e,Tc)),ru(e,r),1===n&&0===Bc&&0===(1&t.mode)&&(Qc=Ye()+500,Ki&&Qi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,c=i[a];-1===c?0!==(o&n)&&0===(o&r)||(i[a]=dt(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ft(e,e===Pc?Tc:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ki=!0,ji(e)}(cu.bind(null,e)):ji(cu.bind(null,e)),ai((function(){0===(6&Bc)&&Qi()})),n=null;else{switch(vt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Zc=-1,Xc=0,0!==(6&Bc))throw Error(s(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ft(e,e===Pc?Tc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Bc;Bc|=2;var a=pu();for(Pc===e&&Tc===t||(zc=null,Qc=Ye()+500,fu(e,t));;)try{wu();break}catch(c){du(e,c)}Cs(),Ic.current=a,Bc=i,null!==_c?t=0:(Pc=null,Tc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Uc,fu(e,0),ou(e,r),ru(e,Ye()),n;if(6===t)ou(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(a=pt(e))&&(r=a,t=su(e,a))),1===t))throw n=Uc,fu(e,0),ou(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Au(e,Fc,zc);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=jc+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Au.bind(null,e,Fc,zc),t);break}Au(e,Fc,zc);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ri(Au.bind(null,e,Fc,zc),r);break}Au(e,Fc,zc);break;default:throw Error(s(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Kc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fc,Fc=n,null!==t&&au(t)),e}function au(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function ou(e,t){for(t&=~Mc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Bc))throw Error(s(327));ku();var t=ft(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Uc,fu(e,0),ou(e,t),ru(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e,Fc,zc),ru(e,Ye()),null}function uu(e,t){var n=Bc;Bc|=1;try{return e(t)}finally{0===(Bc=n)&&(Qc=Ye()+500,Ki&&Qi())}}function lu(e){null!==Jc&&0===Jc.tag&&0===(6&Bc)&&ku();var t=Bc;Bc|=1;var n=xc.transition,r=bt;try{if(xc.transition=null,bt=1,e)return e()}finally{bt=r,xc.transition=n,0===(6&(Bc=t))&&Qi()}}function hu(){Nc=Rc.current,Ii(Rc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==_c)for(n=_c.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ws(),Ii(Pi),Ii(Bi),na();break;case 5:Zs(r);break;case 4:Ws();break;case 13:case 19:Ii(Xs);break;case 10:xs(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Pc=e,_c=e=Ru(e.current,null),Tc=Nc=t,Dc=0,Uc=null,Mc=Lc=Oc=0,Fc=Kc=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ts=null}return e}function du(e,t){for(;;){var n=_c;try{if(Cs(),ra.current=Ya,ua){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(sa=0,ca=oa=aa=null,la=!1,ha=0,Cc.current=null,null===n||null===n.return){Dc=1,Uc=t,_c=null;break}e:{var a=e,o=n.return,c=n,u=t;if(t=Tc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,h=c,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,mo(p,o,c,0,t),1&p.mode&&yo(a,l,t),u=l;var y=(t=p).updateQueue;if(null===y){var g=new Set;g.add(u),t.updateQueue=g}else y.add(u);break e}if(0===(1&t)){yo(a,l,t),yu();break e}u=Error(s(426))}else if(is&&1&c.mode){var m=go(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),mo(m,o,c,0,t),ps(co(u,c));break e}}a=u=co(u,c),4!==Dc&&(Dc=2),null===Kc?Kc=[a]:Kc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,js(a,fo(0,u,t));break e;case 1:c=u;var w=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vc||!Vc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,js(a,po(a,c,t));break e}}a=a.return}while(null!==a)}vu(n)}catch(v){t=v,_c===n&&null!==n&&(_c=n=n.return);continue}break}}function pu(){var e=Ic.current;return Ic.current=Ya,null===e?Ya:e}function yu(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Pc||0===(268435455&Oc)&&0===(268435455&Lc)||ou(Pc,Tc)}function gu(e,t){var n=Bc;Bc|=2;var r=pu();for(Pc===e&&Tc===t||(zc=null,fu(e,t));;)try{mu();break}catch(i){du(e,i)}if(Cs(),Bc=n,Ic.current=r,null!==_c)throw Error(s(261));return Pc=null,Tc=0,Dc}function mu(){for(;null!==_c;)bu(_c)}function wu(){for(;null!==_c&&!$e();)bu(_c)}function bu(e){var t=Ec(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?vu(e):_c=t,Cc.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Nc)))return void(_c=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(_c=n);if(null===e)return Dc=6,void(_c=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_c=t);_c=t=e}while(null!==t);0===Dc&&(Dc=5)}function Au(e,t,n){var r=bt,i=xc.transition;try{xc.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==Jc);if(0!==(6&Bc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Pc&&(_c=Pc=null,Tc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qc||(qc=!0,Pu(tt,(function(){return ku(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xc.transition,xc.transition=null;var o=bt;bt=1;var c=Bc;Bc|=4,Cc.current=null,function(e,t){if(ei=Ht,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(A){n=null;break e}var o=0,c=-1,u=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(c=o+i),f!==a||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(c=o),d===a&&++h===r&&(u=o),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var y=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var g=y.memoizedProps,m=y.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),m);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(A){Su(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}y=tc,tc=!1}(e,n),gc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,wc(n,e,i),We(),Bc=c,bt=o,xc.transition=a}else e.current=n;if(qc&&(qc=!1,Jc=e,$c=i),a=e.pendingLanes,0===a&&(Vc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Gc,Gc=null,e;0!==(1&$c)&&0!==e.tag&&ku(),a=e.pendingLanes,0!==(1&a)?e===Yc?Wc++:(Wc=0,Yc=e):Wc=0,Qi()}(e,t,n,r)}finally{xc.transition=i,bt=r}return null}function ku(){if(null!==Jc){var e=vt($c),t=xc.transition,n=bt;try{if(xc.transition=null,bt=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,$c=0,0!==(6&Bc))throw Error(s(331));var i=Bc;for(Bc|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Zo=l;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nc(8,h,a)}var f=h.child;if(null!==f)f.return=h,Zo=f;else for(;null!==Zo;){var d=(h=Zo).sibling,p=h.return;if(sc(h),h===l){Zo=null;break}if(null!==d){d.return=p,Zo=d;break}Zo=p}}}var y=a.alternate;if(null!==y){var g=y.child;if(null!==g){y.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var w=a.sibling;if(null!==w){w.return=a.return,Zo=w;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var v=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Zo=v;else e:for(o=b;null!==Zo;){if(0!==(2048&(c=Zo).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(k){Su(c,c.return,k)}if(c===o){Zo=null;break e}var A=c.sibling;if(null!==A){A.return=c.return,Zo=A;break e}Zo=c.return}}if(Bc=i,Qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,xc.transition=t}}return!1}function Eu(e,t,n){e=Ks(e,t=fo(0,t=co(n,t),1),1),t=eu(),null!==e&&(mt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vc||!Vc.has(r))){t=Ks(t,e=po(t,e=co(n,e),1),1),e=eu(),null!==t&&(mt(t,1,e),ru(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Tc&n)===n&&(4===Dc||3===Dc&&(130023424&Tc)===Tc&&500>Ye()-jc?fu(e,0):Mc|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Ds(e,t))&&(mt(e,t,n),ru(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Bu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}function Pu(e,t){return qe(e,t)}function _u(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new _u(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Nu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Uu(n.children,i,a,t);case S:o=8,i|=8;break;case I:return(e=Tu(12,n,t,2|i)).elementType=I,e.lanes=a,e;case P:return(e=Tu(13,n,t,i)).elementType=P,e.lanes=a,e;case _:return(e=Tu(19,n,t,i)).elementType=_,e.lanes=a,e;case R:return Ou(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case x:o=9;break e;case B:o=11;break e;case T:o=14;break e;case N:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uu(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Mu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,s,a,o,c){return e=new Ku(e,t,n,o,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function ju(e){if(!e)return xi;e:{if(Qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Ui(e,n,t)}return t}function Qu(e,t,n,r,i,s,a,o,c){return(e=Fu(n,r,!0,e,0,s,0,o,c)).context=ju(null),n=e.current,(s=Ms(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Ks(n,s,i),e.current.lanes=i,mt(e,i,r),ru(e,r),e}function zu(e,t,n,r){var i=t.current,s=eu(),a=tu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ks(i,t,a))&&(nu(e,i,a,s),Fs(e,i,a)),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),ds();break;case 5:Ys(t);break;case 1:Ni(t.type)&&Oi(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Xs,1&Xs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ci(Xs,1&Xs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ci(Xs,1&Xs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Xs,Xs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Xi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var i=Ti(t,Bi.current);Ps(t,n),i=ya(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Bo(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),vo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===B)return 11;if(e===T)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=Ao(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),Qs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_o(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=_o(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),r===i){t=Ho(e,t,n);break e}vo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),vo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Lo(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vs(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Pi.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){o=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Ms(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Bs(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Bs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ps(t,n),r=r(i=_s(i)),t.flags|=1,vo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),ko(e,t,r,i=to(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),zo(e,t),t.tag=1,Ni(r)?(e=!0,Oi(t)):e=!1,Ps(t,n),so(t,r,i),oo(t,r,i,n),Bo(null,t,r,!0,e,n);case 19:return Qo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Wu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function Xu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hu(a);o.call(e)}}zu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hu(a);s.call(e)}}var a=Qu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[pi]=a.current,Qr(8===e.nodeType?e.parentNode:e),lu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hu(c);o.call(e)}}var c=Fu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[pi]=c.current,Qr(8===e.nodeType?e.parentNode:e),lu((function(){zu(t,c,n,r)})),c}(n,t,e,i,r);return Hu(a)}$u.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zu(e,t,null,null)},$u.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){zu(null,e,null,null)})),t[pi]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(wt(t,1|n),ru(t,Ye()),0===(6&Bc)&&(Qc=Ye()+500,Qi()))}break;case 13:lu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Vu(e,1)}},kt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nu(t,e,134217728,eu());Vu(e,134217728)}},Et=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);if(null!==n)nu(n,e,t,eu());Vu(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));q(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Be=uu,Pe=lu;var el={usingClientEntryPoint:!1,Events:[bi,vi,Ai,Ce,xe,uu]},tl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),st=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Wu(e))throw Error(s(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Qr(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(s(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Wu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Qu(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(s(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(s(40));return!!e._reactRootContainer&&(lu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var v=b.prototype=new w;v.constructor=b,y(v,m.prototype),v.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];s.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function B(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===s?"."+B(c,0):s,A(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(c=0,s=""===s?".":s+":",A(e))for(var u=0;u<e.length;u++){var l=s+B(o=e[u],u);c+=P(o,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(o=e.next()).done;)c+=P(o=o.value,t,i,l=s+B(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function _(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,c=e[o],u=o+1,l=e[u];if(0>s(c,n))u<i&&0>s(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[o]=n,r=o);else{if(!(u<i&&0>s(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],l=[],h=1,f=null,d=3,p=!1,y=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function A(e){if(g=!1,v(e),!y)if(null!==r(u))y=!0,R(k);else{var t=r(l);null!==t&&D(A,t.startTime-e)}}function k(e,n){y=!1,g&&(g=!1,w(C),C=-1),p=!0;var s=d;try{for(v(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!P());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var o=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(u)&&i(u),v(n)}else i(u);f=r(u)}if(null!==f)var c=!0;else{var h=r(l);null!==h&&D(A,h.startTime-n),c=!1}return c}finally{f=null,d=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,C=-1,x=5,B=-1;function P(){return!(t.unstable_now()-B<x)}function _(){if(null!==I){var e=t.unstable_now();B=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof b)E=function(){b(_)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,N=T.port2;T.port1.onmessage=_,E=function(){N.postMessage(null)}}else E=function(){m(_,0)};function R(e){I=e,S||(S=!0,E())}function D(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(l,e),null===r(u)&&e===r(l)&&(g?(w(C),C=-1):g=!0,D(A,s-a))):(e.sortIndex=o,n(u,e),y||p||(y=!0,R(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},908:e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&i|~r&s)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&r)+t[2]+606105819|0)<<17|i>>>15)+s|0)&s|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&i|~r&s)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&r)+t[6]-1473231341|0)<<17|i>>>15)+s|0)&s|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&i|~r&s)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&r)+t[10]-42063|0)<<17|i>>>15)+s|0)&s|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&i|~r&s)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&r)+t[14]-1502002290|0)<<17|i>>>15)+s|0)&s|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&s|i&~s)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&s|i&~s)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|s>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&s|i&~s)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r&s|i&~s)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|s>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r^i^s)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r^i^s)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r^i^s)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((s=((s+=((n=((n+=(r^i^s)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((s=((s+=(r^((n=((n+=(i^(r|~s))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((i=((i+=(n^(s|~r))+t[14]-1416354905|0)<<15|i>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((s=((s+=(r^((n=((n+=(i^(r|~s))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((i=((i+=(n^(s|~r))+t[10]-1051523|0)<<15|i>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((s=((s+=(r^((n=((n+=(i^(r|~s))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((i=((i+=(n^(s|~r))+t[6]-1560198380|0)<<15|i>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((s=((s+=(r^((n=((n+=(i^(r|~s))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((i=((i+=(n^(s|~r))+t[2]+718787259|0)<<15|i>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,i,s,a,o,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(l,s),t=0;t<16;t+=1)s[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(a[2],16),c=parseInt(a[1],16)||0,s[14]=o,s[15]=c,n(l,s),l}function a(e){var t,r,s,a,o,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(l,s),t=0;t<16;t+=1)s[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(a[2],16),c=parseInt(a[1],16)||0,s[14]=o,s[15]=c,n(l,s),l}function o(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e,t){var n,r=e.length,i=new ArrayBuffer(r),s=new Uint8Array(i);for(n=0;n<r;n+=1)s[n]=e.charCodeAt(n);return t?s:i}function h(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return c(s("hello")),"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,s,a,o,c=this.byteLength,u=t(n,c),l=c;return r!==e&&(l=t(r,c)),u>l?new ArrayBuffer(0):(i=l-u,s=new ArrayBuffer(i),a=new Uint8Array(s),o=new Uint8Array(this,u,i),a.set(o),s)}}(),p.prototype.append=function(e){return this.appendBinary(u(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,n,r=this._buff,i=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(s,i),n=c(this._hash),e&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var r,i,s,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),s=parseInt(r[1],16)||0,e[14]=i,e[15]=s,n(this._hash,e)},p.hash=function(e,t){return p.hashBinary(u(e),t)},p.hashBinary=function(e,t){var n=c(s(e));return t?d(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,r=f(this._buff.buffer,e,!0),s=r.length;for(this._length+=e.byteLength,t=64;t<=s;t+=64)n(this._hash,i(r.subarray(t-64,t)));return this._buff=t-64<s?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=r[t]<<(t%4<<3);return this._finish(s,i),n=c(this._hash),e&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=h(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=l(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=c(a(new Uint8Array(e)));return t?d(n):n},p}()},490:(e,t)=>{"use strict";function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,s=r.index;if(Array.isArray(i))i.push(e);else if(s===t.length-2){i[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,s,a,o,c,u,l,h,f="";n=t.pop();)if(r=n.obj,f+=n.prefix||"",i=n.val||"")f+=i;else if("object"!==typeof r)f+="undefined"===typeof r?null:JSON.stringify(r);else if(null===r)f+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:r[s],prefix:a});t.push({val:"["})}else{for(c in o=[],r)r.hasOwnProperty(c)&&o.push(c);for(t.push({val:"}"}),s=o.length-1;s>=0;s--)l=r[u=o[s]],h=s>0?",":"",h+=JSON.stringify(u)+":",t.push({obj:l,prefix:h});t.push({val:"{"})}return f},t.parse=function(e){for(var t,r,i,s,a,o,c,u,l,h=[],f=[],d=0;;)if("}"!==(t=e[d++])&&"]"!==t&&"undefined"!==typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,n(null,h,f);break;case"t":d+=3,n(!0,h,f);break;case"f":d+=4,n(!1,h,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",d--;;){if(i=e[d++],!/[\d\.\-e\+]/.test(i)){d--;break}r+=i}n(parseFloat(r),h,f);break;case'"':for(s="",a=void 0,o=0;'"'!==(c=e[d++])||"\\"===a&&o%2===1;)s+=c,"\\"===(a=c)?o++:o=0;n(JSON.parse('"'+s+'"'),h,f);break;case"[":u={element:[],index:h.length},h.push(u.element),f.push(u);break;case"{":l={element:{},index:h.length},h.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===h.length)return h.pop();n(h.pop(),h,f)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".9af89cb1.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="silentpass-daemon:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var h=u[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var f=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],c=r[2],u=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)c(n)}for(t&&t(r);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunksilentpass_daemon=self.webpackChunksilentpass_daemon||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>$o,My:()=>Fo,Ph:()=>zo,lX:()=>Ho,Id:()=>Jo,fg:()=>Zo,qj:()=>qo,aT:()=>Qo,lq:()=>Go,z:()=>Vo,Q5:()=>ec});var t,r=n(43),i=n.t(r,2),s=n(391),a=n(950),o=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const u="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Qg){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,h=t.Pop,y=null,g=m();function m(){return(o.state||{idx:null}).idx}function w(){h=t.Pop;let e=m(),n=null==e?null:e-g;g=e,y&&y({action:h,location:v.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let v={get action(){return h},get location(){return e(s,o)},listen(e){if(y)throw new Error("A history only accepts one active listener");return s.addEventListener(u,w),y=e,()=>{s.removeEventListener(u,w),y=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=d(v.location,e,n);r&&r(i,e),g=m()+1;let c=f(i,g),u=v.createHref(i);try{o.pushState(c,"",u)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(u)}a&&y&&y({action:h,location:v.location,delta:1})},replace:function(e,n){h=t.Replace;let i=d(v.location,e,n);r&&r(i,e),g=m();let s=f(i,g),c=v.createHref(i);o.replaceState(s,"",c),a&&y&&y({action:h,location:v.location,delta:0})},go:e=>o.go(e)};return v}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=R(("string"===typeof t?y(t):t).pathname||"/",n);if(null==i)return null;let s=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=N(i);a=_(s[o],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=A(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,E=3,S=2,I=1,C=10,x=-2,B=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(B)&&(r+=x),t&&(r+=S),n.filter((e=>!B(e))).reduce(((e,t)=>e+(k.test(t)?E:""===t?I:C)),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],c=o===r.length-1,u="/"===s?t:t.slice(s.length)||"/",l=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},u),h=e.route;if(!l&&c&&n&&!r[r.length-1].route.index&&(l=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!l)return null;Object.assign(i,l.params),a.push({params:i,pathname:M([s,l.pathname]),pathnameBase:K(M([s,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(s=M([s,l.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=o[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=U(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(i=c({},e),l(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?y(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:j(i)}}(i,s),h=o&&"/"!==o&&o.endsWith("/"),f=(a||"."===o)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],H=(new Set(z),["get",...z]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const V=r.createContext(null);const q=r.createContext(null);const J=r.createContext(null);const $=r.createContext(null);const W=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function Z(){return null!=r.useContext($)}function X(){return Z()||l(!1),r.useContext($).location}function ee(e){r.useContext(J).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(W);return e?function(){let{router:e}=le(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=r.useRef(!1);ee((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))}),[e,t]);return i}():function(){Z()||l(!1);let e=r.useContext(V),{basename:t,future:n,navigator:i}=r.useContext(J),{matches:s}=r.useContext(W),{pathname:a}=X(),o=JSON.stringify(O(s,n.v7_relativeSplatPath)),c=r.useRef(!1);ee((()=>{c.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let s=L(n,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,o,a,e]);return u}()}function ne(e,n,i,s){Z()||l(!1);let{navigator:a}=r.useContext(J),{matches:o}=r.useContext(W),c=o[o.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,d=X();if(n){var p;let e="string"===typeof n?y(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||l(!1),f=e}else f=d;let g=f.pathname||"/",m=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=w(e,{pathname:m});let v=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i,s);return n&&v?r.createElement($.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},v):v}function re(){let e=function(){var e;let t=r.useContext(Y),n=he(ue.UseRouteError),i=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ie=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(W.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(V);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(W.Provider,{value:t},i)}function oe(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=o.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,l=!1,f=null,d=null;var p;n&&(a=c&&i.route.id?c[i.route.id]:void 0,f=i.route.errorElement||ie,u&&(h<0&&0===s?(p="route-fallback",!1||de[p]||(de[p]=!0),l=!0,d=null):h===s&&(l=!0,d=i.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?f:l?d:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ae,{match:i,routeContext:{outlet:e,matches:y,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:f,error:a,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function le(e){let t=r.useContext(V);return t||l(!1),t}function he(e){let t=r.useContext(q);return t||l(!1),t}function fe(e){let t=function(){let e=r.useContext(W);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const de={};i.startTransition;function pe(e){l(!1)}function ye(e){let{basename:n="/",children:i=null,location:s,navigationType:a=t.Pop,navigator:o,static:c=!1,future:u}=e;Z()&&l(!1);let h=n.replace(/^\/*/,"/"),f=r.useMemo((()=>({basename:h,navigator:o,static:c,future:G({v7_relativeSplatPath:!1},u)})),[h,u,o,c]);"string"===typeof s&&(s=y(s));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:w="default"}=s,b=r.useMemo((()=>{let e=R(d,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:w},navigationType:a}}),[h,d,p,g,m,w,a]);return null==b?null:r.createElement(J.Provider,{value:f},r.createElement($.Provider,{children:i,value:b}))}function ge(e){let{children:t,location:n}=e;return ne(me(t),n)}new Promise((()=>{}));r.Component;function me(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,me(e.props.children,s));e.type!==pe&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=me(e.props.children,s)),n.push(a)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Qg){}new Map;const we=i.startTransition;o.flushSync,i.useId;function be(e){let{basename:t,children:n,future:i,window:s}=e,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=y(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),o)));let c=a.current,[u,l]=r.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},m=r.useCallback((e=>{f&&we?we((()=>l(e))):l(e)}),[l,f]);return r.useLayoutEffect((()=>c.listen(m)),[c,m]),r.createElement(ye,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ve,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ve||(ve={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));const ke={US:"United States",CA:"Canada",GB:"United Kingdom",AU:"Australia",DE:"Germany",FR:"France",JP:"Japan",IN:"India",CN:"China",BR:"Brazil",RU:"Russia",ZA:"South Africa",MX:"Mexico",IT:"Italy",ES:"Spain",SE:"Sweden",CH:"Switzerland",NL:"Netherlands",NO:"Norway",FI:"Finland",DK:"Denmark",BE:"Belgium",AT:"Austria",IE:"Ireland",NZ:"New Zealand",SG:"Singapore",HK:"Hong Kong",KR:"South Korea",MY:"Malaysia",TH:"Thailand",PH:"Philippines",ID:"Indonesia",VN:"Vietnam",SA:"Saudi Arabia",AE:"United Arab Emirates",TR:"Turkey",AR:"Argentina",CL:"Chile",CO:"Colombia",PE:"Peru",VE:"Venezuela",NG:"Nigeria",EG:"Egypt",KE:"Kenya",GH:"Ghana",TZ:"Tanzania",UG:"Uganda",DZ:"Algeria",MA:"Morocco",TN:"Tunisia",PT:"Portugal",PL:"Poland",CZ:"Czech Republic",HU:"Hungary",RO:"Romania",GR:"Greece",IS:"Iceland",LU:"Luxembourg",MT:"Malta",CY:"Cyprus",SI:"Slovenia",SK:"Slovakia",HR:"Croatia",BG:"Bulgaria",RS:"Serbia",UA:"Ukraine",BY:"Belarus",KZ:"Kazakhstan",AM:"Armenia",GE:"Georgia",UZ:"Uzbekistan",KG:"Kyrgyzstan",TJ:"Tajikistan",TM:"Turkmenistan",MN:"Mongolia",LK:"Sri Lanka",NP:"Nepal",BD:"Bangladesh",PK:"Pakistan",AF:"Afghanistan",IR:"Iran",IQ:"Iraq",SY:"Syria",JO:"Jordan",LB:"Lebanon",IL:"Israel",PS:"Palestine",QA:"Qatar",KW:"Kuwait",BH:"Bahrain",OM:"Oman",YE:"Yemen",AZ:"Azerbaijan"};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var Se=["cdnSuffix","cdnUrl","countryCode","style","svg"];const Ie=function(e){var t=e.cdnSuffix,n=void 0===t?"svg":t,i=e.cdnUrl,s=void 0===i?"https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/":i,a=e.countryCode,o=e.style,c=e.svg,u=void 0!==c&&c,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Se);if("string"!==typeof a)return null;if(u){var h=""+s+a.toLowerCase()+"."+n;return(0,r.createElement)("img",Object.assign({},l,{src:h,style:Ee({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},o)}))}var f=a.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));return(0,r.createElement)("span",Object.assign({role:"img"},l,{style:Ee({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},o)}),f)};var Ce=n(579);const xe={sRegion:-1,setSRegion:()=>{},allRegions:[],setAllRegions:()=>{},isRandom:!0,setIsRandom:()=>{},miningData:null,setMiningData:()=>{},profile:null,setProfile:()=>{},isMiningUp:!1,setIsMiningUp:()=>{}},Be=(0,r.createContext)(xe);function Pe(){return(0,r.useContext)(Be)}function _e(e){let{children:t}=e;const[n,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)(-1),[o,c]=(0,r.useState)([]),[u,l]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[d,p]=(0,r.useState)(!1);return(0,Ce.jsx)(Be.Provider,{value:{sRegion:s,setSRegion:a,allRegions:o,setAllRegions:c,isRandom:n,setIsRandom:i,miningData:u,setMiningData:l,profile:h,setProfile:f,isMiningUp:d,setIsMiningUp:p},children:t})}const Te="6.13.4";function Ne(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=e,i}async function Re(e){const t=Object.keys(e),n=await Promise.all(t.map((t=>Promise.resolve(e[t]))));return n.reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function De(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&Ne(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function Ue(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Ue).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return Ue(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Ue(t)}: ${Ue(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Oe(e,t){return e&&e.code===t}function Le(e){return Oe(e,"CALL_EXCEPTION")}function Me(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Ue(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+Ue(t))}}r.push(`code=${t}`),r.push(`version=${Te}`),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return De(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&De(r,{shortMessage:i}),r}function Ke(e,t,n,r){if(!e)throw Me(t,n,r)}function Fe(e,t,n,r){Ke(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function je(e,t,n){null==n&&(n=""),n&&(n=": "+n),Ke(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Ke(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Qe=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e}),[]);function ze(e){Ke(Qe.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function He(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),Ke(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}const Ge={};function Ve(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new $e(Ge,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function qe(e,t){return new $e(Ge,`bytes${t||""}`,e,{size:t})}const Je=Symbol.for("_ethers_typed");class $e{type;value;#e;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),He(Ge,e,"Typed"),De(this,{_typedSymbol:Je,type:t,value:n}),this.#e=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#e}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#e?-1:!1===this.#e?this.value.length:null}static from(e,t){return new $e(Ge,e,t)}static uint8(e){return Ve(e,8)}static uint16(e){return Ve(e,16)}static uint24(e){return Ve(e,24)}static uint32(e){return Ve(e,32)}static uint40(e){return Ve(e,40)}static uint48(e){return Ve(e,48)}static uint56(e){return Ve(e,56)}static uint64(e){return Ve(e,64)}static uint72(e){return Ve(e,72)}static uint80(e){return Ve(e,80)}static uint88(e){return Ve(e,88)}static uint96(e){return Ve(e,96)}static uint104(e){return Ve(e,104)}static uint112(e){return Ve(e,112)}static uint120(e){return Ve(e,120)}static uint128(e){return Ve(e,128)}static uint136(e){return Ve(e,136)}static uint144(e){return Ve(e,144)}static uint152(e){return Ve(e,152)}static uint160(e){return Ve(e,160)}static uint168(e){return Ve(e,168)}static uint176(e){return Ve(e,176)}static uint184(e){return Ve(e,184)}static uint192(e){return Ve(e,192)}static uint200(e){return Ve(e,200)}static uint208(e){return Ve(e,208)}static uint216(e){return Ve(e,216)}static uint224(e){return Ve(e,224)}static uint232(e){return Ve(e,232)}static uint240(e){return Ve(e,240)}static uint248(e){return Ve(e,248)}static uint256(e){return Ve(e,256)}static uint(e){return Ve(e,256)}static int8(e){return Ve(e,-8)}static int16(e){return Ve(e,-16)}static int24(e){return Ve(e,-24)}static int32(e){return Ve(e,-32)}static int40(e){return Ve(e,-40)}static int48(e){return Ve(e,-48)}static int56(e){return Ve(e,-56)}static int64(e){return Ve(e,-64)}static int72(e){return Ve(e,-72)}static int80(e){return Ve(e,-80)}static int88(e){return Ve(e,-88)}static int96(e){return Ve(e,-96)}static int104(e){return Ve(e,-104)}static int112(e){return Ve(e,-112)}static int120(e){return Ve(e,-120)}static int128(e){return Ve(e,-128)}static int136(e){return Ve(e,-136)}static int144(e){return Ve(e,-144)}static int152(e){return Ve(e,-152)}static int160(e){return Ve(e,-160)}static int168(e){return Ve(e,-168)}static int176(e){return Ve(e,-176)}static int184(e){return Ve(e,-184)}static int192(e){return Ve(e,-192)}static int200(e){return Ve(e,-200)}static int208(e){return Ve(e,-208)}static int216(e){return Ve(e,-216)}static int224(e){return Ve(e,-224)}static int232(e){return Ve(e,-232)}static int240(e){return Ve(e,-240)}static int248(e){return Ve(e,-248)}static int256(e){return Ve(e,-256)}static int(e){return Ve(e,-256)}static bytes1(e){return qe(e,1)}static bytes2(e){return qe(e,2)}static bytes3(e){return qe(e,3)}static bytes4(e){return qe(e,4)}static bytes5(e){return qe(e,5)}static bytes6(e){return qe(e,6)}static bytes7(e){return qe(e,7)}static bytes8(e){return qe(e,8)}static bytes9(e){return qe(e,9)}static bytes10(e){return qe(e,10)}static bytes11(e){return qe(e,11)}static bytes12(e){return qe(e,12)}static bytes13(e){return qe(e,13)}static bytes14(e){return qe(e,14)}static bytes15(e){return qe(e,15)}static bytes16(e){return qe(e,16)}static bytes17(e){return qe(e,17)}static bytes18(e){return qe(e,18)}static bytes19(e){return qe(e,19)}static bytes20(e){return qe(e,20)}static bytes21(e){return qe(e,21)}static bytes22(e){return qe(e,22)}static bytes23(e){return qe(e,23)}static bytes24(e){return qe(e,24)}static bytes25(e){return qe(e,25)}static bytes26(e){return qe(e,26)}static bytes27(e){return qe(e,27)}static bytes28(e){return qe(e,28)}static bytes29(e){return qe(e,29)}static bytes30(e){return qe(e,30)}static bytes31(e){return qe(e,31)}static bytes32(e){return qe(e,32)}static address(e){return new $e(Ge,"address",e)}static bool(e){return new $e(Ge,"bool",!!e)}static bytes(e){return new $e(Ge,"bytes",e)}static string(e){return new $e(Ge,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new $e(Ge,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===Je}static dereference(e,t){if($e.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}function We(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ye(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function Ze(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");We(e.outputLen),We(e.blockLen)}function Xe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function et(e,t){Ye(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const tt=BigInt(2**32-1),nt=BigInt(32);function rt(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&tt),l:Number(e>>nt&tt)}:{h:0|Number(e>>nt&tt),l:0|Number(e&tt)}}function it(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=rt(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}const st=(e,t,n)=>e<<n|t>>>32-n,at=(e,t,n)=>t<<n|e>>>32-n,ot=(e,t,n)=>t<<n-32|e>>>64-n,ct=(e,t,n)=>e<<n-32|t>>>64-n;const ut={fromBig:rt,split:it,toBig:(e,t)=>BigInt(e>>>0)<<nt|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:st,rotlSL:at,rotlBH:ot,rotlBL:ct,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},lt=ut,ht="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ft=e=>e instanceof Uint8Array,dt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),pt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yt=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const gt=async()=>{};async function mt(e,t,n){let r=Date.now();for(let i=0;i<e;i++){n(i);const e=Date.now()-r;e>=0&&e<t||(await gt(),r+=e)}}function wt(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!ft(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class bt{clone(){return this._cloneInto()}}const vt={}.toString;function At(e,t){if(void 0!==t&&"[object Object]"!==vt.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function kt(e){const t=t=>e().update(wt(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ht&&"function"===typeof ht.getRandomValues)return ht.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[St,It,Ct]=[[],[],[]],xt=BigInt(0),Bt=BigInt(1),Pt=BigInt(2),_t=BigInt(7),Tt=BigInt(256),Nt=BigInt(113);for(let n=0,kN=Bt,EN=1,SN=0;n<24;n++){[EN,SN]=[SN,(2*EN+3*SN)%5],St.push(2*(5*SN+EN)),It.push((n+1)*(n+2)/2%64);let e=xt;for(let t=0;t<7;t++)kN=(kN<<Bt^(kN>>_t)*Nt)%Tt,kN&Pt&&(e^=Bt<<(Bt<<BigInt(t))-Bt);Ct.push(e)}const[Rt,Dt]=it(Ct,!0),Ut=(e,t,n)=>n>32?ot(e,t,n):st(e,t,n),Ot=(e,t,n)=>n>32?ct(e,t,n):at(e,t,n);class Lt extends bt{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,We(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=dt(this.state)}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],a=n[i+1],o=Ut(s,a,1)^n[t],c=Ot(s,a,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=o,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=It[n],s=Ut(t,i,r),a=Ot(t,i,r),o=St[n];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Rt[r],e[1]^=Dt[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Xe(this);const{blockLen:t,state:n}=this,r=(e=wt(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Xe(this,!1),Ye(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return We(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(et(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Lt(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Mt=(e,t,n)=>kt((()=>new Lt(t,e,n))),Kt=Mt(1,136,32);function Ft(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}Fe(!1,"invalid BytesLike value",t||"value",e)}function jt(e,t){return Ft(e,t,!1)}function Qt(e,t){return Ft(e,t,!0)}function zt(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function Ht(e){return zt(e,!0)||e instanceof Uint8Array}const Gt="0123456789abcdef";function Vt(e){const t=jt(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=Gt[(240&e)>>4]+Gt[15&e]}return n}function qt(e){return"0x"+e.map((e=>Vt(e).substring(2))).join("")}function Jt(e){return zt(e,!0)?(e.length-2)/2:jt(e).length}function $t(e,t,n){const r=jt(e);return null!=n&&n>r.length&&Ke(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Vt(r.slice(null==t?0:t,null==n?r.length:n))}function Wt(e,t,n){const r=jt(e);Ke(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),Vt(i)}function Yt(e,t){return Wt(e,t,!0)}let Zt=!1;const Xt=function(e){return Kt(e)};let en=Xt;function tn(e){const t=jt(e,"data");return Vt(en(t))}function nn(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}tn._=Xt,tn.lock=function(){Zt=!0},tn.register=function(e){if(Zt)throw new TypeError("keccak256 is locked");en=e},Object.freeze(tn);const rn=Object.freeze({error:function(e,t,n,r,i){Fe(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:nn,replace:function(e,t,n,r,i){return"OVERLONG"===e?(Fe("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),nn(e,t,n))}});function sn(e,t){null==t&&(t=rn.error);const n=jt(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,a=null;if(192===(224&e))s=1,a=127;else if(224===(240&e))s=2,a=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,a=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let o=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),o=null;break}o=o<<6|63&e,i++}null!==o&&(o>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,o):o>=55296&&o<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,o):o<=a?i+=t("OVERLONG",i-1-s,n,r,o):r.push(o))}return r}function an(e,t){Fe("string"===typeof e,"invalid string value","str",e),null!=t&&(ze(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);Fe(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function on(e,t){return sn(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function cn(e){return tn(an(e))}const un=BigInt(0),ln=BigInt(1),hn=9007199254740991;function fn(e,t){const n=gn(e,"value"),r=BigInt(bn(t,"width"));if(Ke(n>>r===un,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-ln){return-((~n&(ln<<r)-ln)+ln)}return n}function dn(e,t){let n=yn(e,"value");const r=BigInt(bn(t,"width")),i=ln<<r-ln;if(n<un){n=-n,Ke(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(ln<<r)-ln)+ln}return Ke(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function pn(e,t){const n=gn(e,"value"),r=BigInt(bn(t,"bits"));return n&(ln<<r)-ln}function yn(e,t){switch(typeof e){case"bigint":return e;case"number":return Fe(Number.isInteger(e),"underflow",t||"value",e),Fe(e>=-hn&&e<=hn,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(Qg){Fe(!1,`invalid BigNumberish string: ${Qg.message}`,t||"value",e)}}Fe(!1,"invalid BigNumberish value",t||"value",e)}function gn(e,t){const n=yn(e,t);return Ke(n>=un,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const mn="0123456789abcdef";function wn(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=mn[n>>4],t+=mn[15&n];return BigInt(t)}return yn(e)}function bn(e,t){switch(typeof e){case"bigint":return Fe(e>=-hn&&e<=hn,"overflow",t||"value",e),Number(e);case"number":return Fe(Number.isInteger(e),"underflow",t||"value",e),Fe(e>=-hn&&e<=hn,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return bn(BigInt(e),t)}catch(Qg){Fe(!1,`invalid numeric string: ${Qg.message}`,t||"value",e)}}Fe(!1,"invalid numeric value",t||"value",e)}function vn(e,t){let n=gn(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=bn(t,"width");for(Ke(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function An(e){const t=gn(e,"value");if(t===un)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function kn(e){let t=Vt(Ht(e)?e:An(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const En=32,Sn=new Uint8Array(En),In=["then"],Cn={},xn=new WeakMap;function Bn(e){return xn.get(e)}function Pn(e,t){xn.set(e,t)}function _n(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function Tn(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof Nn?Tn(Bn(e),e,n):e)):e.reduce(((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof Nn&&(s=Tn(Bn(s),s,n)),e[r]=s),e}),{})}class Nn extends Array{#t;constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),a=!0;r!==Cn&&(i=t,s=[],a=!1),super(i.length),i.forEach(((e,t)=>{this[t]=e}));const o=s.reduce(((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(Pn(this,Object.freeze(i.map(((e,t)=>{const n=s[t];return null!=n&&1===o.get(n)?n:null})))),this.#t=[],null==this.#t&&this.#t,!a)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=bn(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&_n(`index ${n}`,r),r}if(In.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Pn(c,Bn(this)),c}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&_n(`index ${r}`,n),e&&n instanceof Nn&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=Bn(this);return t.reduce(((n,r,i)=>(Ke(null!=r,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Tn(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=Bn(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new Nn(Cn,r,i)}filter(e,t){const n=Bn(this),r=[],i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&_n(`index ${s}`,a),e.call(t,a,s,this)&&(r.push(a),i.push(n[s]))}return new Nn(Cn,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&_n(`index ${r}`,i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=Bn(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&_n(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new Nn(Cn,e,t)}}function Rn(e){let t=An(e);return Ke(t.length<=En,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:En,offset:t.length}),t.length!==En&&(t=Qt(qt([Sn.slice(t.length%En),t]))),t}class Dn{name;type;localName;dynamic;constructor(e,t,n,r){De(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Fe(!1,e,this.localName,t)}}class Un{#n;#r;constructor(){this.#n=[],this.#r=0}get data(){return qt(this.#n)}get length(){return this.#r}#i(e){return this.#n.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#i(Qt(e.data))}writeBytes(e){let t=Qt(e);const n=t.length%En;return n&&(t=Qt(qt([t,Sn.slice(n)]))),this.#i(t)}writeValue(e){return this.#i(Rn(e))}writeUpdatableValue(){const e=this.#n.length;return this.#n.push(Sn),this.#r+=En,t=>{this.#n[e]=Rn(t)}}}class On{allowLoose;#n;#s;#a;#o;#c;constructor(e,t,n){De(this,{allowLoose:!!t}),this.#n=Qt(e),this.#a=0,this.#o=null,this.#c=null!=n?n:1024,this.#s=0}get data(){return Vt(this.#n)}get dataLength(){return this.#n.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#n)}#u(e){if(this.#o)return this.#o.#u(e);this.#a+=e,Ke(this.#c<1||this.#a<=this.#c*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#c} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Qt(this.#n),offset:this.#s,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#l(e,t,n){let r=Math.ceil(t/En)*En;return this.#s+r>this.#n.length&&(this.allowLoose&&n&&this.#s+t<=this.#n.length?r=t:Ke(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Qt(this.#n),length:this.#n.length,offset:this.#s+r})),this.#n.slice(this.#s,this.#s+r)}subReader(e){const t=new On(this.#n.slice(this.#s+e),this.allowLoose,this.#c);return t.#o=this,t}readBytes(e,t){let n=this.#l(0,e,!!t);return this.#u(e),this.#s+=n.length,n.slice(0,e)}readValue(){return wn(this.readBytes(En))}readIndex(){return bn(wn(this.readBytes(En)))}}const Ln=BigInt(0),Mn=BigInt(36);function Kn(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=jt(tn(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Fn={};for(let n=0;n<10;n++)Fn[String(n)]=String(n);for(let n=0;n<26;n++)Fn[String.fromCharCode(65+n)]=String(10+n);function jn(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Fn[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const Qn=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function zn(e){if(Fe("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Kn(e);return Fe(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Fe(e.substring(2,4)===jn(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Ln;for(let n=0;n<e.length;n++)t=t*Mn+Qn[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Kn("0x"+t)}Fe(!1,"invalid address","address",e)}class Hn extends Dn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=$e.dereference(t,"string");try{n=zn(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return zn(vn(e.readValue(),20))}}class Gn extends Dn{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Vn(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map((t=>{const r=t.localName;return Ke(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),Ke(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else Fe(!1,"invalid tuple value","tuple",n);Fe(t.length===r.length,"types/value length mismatch","tuple",n);let i=new Un,s=new Un,a=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();a.push((e=>{r(e+t)}))}else e.encode(i,n)})),a.forEach((e=>{e(i.length)}));let o=e.appendWriter(i);return o+=e.appendWriter(s),o}function qn(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(a){if(Oe(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(a){if(Oe(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)})),Nn.fromItems(n,r)}class Jn extends Dn{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),De(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=$e.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),je(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return Vn(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Ke(t*En<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*En,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new Gn(this.coder));return qn(e,n)}}class $n extends Dn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=$e.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Wn extends Dn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Qt(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Yn extends Wn{constructor(e){super("bytes",e)}decode(e){return Vt(super.decode(e))}}class Zn extends Dn{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),De(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=Qt($e.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return Vt(e.readBytes(this.size))}}const Xn=new Uint8Array([]);class er extends Dn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Xn)}decode(e){return e.readBytes(0),null}}const tr=BigInt(0),nr=BigInt(1),rr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ir extends Dn{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),De(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=yn($e.dereference(t,this.type)),r=pn(rr,256);if(this.signed){let e=pn(r,8*this.size-1);(n>e||n<-(e+nr))&&this._throwError("value out-of-bounds",t),n=dn(n,256)}else(n<tr||n>pn(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=pn(e.readValue(),8*this.size);return this.signed&&(t=fn(t,8*this.size)),t}}class sr extends Wn{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,an($e.dereference(t,"string")))}decode(e){return on(super.decode(e))}}class ar extends Dn{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),De(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){const n=$e.dereference(t,"tuple");return Vn(e,this.coders,n)}decode(e){return qn(e,this.coders)}}function or(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const cr=or("external public payable override".split(" ")),ur="constant external internal payable private public pure view override",lr=or(ur.split(" ")),hr="constructor error event fallback function receive struct",fr=or(hr.split(" ")),dr="calldata memory storage payable indexed",pr=or(dr.split(" ")),yr=or([hr,dr,"tuple returns",ur].join(" ").split(" ")),gr={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},mr=new RegExp("^(\\s*)"),wr=new RegExp("^([0-9]+)"),br=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),vr=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ar=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class kr{#s;#h;get offset(){return this.#s}get length(){return this.#h.length-this.#s}constructor(e){this.#s=0,this.#h=e.slice()}clone(){return new kr(this.#h)}reset(){this.#s=0}#f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new kr(this.#h.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#f(this.#s+1,e.match+1);return this.#s=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#s<e.match-1;){const e=this.peek().linkNext;t.push(this.#f(this.#s+1,e)),this.#s=e}return this.#s=e.match+1,t}peek(){if(this.#s>=this.#h.length)throw new Error("out-of-bounds");return this.#h[this.#s]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#s++,e}toString(){const e=[];for(let t=this.#s;t<this.#h.length;t++){const n=this.#h[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function Er(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${n} at ${s}: ${t}`)};let r=[],i=[],s=0;for(;s<e.length;){let a=e.substring(s),o=a.match(mr);o&&(s+=o[1].length,a=e.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let u=gr[a[0]]||"";if(u){if(c.type=u,c.text=a[0],s++,"OPEN_PAREN"===u)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==u)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===u)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===u)c.type="BRACKET";else if("CLOSE_BRACKET"===u){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=bn(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=a.match(br),o){if(c.text=o[1],s+=c.text.length,yr.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Ar)){c.type="TYPE";continue}c.type="ID"}else{if(o=a.match(wr),!o)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`);c.text=o[1],c.type="NUMBER",s+=c.text.length}}return new kr(t.map((e=>Object.freeze(e))))}function Sr(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Ir(e,t){if(t.peekKeyword(fr)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function Cr(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function xr(e){let t=Cr(e,lr);return Sr(t,or("constant payable nonpayable".split(" "))),Sr(t,or("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Br(e,t){return e.popParams().map((e=>Qr.from(e,t)))}function Pr(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return yn(e.pop().text);throw new Error("invalid gas")}return null}function _r(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const Tr=new RegExp(/^(.*)\[([0-9]*)\]$/);function Nr(e){const t=e.match(Ar);if(Fe(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);Fe(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);Fe(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const Rr={},Dr=Symbol.for("_ethers_internal"),Ur="_ParamTypeInternal",Or="_ErrorInternal",Lr="_EventInternal",Mr="_ConstructorInternal",Kr="_FallbackInternal",Fr="_FunctionInternal",jr="_StructInternal";class Qr{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,i,s,a,o){if(He(e,Rr,"ParamType"),Object.defineProperty(this,Dr,{value:Ur}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==a||null==o)throw new Error("")}else if(null!=a||null!=o)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");De(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:a,arrayChildren:o})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#d(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,r)=>{i.#d(e,t,n,(e=>{s[r]=e}))})),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,r)=>{i[r].#d(e,t,n,(e=>{s[r]=e}))})),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}async walkAsync(e,t){const n=[],r=[e];return this.#d(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Qr.isParamType(e))return e;if("string"===typeof e)try{return Qr.from(Er(e),t)}catch(a){Fe(!1,"invalid param type","obj",e)}else if(e instanceof kr){let n="",r="",i=null;Cr(e,or(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map((e=>Qr.from(e))),n=`tuple(${i.map((e=>e.format())).join(",")})`):(n=Nr(e.popType("TYPE")),r=n);let s=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new Qr(Rr,"",n,r,null,i,a,s),a=t.value,n+=t.text,r="array",i=null}let o=null;if(Cr(e,pr).has("indexed")){if(!t)throw new Error("");o=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Qr(Rr,c,n,r,o,i,a,s)}const n=e.name;Fe(!n||"string"===typeof n&&n.match(vr),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(Fe(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(Tr);if(s){const t=parseInt(s[2]||"-1"),a=Qr.from({type:s[1],components:e.components});return new Qr(Rr,n||"",i,"array",r,null,t,a)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>Qr.from(e))):null;return new Qr(Rr,n||"",i,"tuple",r,t,null,null)}return i=Nr(e.type),new Qr(Rr,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[Dr]===Ur}}class zr{type;inputs;constructor(e,t,n){He(e,Rr,"Fragment"),De(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{zr.from(JSON.parse(e))}catch(Qg){}return zr.from(Er(e))}if(e instanceof kr){switch(e.peekKeyword(fr)){case"constructor":return Jr.from(e);case"error":return Vr.from(e);case"event":return qr.from(e);case"fallback":case"receive":return $r.from(e);case"function":return Wr.from(e);case"struct":return Yr.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return Jr.from(e);case"error":return Vr.from(e);case"event":return qr.from(e);case"fallback":case"receive":return $r.from(e);case"function":return Wr.from(e);case"struct":return Yr.from(e)}Ke(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Fe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Jr.isFragment(e)}static isError(e){return Vr.isFragment(e)}static isEvent(e){return qr.isFragment(e)}static isFunction(e){return Wr.isFragment(e)}static isStruct(e){return Yr.isFragment(e)}}class Hr extends zr{name;constructor(e,t,n,r){super(e,t,r),Fe("string"===typeof n&&n.match(vr),"invalid identifier","name",n),r=Object.freeze(r.slice()),De(this,{name:n})}}function Gr(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Vr extends Hr{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Dr,{value:Or})}get selector(){return cn(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Gr(e,this.inputs)),t.join(" ")}static from(e){if(Vr.isFragment(e))return e;if("string"===typeof e)return Vr.from(Er(e));if(e instanceof kr){const t=Ir("error",e),n=Br(e);return _r(e),new Vr(Rr,t,n)}return new Vr(Rr,e.name,e.inputs?e.inputs.map(Qr.from):[])}static isFragment(e){return e&&e[Dr]===Or}}class qr extends Hr{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,Dr,{value:Lr}),De(this,{anonymous:r})}get topicHash(){return cn(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Gr(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>Qr.from(e)));return new qr(Rr,e,t,!1).topicHash}static from(e){if(qr.isFragment(e))return e;if("string"===typeof e)try{return qr.from(Er(e))}catch(t){Fe(!1,"invalid event fragment","obj",e)}else if(e instanceof kr){const t=Ir("event",e),n=Br(e,!0),r=!!Cr(e,or(["anonymous"])).has("anonymous");return _r(e),new qr(Rr,t,n,r)}return new qr(Rr,e.name,e.inputs?e.inputs.map((e=>Qr.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[Dr]===Lr}}class Jr extends zr{payable;gas;constructor(e,t,n,r,i){super(e,t,n),Object.defineProperty(this,Dr,{value:Mr}),De(this,{payable:r,gas:i})}format(e){if(Ke(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${Gr(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Jr.isFragment(e))return e;if("string"===typeof e)try{return Jr.from(Er(e))}catch(t){Fe(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof kr){Cr(e,or(["constructor"]));const t=Br(e),n=!!Cr(e,cr).has("payable"),r=Pr(e);return _r(e),new Jr(Rr,"constructor",t,n,r)}return new Jr(Rr,"constructor",e.inputs?e.inputs.map(Qr.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Dr]===Mr}}class $r extends zr{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,Dr,{value:Kr}),De(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if($r.isFragment(e))return e;if("string"===typeof e)try{return $r.from(Er(e))}catch(t){Fe(!1,"invalid fallback fragment","obj",e)}else if(e instanceof kr){const t=e.toString();Fe(e.peekKeyword(or(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(or(["fallback","receive"]))){const t=Br(e);return Fe(0===t.length,"receive cannot have arguments","obj.inputs",t),Cr(e,or(["payable"])),_r(e),new $r(Rr,[],!0)}let n=Br(e);n.length?Fe(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[Qr.from("bytes")];const r=xr(e);if(Fe("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Cr(e,or(["returns"])).has("returns")){const t=Br(e);Fe(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return _r(e),new $r(Rr,n,"payable"===r)}if("receive"===e.type)return new $r(Rr,[],!0);if("fallback"===e.type){const t=[Qr.from("bytes")],n="payable"===e.stateMutability;return new $r(Rr,t,n)}Fe(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Dr]===Kr}}class Wr extends Hr{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,i,s){super(e,"function",t,r),Object.defineProperty(this,Dr,{value:Fr});De(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return cn(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Gr(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Gr(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>Qr.from(e)));return new Wr(Rr,e,"view",t,[],null).selector}static from(e){if(Wr.isFragment(e))return e;if("string"===typeof e)try{return Wr.from(Er(e))}catch(n){Fe(!1,"invalid function fragment","obj",e)}else if(e instanceof kr){const t=Ir("function",e),n=Br(e),r=xr(e);let i=[];Cr(e,or(["returns"])).has("returns")&&(i=Br(e));const s=Pr(e);return _r(e),new Wr(Rr,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Wr(Rr,e.name,t,e.inputs?e.inputs.map(Qr.from):[],e.outputs?e.outputs.map(Qr.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Dr]===Fr}}class Yr extends Hr{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Dr,{value:jr})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return Yr.from(Er(e))}catch(t){Fe(!1,"invalid struct fragment","obj",e)}else if(e instanceof kr){const t=Ir("struct",e),n=Br(e);return _r(e),new Yr(Rr,t,n)}return new Yr(Rr,e.name,e.inputs?e.inputs.map(Qr.from):[])}static isFragment(e){return e&&e[Dr]===jr}}const Zr=new Map;Zr.set(0,"GENERIC_PANIC"),Zr.set(1,"ASSERT_FALSE"),Zr.set(17,"OVERFLOW"),Zr.set(18,"DIVIDE_BY_ZERO"),Zr.set(33,"ENUM_RANGE_ERROR"),Zr.set(34,"BAD_STORAGE_DATA"),Zr.set(49,"STACK_UNDERFLOW"),Zr.set(50,"ARRAY_RANGE_ERROR"),Zr.set(65,"OUT_OF_MEMORY"),Zr.set(81,"UNINITIALIZED_FUNCTION_CALL");const Xr=new RegExp(/^bytes([0-9]*)$/),ei=new RegExp(/^(u?int)([0-9]*)$/);let ti=null,ni=1024;class ri{#p(e){if(e.isArray())return new Jn(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ar(e.components.map((e=>this.#p(e))),e.name);switch(e.baseType){case"address":return new Hn(e.name);case"bool":return new $n(e.name);case"string":return new sr(e.name);case"bytes":return new Yn(e.name);case"":return new er(e.name)}let t=e.type.match(ei);if(t){let n=parseInt(t[2]||"256");return Fe(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new ir(n/8,"int"===t[1],e.name)}if(t=e.type.match(Xr),t){let n=parseInt(t[1]);return Fe(0!==n&&n<=32,"invalid bytes length","param",e),new Zn(n,e.name)}Fe(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#p(Qr.from(e))));return new ar(t,"_").defaultValue()}encode(e,t){je(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#p(Qr.from(e)))),r=new ar(n,"_"),i=new Un;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this.#p(Qr.from(e))));return new ar(r,"_").decode(new On(t,n,ni))}static _setDefaultMaxInflation(e){Fe("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),ni=e}static defaultAbiCoder(){return null==ti&&(ti=new ri),ti}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,a=null;if(n){i="execution reverted";const e=jt(n);if(n=Vt(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Vt(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Vt(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${Zr.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const o={to:t.to?zn(t.to):null,data:t.data||"0x"};return t.from&&(o.from=zn(t.from)),Me(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:o,invocation:null,revert:a})}(e,t,n,ri.defaultAbiCoder())}}class ii{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,i=e.format();De(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class si{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const i=e.name,s=e.format();De(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class ai{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,i=e.format();De(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class oi{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){De(this,{hash:e,_isIndexed:!0})}}const ci={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},ui={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&ci[e.toString()]&&(t=ci[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class li{fragments;deploy;fallback;receive;#y;#g;#m;#w;constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,this.#m=new Map,this.#y=new Map,this.#g=new Map;const n=[];for(const a of t)try{n.push(zr.from(a))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,s.message)}De(this,{fragments:Object.freeze(n)});let r=null,i=!1;this.#w=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void De(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(Fe(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,i=r.payable));case"function":n=this.#m;break;case"event":n=this.#g;break;case"error":n=this.#y;break;default:return}const s=e.format();n.has(s)||n.set(s,e)})),this.deploy||De(this,{deploy:Jr.from("constructor()")}),De(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map((e=>e.format(t)));return n}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return ri.defaultAbiCoder()}#b(e,t,n){if(zt(e)){const t=e.toLowerCase();for(const e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#m)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;$e.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if($e.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");Fe(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return r[0]}const r=this.#m.get(Wr.from(e).format());return r||null}getFunctionName(e){const t=this.#b(e,null,!1);return Fe(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#b(e,null,!1)}getFunction(e,t){return this.#b(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#m.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#m.get(r),n)}}#v(e,t,n){if(zt(e)){const t=e.toLowerCase();for(const e of this.#g.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#g)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if($e.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");Fe(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return r[0]}const r=this.#g.get(qr.from(e).format());return r||null}getEventName(e){const t=this.#v(e,null,!1);return Fe(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#v(e,null,!1)}getEvent(e,t){return this.#v(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#g.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#g.get(r),n)}}getError(e,t){if(zt(e)){const t=e.toLowerCase();if(ui[t])return Vr.from(ui[t].signature);for(const e of this.#y.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#y)n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Vr.from("error Error(string)"):"Panic"===e?Vr.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map((e=>JSON.stringify(e.format()))).join(", ");Fe(!1,`ambiguous error description (i.e. ${n})`,"name",e)}return t[0]}if("Error(string)"===(e=Vr.from(e).format()))return Vr.from("error Error(string)");if("Panic(uint256)"===e)return Vr.from("error Panic(uint256)");const n=this.#y.get(e);return n||null}forEachError(e){const t=Array.from(this.#y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#y.get(r),n)}}_decodeParams(e,t){return this.#w.decode(e,t)}_encodeParams(e,t){return this.#w.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Fe(t,"unknown error","fragment",e),e=t}return Fe($t(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,$t(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Fe(t,"unknown error","fragment",e),e=t}return qt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Fe(t,"unknown function","fragment",e),e=t}return Fe($t(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,$t(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Fe(t,"unknown function","fragment",e),e=t}return qt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Fe(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=Qt(t);if(r.length%32===0)try{return this.#w.decode(e.outputs,r)}catch(i){n="could not decode result data"}Ke(!1,n,"BAD_DATA",{value:Vt(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=jt(e,"data"),r=ri.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=Vt(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#w.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(Qg){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Fe(t,"unknown function","fragment",e),e=t}return Vt(this.#w.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);Fe(t,"unknown event","eventFragment",e),e=t}Ke(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?cn(t):"bytes"===e.type?tn(Vt(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=vn(t):e.type.match(/^bytes/)?t=function(e,t){return Wt(e,t,!1)}(t,32):"address"===e.type&&this.#w.encode(["address"],[t]),Yt(Vt(t),32));for(t.forEach(((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?Fe(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map((e=>r(s,e)))):n.push(r(s,t)):Fe(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);Fe(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),Fe(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const a=t[s];if(e.indexed)if("string"===e.type)n.push(cn(a));else if("bytes"===e.type)n.push(tn(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#w.encode([e.type],[a]))}else r.push(e),i.push(a)})),{data:this.#w.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);Fe(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;Fe(zt(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Qr.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))}));const a=null!=n?this.#w.decode(r,qt(n)):null,o=this.#w.decode(i,t,!0),c=[],u=[];let l=0,h=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==a)n=new oi(null);else if(s[t])n=new oi(a[h++]);else try{n=a[h++]}catch(r){n=r}else try{n=o[l++]}catch(r){n=r}c.push(n),u.push(e.name||null)})),Nn.fromItems(c,u)}parseTransaction(e){const t=jt(e.data,"tx.data"),n=yn(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(Vt(t.slice(0,4)));if(!r)return null;const i=this.#w.decode(r.inputs,t.slice(4));return new si(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ii(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Vt(e),n=this.getError($t(t,0,4));if(!n)return null;const r=this.#w.decode(n.inputs,$t(t,4));return new ai(n,n.selector,r)}static from(e){return e instanceof li?e:"string"===typeof e?new li(JSON.parse(e)):"function"===typeof e.formatJson?new li(e.formatJson()):"function"===typeof e.format?new li(e.format("json")):new li(e)}}function hi(e){return e&&"function"===typeof e.getAddress}async function fi(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(Ke("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),Fe(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),zn(n)}function di(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?zn(e):(Ke(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),fi(e,t.resolveName(e))):hi(e)?fi(e,e.getAddress()):e&&"function"===typeof e.then?fi(e,e):void Fe(!1,"unsupported addressable value","target",e)}function pi(e,t){return{address:zn(e),storageKeys:t.map(((e,t)=>(Fe(zt(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function yi(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(Fe(2===t.length,"invalid slot set",`value[${n}]`,t),pi(t[0],t[1])):(Fe(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),pi(t.address,t.storageKeys))));Fe(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return pi(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}const gi=BigInt(0);function mi(e){return null==e?null:e}function wi(e){return null==e?null:e.toString()}class bi{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){De(this,{gasPrice:mi(e),maxFeePerGas:mi(t),maxPriorityFeePerGas:mi(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:wi(e),maxFeePerGas:wi(t),maxPriorityFeePerGas:wi(n)}}}function vi(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Vt(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=yn(e[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=bn(e[i],`request.${i}`));return e.accessList&&(t.accessList=yi(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>Ht(e)?Vt(e):Object.assign({},e)))),t}class Ai{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#A;constructor(e,t){this.#A=e.transactions.map((e=>"string"!==typeof e?new Si(e,t):e)),De(this,{provider:t,hash:mi(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:mi(e.prevRandao),extraData:e.extraData,baseFeePerGas:mi(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#A.map((e=>"string"===typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#A.slice();return 0===e.length?[]:(Ke("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:a,prevRandao:o,nonce:c,number:u,parentHash:l,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:d,timestamp:p,transactions:y}=this;return{_type:"Block",baseFeePerGas:wi(e),difficulty:wi(t),extraData:n,gasLimit:wi(r),gasUsed:wi(i),blobGasUsed:wi(this.blobGasUsed),excessBlobGas:wi(this.excessBlobGas),hash:s,miner:a,prevRandao:o,nonce:c,number:u,parentHash:l,timestamp:p,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:d,transactions:y}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#A.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=this.#A[e];else{const n=e.toLowerCase();for(const e of this.#A){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;Fe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class ki{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());De(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:a,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:a,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ke(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ke(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ke(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return function(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}(this)}}class Ei{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#k;constructor(e,t){this.#k=Object.freeze(e.logs.map((e=>new ki(e,t))));let n=gi;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),De(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#k}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:a,logsBloom:o,logs:c,status:u,root:l}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:n,cumulativeGasUsed:wi(this.cumulativeGasUsed),from:t,gasPrice:wi(this.gasPrice),blobGasUsed:wi(this.blobGasUsed),blobGasPrice:wi(this.blobGasPrice),gasUsed:wi(this.gasUsed),hash:r,index:i,logs:c,logsBloom:o,root:l,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ci(this)}reorderedEvent(e){return Ke(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ii(this,e)}}class Si{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#E;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#E=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:a,nonce:o,data:c,signature:u,accessList:l,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:l,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:wi(this.chainId),data:c,from:a,gasLimit:wi(this.gasLimit),gasPrice:wi(this.gasPrice),hash:r,maxFeePerGas:wi(this.maxFeePerGas),maxPriorityFeePerGas:wi(this.maxPriorityFeePerGas),maxFeePerBlobGas:wi(this.maxFeePerBlobGas),nonce:o,signature:u,to:s,index:n,type:i,value:wi(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await Re({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=this.#E,s=-1,a=-1===i;const o=async()=>{if(a)return null;const{blockNumber:e,nonce:t}=await Re({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(a)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<this.#E&&(s=this.#E));s<=e;){if(a)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(a)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===gi&&(r="cancelled"),Ke(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;Ke(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},u=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(u);if(u){if(await u.confirmations()>=n)return c(u)}else if(await o(),0===n)return null;const l=new Promise(((e,t)=>{const s=[],u=()=>{s.forEach((e=>e()))};if(s.push((()=>{a=!0})),r>0){const e=setTimeout((()=>{u(),t(Me("wait for transaction timeout","TIMEOUT"))}),r);s.push((()=>{clearTimeout(e)}))}const l=async r=>{if(await r.confirmations()>=n){u();try{e(c(r))}catch(i){t(i)}}};if(s.push((()=>{this.provider.off(this.hash,l)})),this.provider.on(this.hash,l),i>=0){const e=async()=>{try{await o()}catch(n){if(Oe(n,"TRANSACTION_REPLACED"))return u(),void t(n)}a||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await l}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Ke(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ci(this)}reorderedEvent(e){return Ke(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ke(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ii(this,e)}replaceableTransaction(e){Fe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Si(this,this.provider);return t.#E=e,t}}function Ii(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Ci(e){return{orphan:"drop-transaction",tx:e}}class xi{filter;emitter;#S;constructor(e,t,n){this.#S=t,De(this,{emitter:e,filter:n})}async removeListener(){null!=this.#S&&await this.emitter.off(this.filter,this.#S)}}class Bi extends ki{interface;fragment;args;constructor(e,t,n){super(e,e.provider);De(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Pi extends ki{error;constructor(e,t){super(e,e.provider),De(this,{error:t})}}class _i extends Ei{#I;constructor(e,t,n){super(n,t),this.#I=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#I.getEvent(e.topics[0]):null;if(t)try{return new Bi(e,this.#I,t)}catch(n){return new Pi(e,n)}return e}))}}class Ti extends Si{#I;constructor(e,t,n){super(n,t),this.#I=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new _i(this.#I,this.provider,n)}}class Ni extends xi{log;constructor(e,t,n,r){super(e,t,n),De(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Ri extends Ni{constructor(e,t,n,r,i){super(e,t,n,new Bi(i,e.interface,r));De(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Di=BigInt(0);function Ui(e){return e&&"function"===typeof e.call}function Oi(e){return e&&"function"===typeof e.estimateGas}function Li(e){return e&&"function"===typeof e.resolveName}function Mi(e){return e&&"function"===typeof e.sendTransaction}function Ki(e){if(null!=e){if(Li(e))return e;if(e.provider)return e.provider}}class Fi{#C;fragment;constructor(e,t,n){if(De(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=ji(e.runner,"resolveName"),i=Li(r)?r:null;this.#C=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>di(e,i)))):di(t,i):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#C}}function ji(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Qi(e){return null==e?null:e.provider||null}async function zi(e,t){const n=$e.dereference(e,"overrides");Fe("object"===typeof n,"invalid overrides parameter","overrides",e);const r=vi(n);return Fe(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Fe(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function Hi(e){const t=async function(t){const n=await zi(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await di(n.from,Ki(e.runner)));const r=e.interface,i=yn(n.value||Di,"overrides.value")===Di,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||Fe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),Fe(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return Fe(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),Fe(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;Ke(Mi(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Qi(e.runner);return new Ti(e.interface,s,i)},r=async e=>await n(e);return De(r,{_contract:e,estimateGas:async function(n){const r=ji(e.runner,"estimateGas");return Ke(Oi(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=ji(e.runner,"call");Ke(Ui(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(Le(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function Gi(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return Ke(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let a={};if(s.inputs.length+1===r.length&&(a=await zi(r.pop()),a.from&&(a.from=await di(a.from,Ki(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const o=await async function(e,t,n){const r=ji(e,"resolveName"),i=Li(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=$e.dereference(t,e),"address"===e?di(t,i):t))))))}(e.runner,s.inputs,r);return Object.assign({},a,await Re({to:e.getAddress(),data:e.interface.encodeFunctionData(s,o)}))},i=async function(){const e=await a(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;Ke(Mi(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Qi(e.runner);return new Ti(e.interface,i,n)},a=async function(){const t=ji(e.runner,"call");Ke(Ui(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(o){if(Le(o)&&o.data)throw e.interface.makeError(o.data,i);throw o}const a=n(...arguments);return e.interface.decodeFunctionResult(a,s)},o=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return De(o,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=ji(e.runner,"estimateGas");return Ke(Oi(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return Ke(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),o}const Vi=Symbol.for("_ethersInternal_contract"),qi=new WeakMap;function Ji(e){return qi.get(e[Vi])}async function $i(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(zt(t,32))return t;const n=e.interface.getEvent(t);return Fe(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"===typeof t?zt(t,32)?n=[t]:(r=e.interface.getEvent(t),Fe(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):Fe(!1,"unknown event name","event",t);var i;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));const s=n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&");return{fragment:r,tag:s,topics:n}}async function Wi(e,t){const{subs:n}=Ji(e);return n.get((await $i(e,t)).tag)||null}async function Yi(e,t,n){const r=Qi(e.runner);Ke(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:a}=await $i(e,n),{addr:o,subs:c}=Ji(e);let u=c.get(s);if(!u){const t={address:o||e,topics:a},l=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,a=i?e.interface.decodeEventLog(i,t.data,t.topics):[];Xi(e,n,a,(r=>new Ri(e,r,n,s,t)))}else Xi(e,n,[],(r=>new Ni(e,r,n,t)))};let h=[];u={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,l))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,l)}},c.set(s,u)}return u}let Zi=Promise.resolve();async function Xi(e,t,n,r){try{await Zi}catch(s){}const i=async function(e,t,n,r){await Zi;const i=await Wi(e,t);if(!i)return!1;const a=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:i,once:a}=t;const o=Array.from(n);r&&o.push(r(a?null:i));try{i.call(e,...o)}catch(s){}return!a})),0===i.listeners.length&&(i.stop(),Ji(e).subs.delete(i.tag)),a>0}(e,t,n,r);return Zi=i,await i}const es=["then"];class ts{target;interface;runner;filters;[Vi];fallback;constructor(e,t,n,r){Fe("string"===typeof e||hi(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=li.from(t);let s;De(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Vi,{value:{}});let a=null,o=null;if(r){const e=Qi(n);o=new Ti(this.interface,e,r)}let c=new Map;if("string"===typeof e)if(zt(e))a=e,s=Promise.resolve(e);else{const t=ji(n,"resolveName");if(!Li(t))throw Me("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then((t=>{if(null==t)throw Me("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ji(this).addr=t,t}))}else s=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return Ji(this).addr=e,e}));var u,l;u=this,l={addrPromise:s,addr:a,deployTx:o,subs:c},qi.set(u[Vi],l);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||es.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!Oe(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>es.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return De(this,{filters:h}),De(this,{fallback:i.receive||i.fallback?Hi(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||es.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!Oe(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||es.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ts(this.target,this.interface,e)}attach(e){return new ts(e,this.interface,this.runner)}async getAddress(){return await Ji(this).addrPromise}async getDeployedCode(){const e=Qi(this.runner);Ke(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Qi(this.runner);return Ke(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()}))}deploymentTransaction(){return Ji(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return Gi(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return Ke(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Fi(e,n(...r),r)};return De(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return Ke(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=Ji(this),s=r||await i,{fragment:a,topics:o}=await $i(this,e),c={address:s,topics:o,fromBlock:t,toBlock:n},u=Qi(this.runner);return Ke(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map((e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Bi(e,this.interface,t)}catch(n){return new Pi(e,n)}return new ki(e,u)}))}async on(e,t){const n=await Yi(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Yi(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await Xi(this,e,n,null)}async listenerCount(e){if(e){const t=await Wi(this,e);return t?t.listeners.length:0}const{subs:t}=Ji(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await Wi(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}const{subs:t}=Ji(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map((e=>{let{listener:t}=e;return t})));return n}async off(e,t){const n=await Wi(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),Ji(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Wi(this,e);if(!t)return this;t.stop(),Ji(this).subs.delete(t.tag)}else{const{subs:e}=Ji(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ts{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class ns extends(function(){return ts}()){}const rs={address:"0x9e213e8B155eF24B466eFC09Bcde706ED23C537a",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"ipAddr",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"regin",type:"bytes32"}],name:"deleteIPAddr",type:"event"},{inputs:[{internalType:"string",name:"regionName",type:"string"}],name:"addRegion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"adminList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"changeAddressInAdminlist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"ipaddressHash",type:"bytes32"}],name:"deleteIpAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"regionName",type:"string"}],name:"deleteRegion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllRegions",outputs:[{internalType:"string[]",name:"allRegions",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"ipAddr",type:"string"}],name:"getIPAddressHash",outputs:[{internalType:"bytes32",name:"ipAddrHash",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"ipaddress",type:"string"}],name:"getIpAddressOwn",outputs:[{internalType:"address",name:"ownership",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"ipaddress",type:"string"}],name:"getIpAddressReg",outputs:[{internalType:"string",name:"regionName",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getNodeInfoById",outputs:[{internalType:"string",name:"ipaddress",type:"string"},{internalType:"string",name:"regionName",type:"string"},{internalType:"string",name:"pgp",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"ipaddress",type:"string"}],name:"getNodePGP",outputs:[{internalType:"string",name:"pgp",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"regionName",type:"string"}],name:"getReginNodes",outputs:[{internalType:"string[]",name:"nodes",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"regionName",type:"string"}],name:"getRegionHash",outputs:[{internalType:"bytes32",name:"regionHash",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"regionName",type:"string"}],name:"isRegionExisting",outputs:[{internalType:"bool",name:"region_existing",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"ipaddress",type:"string"},{internalType:"string",name:"pgp",type:"string"}],name:"modify_node_pgp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"ipaddress",type:"string"},{internalType:"string",name:"regionName",type:"string"},{internalType:"string",name:"pgp",type:"string"}],name:"modify_nodes",outputs:[],stateMutability:"nonpayable",type:"function"}]},is={address:"0x35c6f84C5337e110C9190A5efbaC8B850E960384",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"BUYER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REFERRER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nodeId",type:"uint256"},{internalType:"string",name:"_metadata",type:"string"}],name:"_changeNodeMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_tx",type:"bytes32"}],name:"addCredentialTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"adminList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"canTransferRule",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"changeAddressInAdminlist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"changeAddressInWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"credentialTx",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentNodeID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"geREFERRER_Status",outputs:[{internalType:"bool",name:"status",type:"bool"},{internalType:"bytes32",name:"hash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllIdOwnershipAndBooster",outputs:[{internalType:"address[]",name:"nodeAddress",type:"address[]"},{internalType:"uint256[]",name:"boosters",type:"uint256[]"},{internalType:"address[]",name:"referrerAddress",type:"address[]"},{internalType:"uint256[]",name:"referrerNodes",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"getBUYER_Status",outputs:[{internalType:"bool",name:"status",type:"bool"},{internalType:"bytes32",name:"hash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nodeId",type:"uint256"}],name:"getNodeMetadata",outputs:[{internalType:"string",name:"nodeMetadata",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getOwnerNodesAddress",outputs:[{internalType:"uint256[]",name:"nodesAddress",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nodeId",type:"uint256"}],name:"getOwnership",outputs:[{internalType:"address",name:"ownerWallet",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"getREFERRER_Status",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"metadata",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"to",type:"address[]"},{internalType:"address",name:"paymentWallet",type:"address"},{internalType:"bytes32",name:"_tx",type:"bytes32"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"number",type:"uint256"}],name:"mintBUYER_NFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"to",type:"address[]"}],name:"mintNodeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"number",type:"uint256"}],name:"mintREFERRER_NFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nodeIdBooster",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_boosters",type:"uint256[]"}],name:"nodeIdBoosterBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nodeOwnershipAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nodeReferrerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"to",type:"address[]"}],name:"nodeReferrerAddressBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ownershipForIDs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"ownershipForNodeID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"status",type:"bool"}],name:"setCanTransferRule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"url",type:"string"}],name:"setNFTUrl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}]},ss={address:"0xa4b389994A591735332A67f3561D60ce96409347",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"adminList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"bronCNTP",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"changeAddressInAdminlist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"initAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"initV2",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"latestBronBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"latestBronValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_addresses",type:"address[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"}],name:"multiTransferToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},as={address:"0x04CD419cb93FD4f70059cAeEe34f175459Ae1b6a",abi:[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"bytes32",name:"ipaddress",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"GetFaucet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"Sender",type:"address"},{indexed:!1,internalType:"uint256",name:"Value",type:"uint256"}],name:"Received",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"adminList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"changeAddressInAdminlist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"changeFaucetAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"max",type:"uint256"}],name:"changeMaxIPTimes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable[]",name:"to",type:"address[]"},{internalType:"string[]",name:"ipaddress",type:"string[]"}],name:"getFaucet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getFaucet",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"initCONET",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastFaucet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"lastIpaddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"returnAllbalance",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},os=new Uint8Array(32);os.fill(0);const cs=BigInt(-1),us=BigInt(0),ls=BigInt(1),hs=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const fs=vn(ls,32),ds=vn(us,32),ps={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ys=["name","version","chainId","verifyingContract","salt"];function gs(e){return function(t){return Fe("string"===typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const ms={name:gs("name"),version:gs("version"),chainId:function(e){const t=yn(e,"domain.chainId");return Fe(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):kn(t)},verifyingContract:function(e){try{return zn(e).toLowerCase()}catch(t){}Fe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=jt(e,"domain.salt");return Fe(32===t.length,'invalid domain value "salt"',"domain.salt",e),Vt(t)}};function ws(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);Fe(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=pn(hs,n?r-1:r),s=n?(i+ls)*cs:us;return function(t){const r=yn(t,"value");return Fe(r>=s&&r<=i,`value out-of-bounds for ${e}`,"value",r),vn(n?dn(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return Fe(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return Fe(jt(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=jt(e),n=t.length%32;return n?qt([t,os.slice(n)]):Vt(t)}(t)}}}switch(e){case"address":return function(e){return Yt(zn(e),32)};case"bool":return function(e){return e?fs:ds};case"bytes":return function(e){return tn(e)};case"string":return function(e){return cn(e)}}return null}function bs(e,t){return`${e}(${t.map((e=>{let{name:t,type:n}=e;return n+" "+t})).join(",")})`}function vs(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class As{primaryType;#x;get types(){return JSON.parse(this.#x)}#B;#P;constructor(e){this.#B=new Map,this.#P=new Map;const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach((s=>{i[s]=e[s].map((t=>{let{name:n,type:r}=t,{base:i,index:s}=vs(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}})),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)})),this.#x=JSON.stringify(i);for(const a in i){const r=new Set;for(const s of i[a]){Fe(!r.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(a)}`,"types",e),r.add(s.name);const i=vs(s.type).base;Fe(i!==a,`circular type reference to ${JSON.stringify(i)}`,"types",e);ws(i)||(Fe(n.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),n.get(i).push(a),t.get(a).add(i))}}const s=Array.from(n.keys()).filter((e=>0===n.get(e).length));Fe(0!==s.length,"missing primary type","types",e),Fe(1===s.length,`ambiguous primary types or unused types: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),De(this,{primaryType:s[0]}),function i(s,a){Fe(!a.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),a.add(s);for(const e of t.get(s))if(n.has(e)){i(e,a);for(const t of a)r.get(t).add(e)}a.delete(s)}(this.primaryType,new Set);for(const[a,o]of r){const e=Array.from(o);e.sort(),this.#B.set(a,bs(a,i[a])+e.map((e=>bs(e,i[e]))).join(""))}}getEncoder(e){let t=this.#P.get(e);return t||(t=this.#_(e),this.#P.set(e,t)),t}#_(e){{const t=ws(e);if(t)return t}const t=vs(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{Fe(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let i=r.map(n);return this.#B.has(e)&&(i=i.map(tn)),tn(qt(i))}}const n=this.types[e];if(n){const t=cn(this.#B.get(e));return e=>{const r=n.map((t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return this.#B.has(r)?tn(i):i}));return r.unshift(t),qt(r)}}Fe(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#B.get(e);return Fe(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return tn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ws(e))return n(e,t);const r=vs(e).array;if(r)return Fe(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map((e=>this._visit(r.prefix,e,n)));const i=this.types[e];if(i)return i.reduce(((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e}),{});Fe(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new As(e)}static getPrimaryType(e){return As.from(e).primaryType}static hashStruct(e,t,n){return As.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=ps[n];Fe(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>ys.indexOf(e.name)-ys.indexOf(t.name))),As.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return qt(["0x1901",As.hashDomain(e),As.from(t).hash(n)])}static hash(e,t,n){return tn(As.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const a in e)null==e[a]&&delete e[a];const i={};e.verifyingContract&&!zt(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=As.from(t);s.visit(n,((e,t)=>("address"!==e||zt(t,20)||(i[t]="0x"),t)));for(const a in i)i[a]=await r(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,n){As.hashDomain(e);const r={},i=[];ys.forEach((t=>{const n=e[t];null!=n&&(r[t]=ms[t](n),i.push({name:t,type:ps[t]}))}));const s=As.from(t);t=s.types;const a=Object.assign({},t);return Fe(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,s.encode(n),{types:a,domain:r,primaryType:s.primaryType,message:s.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return Vt(jt(t));if(e.match(/^u?int/))return yn(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Fe("string"===typeof t,"invalid string","value",t),t}Fe(!1,"unsupported type","type",e)}))}}}function ks(e){return async function(e,t){Ke(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();Ke("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),Ke("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const i=new AbortController,s=setTimeout((()=>{r=Me("request timeout","TIMEOUT"),i.abort()}),e.timeout);t&&t.addListener((()=>{r=Me("request cancelled","CANCELLED"),i.abort()}));const a={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i.signal};let o;try{o=await fetch(e.url,a)}catch(h){if(clearTimeout(s),r)throw r;throw h}clearTimeout(s);const c={};o.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const u=await o.arrayBuffer(),l=null==u?null:new Uint8Array(u);return{statusCode:o.status,statusMessage:o.statusText,headers:c,body:l}}}ks();let Es=ks();const Ss=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Is=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Cs=!1;async function xs(e,t){try{const t=e.match(Ss);if(!t)throw new Error("invalid data");return new Ds(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return jt(t)}(t[3]):an(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(n){return new Ds(599,"BAD REQUEST (invalid data: URI)",{},null,new Rs(e))}}function Bs(e){return async function(t,n){try{const n=t.match(Is);if(!n)throw new Error("invalid link");return new Rs(`${e}${n[2]}`)}catch(r){return new Ds(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Rs(t))}}}const Ps={data:xs,ipfs:Bs("https://gateway.ipfs.io/ipfs/")},_s=new WeakMap;class Ts{#T;#N;constructor(e){this.#T=[],this.#N=!1,_s.set(e,(()=>{if(!this.#N){this.#N=!0;for(const e of this.#T)setTimeout((()=>{e()}),0);this.#T=[]}}))}addListener(e){Ke(!this.#N,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#T.push(e)}get cancelled(){return this.#N}checkSignal(){Ke(!this.cancelled,"cancelled","CANCELLED",{})}}function Ns(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class Rs{#R;#D;#U;#O;#L;#M;#K;#F;#j;#Q;#z;#H;#G;#V;#q;get url(){return this.#M}set url(e){this.#M=String(e)}get body(){return null==this.#K?null:new Uint8Array(this.#K)}set body(e){if(null==e)this.#K=void 0,this.#F=void 0;else if("string"===typeof e)this.#K=an(e),this.#F="text/plain";else if(e instanceof Uint8Array)this.#K=e,this.#F="application/octet-stream";else{if("object"!==typeof e)throw new Error("invalid body");this.#K=an(JSON.stringify(e)),this.#F="application/json"}}hasBody(){return null!=this.#K}get method(){return this.#O?this.#O:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#O=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#U);return this.#j&&(e.authorization=`Basic ${function(e){const t=jt(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(an(this.#j))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#F&&(e["content-type"]=this.#F),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#U[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#U={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#j||null}setCredentials(e,t){Fe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#j=`${e}:${t}`}get allowGzip(){return this.#D}set allowGzip(e){this.#D=!!e}get allowInsecureAuthentication(){return!!this.#R}set allowInsecureAuthentication(e){this.#R=!!e}get timeout(){return this.#L}set timeout(e){Fe(e>=0,"timeout must be non-zero","timeout",e),this.#L=e}get preflightFunc(){return this.#Q||null}set preflightFunc(e){this.#Q=e}get processFunc(){return this.#z||null}set processFunc(e){this.#z=e}get retryFunc(){return this.#H||null}set retryFunc(e){this.#H=e}get getUrlFunc(){return this.#q||Es}set getUrlFunc(e){this.#q=e}constructor(e){this.#M=String(e),this.#R=!1,this.#D=!0,this.#U={},this.#O="",this.#L=3e5,this.#V={slotInterval:250,maxAttempts:12},this.#q=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#K?Vt(this.#K):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#V.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#V.maxAttempts=e.maxAttempts)}async#J(e,t,n,r,i){if(e>=this.#V.maxAttempts)return i.makeServerError("exceeded maximum retry limit");Ke(Us()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let s=this.clone();const a=(s.url.split(":")[0]||"").toLowerCase();if(a in Ps){const e=await Ps[a](s.url,Ns(r.#G));if(e instanceof Ds){let t=e;if(this.processFunc){Ns(r.#G);try{t=await this.processFunc(s,t)}catch(u){null!=u.throttle&&"number"===typeof u.stall||t.makeServerError("error in post-processing function",u).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const o=await this.getUrlFunc(s,Ns(r.#G));let c=new Ds(o.statusCode,o.statusMessage,o.headers,o.body,r);if(301===c.statusCode||302===c.statusCode){try{const n=c.headers.location||"";return s.redirect(n).#J(e+1,t,0,r,c)}catch(u){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){const n=c.headers["retry-after"];let i=this.#V.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),s.clone().#J(e+1,t,i,r,c)}if(this.processFunc){Ns(r.#G);try{c=await this.processFunc(s,c)}catch(u){null!=u.throttle&&"number"===typeof u.stall||c.makeServerError("error in post-processing function",u).assertOk();let n=this.#V.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(n=u.stall),s.clone().#J(e+1,t,n,r,c)}}return c}send(){return Ke(null==this.#G,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#G=new Ts(this),this.#J(0,Us()+this.timeout,0,this,new Ds(0,"",{},null,this))}cancel(){Ke(null!=this.#G,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=_s.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Ke("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new Rs(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#U=Object.assign({},this.#U),this.#K&&(r.#K=new Uint8Array(this.#K)),r.#F=this.#F,r}clone(){const e=new Rs(this.url);return e.#O=this.#O,this.#K&&(e.#K=this.#K),e.#F=this.#F,e.#U=Object.assign({},this.#U),e.#j=this.#j,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#Q=this.#Q,e.#z=this.#z,e.#H=this.#H,e.#V=Object.assign({},this.#V),e.#q=this.#q,e}static lockConfig(){Cs=!0}static getGateway(e){return Ps[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Cs)throw new Error("gateways locked");Ps[e]=t}static registerGetUrl(e){if(Cs)throw new Error("gateways locked");Es=e}static createGetUrlFunc(e){return ks()}static createDataGateway(){return xs}static createIpfsGatewayFunc(e){return Bs(e)}}class Ds{#$;#W;#U;#K;#Y;#Z;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#K?Vt(this.#K):"null"}>`}get statusCode(){return this.#$}get statusMessage(){return this.#W}get headers(){return Object.assign({},this.#U)}get body(){return null==this.#K?null:new Uint8Array(this.#K)}get bodyText(){try{return null==this.#K?"":on(this.#K)}catch(e){Ke(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){Ke(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){this.#$=e,this.#W=t,this.#U=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#K=null==r?null:new Uint8Array(r),this.#Y=i||null,this.#Z={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new Ds(599,n,this.headers,this.body,this.#Y||void 0);return r.#Z={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:Fe(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw De(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#K}get request(){return this.#Y}ok(){return""===this.#Z.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#Z;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#K&&(r=on(this.#K))}catch(Qg){}Ke(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Us(){return(new Date).getTime()}const Os="0x0000000000000000000000000000000000000000";const Ls=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function Ms(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let v=1;v<r;v++)s.push(i+=n());let a=n(),o=t;t+=a;let c=0,u=0;function l(){return 0==c&&(u=u<<8|e[t++],c=8),u>>--c&1}const h=2**31,f=h>>>1,d=f>>1,p=h-1;let y=0;for(let v=0;v<31;v++)y=y<<1|l();let g=[],m=0,w=h;for(;;){let e=Math.floor(((y-m+1)*i-1)/w),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;g.push(t);let a=m+Math.floor(w*s[t]/i),o=m+Math.floor(w*s[t+1]/i)-1;for(;0==((a^o)&f);)y=y<<1&p|l(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&d;)y=y&f|y<<1&p>>>1|l(),a=a<<1^f,o=(o^f)<<1|f|1;m=a,w=1+o-a}let b=r-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return b+256+(e[o++]<<8|e[o++]);case 1:return b+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,a=0,o=0;i<n;i++)o=o<<6|t[e.charCodeAt(i)],a+=6,a>=8&&(r[s++]=o>>(a-=8));return r}(e)))}function Ks(e){return 1&e?~e>>1:e>>1}function Fs(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=Ks(t());return n}function js(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function Qs(e){return Hs((()=>{let t=js(e);if(t.length)return t}))}function zs(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Vs(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(qs(n,e))}return t.flat()}function Hs(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Gs(e,t,n){let r=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)Fs(e,n).forEach(((e,t)=>r[t].push(e)));return r}function Vs(e,t){let n=1+t(),r=t(),i=Hs(t);return Gs(i.length,1+e,t).flatMap(((e,t)=>{let[s,...a]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*r;return[s+t*n,a.map((e=>e+i))]}))}))}function qs(e,t){return Gs(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function Js(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function $s(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Ws(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Ys(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const Zs=44032,Xs=4352,ea=4449,ta=4519,na=28,ra=588;function ia(e){return e>>24&255}function sa(e){return 16777215&e}let aa,oa,ca,ua;function la(e){return e>=Zs&&e<55204}function ha(e,t){if(e>=Xs&&e<4371&&t>=ea&&t<4470)return Zs+(e-Xs)*ra+(t-ea)*na;if(la(e)&&t>ta&&t<4547&&(e-Zs)%na==0)return e+(t-ta);{let n=ua.get(e);return n&&(n=n.get(t),n)?n:-1}}function fa(e){aa||function(){let e=Ms("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");aa=new Map(Qs(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),oa=new Set(js(e)),ca=new Map,ua=new Map;for(let[t,n]of zs(e)){if(!oa.has(t)&&2==n.length){let[e,r]=n,i=ua.get(e);i||(i=new Map,ua.set(e,i)),i.set(r,t)}ca.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=aa.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(la(s)){let e=s-Zs,t=e%ra/na|0,n=e%na;i(Xs+(e/ra|0)),i(ea+t),n>0&&i(ta+n)}else{let e=ca.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=ia(t[0]);for(let n=1;n<t.length;n++){let r=ia(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=ia(t[--i]),e<=r)break}e=ia(t[n])}}return t}function da(e){return fa(e).map(sa)}function pa(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=ia(s),a=sa(s);if(-1==r)0==e?r=a:t.push(a);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=a):n.push(a),i=e;else{let s=ha(r,a);s>=0?r=s:0==i&&0==e?(t.push(r),r=a):(n.push(a),i=e)}}return r>=0&&t.push(r,...n),t}(fa(e))}const ya=".",ga=e=>Array.from(e);function ma(e,t){return e.P.has(t)||e.Q.has(t)}class wa extends Array{get is_emoji(){return!0}}let ba,va,Aa,ka,Ea,Sa,Ia,Ca,xa,Ba,Pa,_a;function Ta(){if(ba)return;let e=Ms("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>js(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));ba=new Map(zs(e)),va=n(),Aa=t(),ka=new Set(t().map((e=>Aa[e]))),Aa=new Set(Aa),Ea=n(),Sa=n();let i=Qs(e),s=e();const a=()=>{let e=new Set;return t().forEach((t=>r(e,i[t]))),r(e,t()),e};Ia=Hs((t=>{let n=Hs(e).map((e=>e+96));if(n.length){let r=t>=s;return n[0]-=32,n=Ws(n),r&&(n=`Restricted[${n}]`),{N:n,P:a(),Q:a(),M:!e(),R:r}}})),Ca=n(),xa=new Map;let o=t().concat(ga(Ca)).sort(((e,t)=>e-t));o.forEach(((t,n)=>{let r=e(),i=o[n]=r?o[n-r]:{V:[],M:new Map};i.V.push(t),Ca.has(t)||xa.set(t,i)}));for(let{V:l,M:h}of new Set(xa.values())){let e=[];for(let n of l){let t=Ia.filter((e=>ma(e,n))),i=e.find((e=>{let{G:n}=e;return t.some((e=>n.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap((e=>ga(e.G)));for(let{G:n,V:r}of e){let e=new Set(t.filter((e=>!n.has(e))));for(let t of r)h.set(t,e)}}Ba=new Set;let c=new Set;const u=e=>Ba.has(e)?c.add(e):Ba.add(e);for(let l of Ia){for(let e of l.P)u(e);for(let e of l.Q)u(e)}for(let l of Ba)xa.has(l)||c.has(l)||xa.set(l,1);r(Ba,da(Ba)),Pa=function(e){let t=[],n=js(e);return function e(n,r,i){let{S:s,B:a}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of a)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),s=Hs((()=>{let r=js(e).map((e=>n[e]));if(r.length)return t(r)}));return{S:i,B:s,Q:r}}([]),[]),t}(e).map((e=>wa.from(e))).sort(Ys),_a=new Map;for(let l of Pa){let e=[_a];for(let t of l){let n=e.map((e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}));65039===t?e.push(...n):e=n}for(let t of e)t.V=l}}function Na(e){return(Ua(e)?"":`${Ra(Da([e]))} `)+Js(e)}function Ra(e){return`"${e}"\u200e`}function Da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Js,r=[];var i;i=e[0],Ta(),Aa.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,a=e.length;for(let o=0;o<a;o++){let t=e[o];Ua(t)&&(r.push(Ws(e.slice(s,o))),r.push(n(t)),s=o+1)}return r.push(Ws(e.slice(s,a))),r.join("")}function Ua(e){return Ta(),Ea.has(e)}function Oa(e,t,n){if(!e)return[];Ta();let r=0;return e.split(ya).map((e=>{let i=$s(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=ja(i,t,n),a=r.length;if(!a)throw new Error("empty label");let o=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(s.emoji=a>1||r[0].is_emoji)&&o.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${Ws(e.slice(0,4))}"`)}(o),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Aa.has(o[0]))throw Fa("leading combining mark");for(let e=1;e<a;e++){let t=r[e];if(!t.is_emoji&&Aa.has(t[0]))throw Fa(`emoji + combining mark: "${Ws(r[e-1])} + ${Da([t[0]])}"`)}!function(e){let t=e[0],n=Ls.get(t);if(n)throw Fa(`leading ${n}`);let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=Ls.get(t);if(r){if(i==s)throw Fa(`${n} + ${r}`);i=s+1,n=r}}if(i==r)throw Fa(`trailing ${n}`)}(o);let n=ga(new Set(t)),[i]=function(e){let t=Ia;for(let n of e){let e=t.filter((e=>ma(e,n)));if(!e.length)throw Ia.some((e=>ma(e,n)))?Ka(t[0],n):Ma(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!ma(e,n))throw Ka(e,n);if(e.M){let e=da(t);for(let t=1,n=e.length;t<n;t++)if(ka.has(e[t])){let r=t+1;for(let i;r<n&&ka.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error(`duplicate non-spacing marks: ${Na(i)}`);if(r-t>4)throw new Error(`excessive non-spacing marks: ${Ra(Da(e.slice(t-1,r)))} (${r-t}/4)`);t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=xa.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter((e=>t.has(e))):ga(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every((e=>ma(i,e))))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(a){s.error=a}return s}))}function La(e){return e.map((t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:`Invalid label ${Ra(Da(n,63))}: ${t}`)}return Ws(i)})).join(ya)}function Ma(e){return new Error(`disallowed character: ${Na(e)}`)}function Ka(e,t){let n=Na(t),r=Ia.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function Fa(e){return new Error(`illegal placement: ${e}`)}function ja(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=za(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(Ba.has(t))i.push(t);else{let e=ba.get(t);if(e)i.push(...e);else if(!va.has(t))throw Ma(t)}}}return i.length&&r.push(t(i)),r}function Qa(e){return e.filter((e=>65039!=e))}function za(e,t){let n,r=_a,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const Ha=new Uint8Array(32);function Ga(e){return Fe(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Va(e){const t=an(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return La(Oa(e,pa,Qa))}(e)}catch(t){Fe(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(Ga(t.slice(r,i))),r=i+1)}return Fe(r<t.length,"invalid ENS name; empty component","name",e),n.push(Ga(t.slice(r))),n}function qa(e){Fe("string"===typeof e,"invalid ENS name; not a string","name",e),Fe(e.length,"invalid ENS name (empty label)","name",e);let t=Ha;const n=Va(e);for(;n.length;)t=tn(qt([t,tn(n.pop())]));return Vt(t)}function Ja(e,t){const n=null!=t?t:63;return Fe(n<=255,"DNS encoded label cannot exceed 255","length",n),Vt(qt(Va(e).map((t=>{Fe(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}Ha.fill(0);class $a extends bt{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ze(e);const n=wt(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Xe(this),this.iHash.update(e),this}digestInto(e){Xe(this),Ye(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Wa=(e,t,n)=>new $a(e,t).update(n).digest();function Ya(e,t,n,r){Ze(e);const i=At({dkLen:32,asyncTick:10},r),{c:s,dkLen:a,asyncTick:o}=i;if(We(s),We(a),We(o),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=wt(t),u=wt(n),l=new Uint8Array(a),h=Wa.create(e,c),f=h._cloneInto().update(u);return{c:s,dkLen:a,asyncTick:o,DK:l,PRF:h,PRFSalt:f}}function Za(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function Xa(e,t,n,r){const{c:i,dkLen:s,DK:a,PRF:o,PRFSalt:c}=Ya(e,t,n,r);let u;const l=new Uint8Array(4),h=pt(l),f=new Uint8Array(o.outputLen);for(let d=1,p=0;p<s;d++,p+=o.outputLen){const e=a.subarray(p,p+o.outputLen);h.setInt32(0,d,!1),(u=c._cloneInto(u)).update(l).digestInto(f),e.set(f.subarray(0,e.length));for(let t=1;t<i;t++){o._cloneInto(u).update(f).digestInto(f);for(let t=0;t<e.length;t++)e[t]^=f[t]}}return Za(o,c,a,u,f)}Wa.create=(e,t)=>new $a(e,t);class eo extends bt{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pt(this.buffer)}update(e){Xe(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=wt(e)).length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a!==r)n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=pt(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xe(this),et(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let l=s;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,o,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=pt(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)a.setUint32(4*l,u[l],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const to=(e,t,n)=>e&t^~e&n,no=(e,t,n)=>e&t^e&n^t&n,ro=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),io=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),so=new Uint32Array(64);class ao extends eo{constructor(){super(64,32,8,!1),this.A=0|io[0],this.B=0|io[1],this.C=0|io[2],this.D=0|io[3],this.E=0|io[4],this.F=0|io[5],this.G=0|io[6],this.H=0|io[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:a,H:o}=this;return[e,t,n,r,i,s,a,o]}set(e,t,n,r,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let l=0;l<16;l++,t+=4)so[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const e=so[l-15],t=so[l-2],n=yt(e,7)^yt(e,18)^e>>>3,r=yt(t,17)^yt(t,19)^t>>>10;so[l]=r+so[l-7]+n+so[l-16]|0}let{A:n,B:r,C:i,D:s,E:a,F:o,G:c,H:u}=this;for(let l=0;l<64;l++){const e=u+(yt(a,6)^yt(a,11)^yt(a,25))+to(a,o,c)+ro[l]+so[l]|0,t=(yt(n,2)^yt(n,13)^yt(n,22))+no(n,r,i)|0;u=c,c=o,o=a,a=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,s,a,o,c,u)}roundClean(){so.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const oo=kt((()=>new ao)),[co,uo]=(()=>lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),lo=new Uint32Array(80),ho=new Uint32Array(80);class fo extends eo{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:a,Dl:o,Eh:c,El:u,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,n,r,i,s,a,o,c,u,l,h,f,d,p,y]}set(e,t,n,r,i,s,a,o,c,u,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let w=0;w<16;w++,t+=4)lo[w]=e.getUint32(t),ho[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|lo[w-15],t=0|ho[w-15],n=lt.rotrSH(e,t,1)^lt.rotrSH(e,t,8)^lt.shrSH(e,t,7),r=lt.rotrSL(e,t,1)^lt.rotrSL(e,t,8)^lt.shrSL(e,t,7),i=0|lo[w-2],s=0|ho[w-2],a=lt.rotrSH(i,s,19)^lt.rotrBH(i,s,61)^lt.shrSH(i,s,6),o=lt.rotrSL(i,s,19)^lt.rotrBL(i,s,61)^lt.shrSL(i,s,6),c=lt.add4L(r,o,ho[w-7],ho[w-16]),u=lt.add4H(c,n,a,lo[w-7],lo[w-16]);lo[w]=0|u,ho[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:a,Cl:o,Dh:c,Dl:u,Eh:l,El:h,Fh:f,Fl:d,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let w=0;w<80;w++){const e=lt.rotrSH(l,h,14)^lt.rotrSH(l,h,18)^lt.rotrBH(l,h,41),t=lt.rotrSL(l,h,14)^lt.rotrSL(l,h,18)^lt.rotrBL(l,h,41),b=l&f^~l&p,v=h&d^~h&y,A=lt.add5L(m,t,v,uo[w],ho[w]),k=lt.add5H(A,g,e,b,co[w],lo[w]),E=0|A,S=lt.rotrSH(n,r,28)^lt.rotrBH(n,r,34)^lt.rotrBH(n,r,39),I=lt.rotrSL(n,r,28)^lt.rotrBL(n,r,34)^lt.rotrBL(n,r,39),C=n&i^n&a^i&a,x=r&s^r&o^s&o;g=0|p,m=0|y,p=0|f,y=0|d,f=0|l,d=0|h,({h:l,l:h}=lt.add(0|c,0|u,0|k,0|E)),c=0|a,u=0|o,a=0|i,o=0|s,i=0|n,s=0|r;const B=lt.add3L(E,I,x);n=lt.add3H(B,k,S,C),r=0|B}({h:n,l:r}=lt.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=lt.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=lt.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l:u}=lt.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=lt.add(0|this.Eh,0|this.El,0|l,0|h)),({h:f,l:d}=lt.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:y}=lt.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=lt.add(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(n,r,i,s,a,o,c,u,l,h,f,d,p,y,g,m)}roundClean(){lo.fill(0),ho.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const po=kt((()=>new fo));const yo=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}(),go=yo.crypto||yo.msCrypto;function mo(e){switch(e){case"sha256":return oo.create();case"sha512":return po.create()}Fe(!1,"invalid hashing algorithm name","algorithm",e)}const wo=function(e){return mo("sha256").update(e).digest()},bo=function(e){return mo("sha512").update(e).digest()};let vo=wo,Ao=bo,ko=!1,Eo=!1;function So(e){const t=jt(e,"data");return Vt(vo(t))}function Io(e){const t=jt(e,"data");return Vt(Ao(t))}So._=wo,So.lock=function(){ko=!0},So.register=function(e){if(ko)throw new Error("sha256 is locked");vo=e},Object.freeze(So),Io._=bo,Io.lock=function(){Eo=!0},Io.register=function(e){if(Eo)throw new Error("sha512 is locked");Ao=e},Object.freeze(So);const Co="0x0000000000000000000000000000000000000000000000000000000000000000",xo=BigInt(0),Bo=BigInt(1),Po=BigInt(2),_o=BigInt(27),To=BigInt(28),No=BigInt(35),Ro={};function Do(e){return Yt(An(e),32)}class Uo{#X;#ee;#te;#ne;get r(){return this.#X}set r(e){Fe(32===Jt(e),"invalid r","value",e),this.#X=Vt(e)}get s(){return this.#ee}set s(e){Fe(32===Jt(e),"invalid s","value",e);const t=Vt(e);Fe(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ee=t}get v(){return this.#te}set v(e){const t=bn(e,"value");Fe(27===t||28===t,"invalid v","v",e),this.#te=t}get networkV(){return this.#ne}get legacyChainId(){const e=this.networkV;return null==e?null:Uo.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=jt(this.s);return this.yParity&&(e[0]|=128),Vt(e)}get compactSerialized(){return qt([this.r,this.yParityAndS])}get serialized(){return qt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){He(e,Ro,"Signature"),this.#X=t,this.#ee=n,this.#te=r,this.#ne=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Uo(Ro,this.r,this.s,this.v);return this.networkV&&(e.#ne=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=yn(e,"v");return t==_o||t==To?xo:(Fe(t>=No,"invalid EIP-155 v","v",e),(t-No)/Po)}static getChainIdV(e,t){return yn(e)*Po+BigInt(35+t-27)}static getNormalizedV(e){const t=yn(e);return t===xo||t===_o?27:t===Bo||t===To?28:(Fe(t>=No,"invalid v","v",e),t&Bo?27:28)}static from(e){function t(t,n){Fe(t,n,"signature",e)}if(null==e)return new Uo(Ro,Co,Co,27);if("string"===typeof e){const n=jt(e,"signature");if(64===n.length){const e=Vt(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new Uo(Ro,e,Vt(t),r)}if(65===n.length){const e=Vt(n.slice(0,32)),r=n.slice(32,64);t(0===(128&r[0]),"non-canonical s");const i=Uo.getNormalizedV(n[64]);return new Uo(Ro,e,Vt(r),i)}t(!1,"invalid raw signature length")}if(e instanceof Uo)return e.clone();const n=e.r;t(null!=n,"missing r");const r=Do(n),i=function(e,n){if(null!=e)return Do(e);if(null!=n){t(zt(n,32),"invalid yParityAndS");const e=jt(n);return e[0]&=127,Vt(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&jt(i)[0]),"non-canonical s");const{networkV:s,v:a}=function(e,n,r){if(null!=e){const t=yn(e);return{networkV:t>=No?t:void 0,v:Uo.getNormalizedV(t)}}if(null!=n)return t(zt(n,32),"invalid yParityAndS"),{v:128&jt(n)[0]?28:27};if(null!=r){switch(bn(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new Uo(Ro,r,i,a);return s&&(o.#ne=s),t(null==e.yParity||bn(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}BigInt(0);const Oo=BigInt(1),Lo=BigInt(2),Mo=e=>e instanceof Uint8Array,Ko=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Fo(e){if(!Mo(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Ko[e[n]];return t}function jo(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Qo(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function zo(e){return jo(Fo(e))}function Ho(e){if(!Mo(e))throw new Error("Uint8Array expected");return jo(Fo(Uint8Array.from(e).reverse()))}function Go(e,t){return Qo(e.toString(16).padStart(2*t,"0"))}function Vo(e,t){return Go(e,t).reverse()}function qo(e,t,n){let r;if("string"===typeof t)try{r=Qo(t)}catch(Qg){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${Qg}`)}else{if(!Mo(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Jo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Mo(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const $o=e=>(Lo<<BigInt(e-1))-Oo,Wo=e=>new Uint8Array(e),Yo=e=>Uint8Array.from(e);function Zo(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Wo(e),i=Wo(e),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();i=o(Yo([0]),e),r=o(),0!==e.length&&(i=o(Yo([1]),e),r=o())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return Jo(...n)};return(e,t)=>{let n;for(a(),c(e);!(n=t(u()));)c();return a(),n}}const Xo={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function ec(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Xo[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${n}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const tc=BigInt(0),nc=BigInt(1),rc=BigInt(2),ic=BigInt(3),sc=BigInt(4),ac=BigInt(5),oc=BigInt(8);BigInt(9),BigInt(16);function cc(e,t){const n=e%t;return n>=tc?n:t+n}function uc(e,t,n){if(n<=tc||t<tc)throw new Error("Expected power/modulo > 0");if(n===nc)return tc;let r=nc;for(;t>tc;)t&nc&&(r=r*e%n),e=e*e%n,t>>=nc;return r}function lc(e,t,n){let r=e;for(;t-- >tc;)r*=r,r%=n;return r}function hc(e,t){if(e===tc||t<=tc)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=cc(e,t),r=t,i=tc,s=nc,a=nc,o=tc;for(;n!==tc;){const e=r/n,t=r%n,c=i-a*e,u=s-o*e;r=n,n=t,i=a,s=o,a=c,o=u}if(r!==nc)throw new Error("invert: does not exist");return cc(i,t)}function fc(e){if(e%sc===ic){const t=(e+nc)/sc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%oc===ac){const t=(e-ac)/oc;return function(e,n){const r=e.mul(n,rc),i=e.pow(r,t),s=e.mul(n,i),a=e.mul(e.mul(s,rc),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-nc)/rc;let n,r,i;for(n=e-nc,r=0;n%rc===tc;n/=rc,r++);for(i=rc;i<e&&uc(i,t,e)!==e-nc;i++);if(1===r){const t=(e+nc)/sc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+nc)/rc;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,i),n),u=e.pow(a,s),l=e.pow(a,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,nc<<BigInt(o-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),o=t}return u}}(e)}const dc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pc(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function yc(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function gc(e){const t=yc(e);return t+Math.ceil(t/2)}const mc=BigInt(0),wc=BigInt(1);function bc(e){return function(e){const t=dc.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});ec(e,t)}(e.Fp),ec(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...pc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:vc,aT:Ac}=e,kc={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=kc;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:vc(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=kc,n="string"===typeof e?Ac(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=kc._parseInt(n.subarray(2)),{d:a,l:o}=kc._parseInt(s);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,a=i.length/2,o=n(s),c=n(a);return`30${n(a+s+4)}02${c}${i}02${o}${r}`}},Ec=BigInt(0),Sc=BigInt(1),Ic=(BigInt(2),BigInt(3));BigInt(4);function Cc(e){const t=function(e){const t=bc(e);ec(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Jo(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),a=n.mul(s,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&Ec<e&&e<t.n}function o(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Fo(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:zo(qo("private key",e,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(a=cc(a,s)),o(a),a}const u=new Map;function l(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(qo("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=s(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:s,py:a,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(s,i)),u=n.eql(n.mul(r,o),n.mul(a,i));return c&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Ic),{px:s,py:a,pz:o}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,f=n.mul(s,s),d=n.mul(a,a),p=n.mul(o,o),y=n.mul(s,a);return y=n.add(y,y),l=n.mul(s,o),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(d,u),u=n.add(d,u),u=n.mul(c,u),c=n.mul(y,c),l=n.mul(i,l),p=n.mul(e,p),y=n.sub(f,p),y=n.mul(e,y),y=n.add(y,l),l=n.add(f,f),f=n.add(l,f),f=n.add(f,p),f=n.mul(f,y),u=n.add(u,f),p=n.mul(a,o),p=n.add(p,p),f=n.mul(p,y),c=n.sub(c,f),l=n.mul(p,d),l=n.add(l,l),l=n.add(l,l),new h(c,u,l)}add(e){l(e);const{px:r,py:i,pz:s}=this,{px:a,py:o,pz:c}=e;let u=n.ZERO,f=n.ZERO,d=n.ZERO;const p=t.a,y=n.mul(t.b,Ic);let g=n.mul(r,a),m=n.mul(i,o),w=n.mul(s,c),b=n.add(r,i),v=n.add(a,o);b=n.mul(b,v),v=n.add(g,m),b=n.sub(b,v),v=n.add(r,s);let A=n.add(a,c);return v=n.mul(v,A),A=n.add(g,w),v=n.sub(v,A),A=n.add(i,s),u=n.add(o,c),A=n.mul(A,u),u=n.add(m,w),A=n.sub(A,u),d=n.mul(p,v),u=n.mul(y,w),d=n.add(u,d),u=n.sub(m,d),d=n.add(m,d),f=n.mul(u,d),m=n.add(g,g),m=n.add(m,g),w=n.mul(p,w),v=n.mul(y,v),m=n.add(m,w),w=n.sub(g,w),w=n.mul(p,w),v=n.add(v,w),g=n.mul(m,v),f=n.add(f,g),g=n.mul(A,v),u=n.mul(b,u),u=n.sub(u,g),g=n.mul(b,m),d=n.mul(A,d),d=n.add(d,g),new h(u,f,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return d.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===Ec)return r;if(o(e),e===Sc)return this;const{endo:i}=t;if(!i)return d.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:c,k2:u}=i.splitScalar(e),l=r,f=r,p=this;for(;a>Ec||u>Ec;)a&Sc&&(l=l.add(p)),u&Sc&&(f=f.add(p)),p=p.double(),a>>=Sc,u>>=Sc;return s&&(l=l.negate()),c&&(f=f.negate()),f=new h(n.mul(f.px,i.beta),f.py,f.pz),l.add(f)}multiply(e){o(e);let r,i,s=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:c}=a.splitScalar(s);let{p:u,f:l}=this.wNAF(t),{p:f,f:p}=this.wNAF(c);u=d.constTimeNegate(e,u),f=d.constTimeNegate(o,f),f=new h(n.mul(f.px,a.beta),f.py,f.pz),r=u.add(f),i=l.add(p)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Ec&&t!==Sc&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const a=n.mul(t,e),o=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Sc)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Sc?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Fo(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,d=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>mc;)n&wc&&(r=r.add(i)),i=i.double(),n>>=wc;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let a=e,o=a;for(let r=0;r<n;r++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){const{windows:a,windowSize:o}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*o;let r=Number(s&l);s>>=f,r>o&&(r-=h,s+=wc);const a=t,d=t+Math.abs(r)-1,p=e%2!==0,y=r<0;0===r?u=u.add(n(p,i[a])):c=c.add(n(y,i[d]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function xc(e){const t=function(e){const t=bc(e);return ec(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function a(e){return cc(e,r)}function o(e){return hc(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=Cc({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),a=Jo;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=zo(a);if(!(Ec<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Sc)===Sc)&&(i=n.neg(i)),{x:e,y:i}}var o}}),f=e=>Fo(Go(e,t.nByteLength));function d(e){return e>r>>Sc}const p=(e,t,n)=>zo(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=qo("compactSignature",e,2*n),new y(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=kc.toSig(qo("DER",e));return new y(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,u=b(qo("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const l=2===s||3===s?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",d=c.fromHex(h+f(l)),p=o(l),y=a(-u*p),g=a(i*p),m=c.BASE.multiplyAndAddUnsafe(d,y,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Qo(this.toDERHex())}toDERHex(){return kc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Qo(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=gc(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=yc(t),s=gc(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=cc(n?zo(e):Ho(e),t-nc)+nc;return n?Vo(a,i):Go(a,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof c}const w=t.bits2int||function(e){const n=zo(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return a(w(e))},v=$o(t.nBitLength);function A(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Ec<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Go(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:f,prehash:p,extraEntropy:g}=i;null==f&&(f=!0),e=qo("msgHash",e),p&&(e=qo("prehashed msgHash",s(e)));const m=b(e),v=u(r),k=[A(v),A(m)];if(null!=g){const e=!0===g?l(n.BYTES):g;k.push(qo("extraEntropy",e))}const S=Jo(...k),I=m;return{seed:S,k2sig:function(e){const t=w(e);if(!h(t))return;const n=o(t),r=c.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Ec)return;const s=a(n*a(I+i*v));if(s===Ec)return;let u=(r.x===i?0:2)|Number(r.y&Sc),l=s;return f&&d(s)&&(l=function(e){return d(e)?a(-e):e}(s),u^=1),new y(i,l,u)}}}const E={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;const{seed:i,k2sig:s}=k(e,n,r),a=t;return Zo(a.hash.outputLen,a.nByteLength,a.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const s=e;if(n=qo("msgHash",n),r=qo("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=i;let h,f;try{if("string"===typeof s||s instanceof Uint8Array)try{h=y.fromDER(s)}catch(k){if(!(k instanceof kc.Err))throw k;h=y.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;h=new y(e,t)}}f=c.fromHex(r)}catch(E){if("PARSE"===E.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;l&&(n=t.hash(n));const{r:d,s:p}=h,g=b(n),m=o(p),w=a(g*m),v=a(d*m),A=c.BASE.multiplyAndAddUnsafe(f,w,v)?.toAffine();return!!A&&a(A.x)===d},ProjectivePoint:c,Signature:y,utils:g}}function Bc(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Wa(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!ft(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:Et}}const Pc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tc=BigInt(1),Nc=BigInt(2),Rc=(e,t)=>(e+t/Nc)/t;function Dc(e){const t=Pc,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,h=lc(l,n,t)*l%t,f=lc(h,n,t)*l%t,d=lc(f,Nc,t)*u%t,p=lc(d,i,t)*d%t,y=lc(p,s,t)*p%t,g=lc(y,o,t)*y%t,m=lc(g,c,t)*g%t,w=lc(m,o,t)*y%t,b=lc(w,n,t)*l%t,v=lc(b,a,t)*p%t,A=lc(v,r,t)*u%t,k=lc(A,Nc,t);if(!Uc.eql(Uc.sqr(k),e))throw new Error("Cannot find square root");return k}const Uc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=tc)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=pc(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=fc(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:$o(i),ZERO:tc,ONE:nc,create:t=>cc(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return tc<=t&&t<e},is0:e=>e===tc,isOdd:e=>(e&nc)===nc,neg:t=>cc(-t,e),eql:(e,t)=>e===t,sqr:t=>cc(t*t,e),add:(t,n)=>cc(t+n,e),sub:(t,n)=>cc(t-n,e),mul:(t,n)=>cc(t*n,e),pow:(e,t)=>function(e,t,n){if(n<tc)throw new Error("Expected power > 0");if(n===tc)return e.ONE;if(n===nc)return t;let r=e.ONE,i=t;for(;n>tc;)n&nc&&(r=e.mul(r,i)),i=e.sqr(i),n>>=nc;return r}(o,e,t),div:(t,n)=>cc(t*hc(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>hc(t,e),sqrt:r.sqrt||(e=>a(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Vo(e,s):Go(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return n?Ho(e):zo(e)}});return Object.freeze(o)}(Pc,void 0,void 0,{sqrt:Dc}),Oc=function(e,t){const n=t=>xc({...e,...Bc(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Uc,n:_c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=_c,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=Rc(s*e,t),c=Rc(-r*e,t);let u=cc(e-o*n-c*i,t),l=cc(-o*r-c*s,t);const h=u>a,f=l>a;if(h&&(u=t-u),f&&(l=t-l),u>a||l>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:f,k2:l}}}},oo);BigInt(0);Oc.ProjectivePoint;class Lc{#re;constructor(e){Fe(32===Jt(e),"invalid private key","privateKey","[REDACTED]"),this.#re=Vt(e)}get privateKey(){return this.#re}get publicKey(){return Lc.computePublicKey(this.#re)}get compressedPublicKey(){return Lc.computePublicKey(this.#re,!0)}sign(e){Fe(32===Jt(e),"invalid digest length","digest",e);const t=Oc.sign(Qt(e),Qt(this.#re),{lowS:!0});return Uo.from({r:vn(t.r,32),s:vn(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Lc.computePublicKey(e);return Vt(Oc.getSharedSecret(Qt(this.#re),jt(t),!1))}static computePublicKey(e,t){let n=jt(e,"key");if(32===n.length){return Vt(Oc.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return Vt(Oc.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){Fe(32===Jt(e),"invalid digest length","digest",e);const n=Uo.from(t);let r=Oc.Signature.fromCompact(Qt(qt([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(Qt(e));return Fe(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=Oc.ProjectivePoint.fromHex(Lc.computePublicKey(e).substring(2)),i=Oc.ProjectivePoint.fromHex(Lc.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function Mc(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Kc(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function Fc(e,t,n,r){const i=[];for(;n<t+1+r;){const s=jc(e,n);i.push(s.result),Ke((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function jc(e,t){Ke(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{Ke(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=Kc(e,t+1,r);return n(t+1+r+i),Fc(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Fc(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=Kc(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:Vt(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:Vt(e.slice(t+1,t+1+r))}}return{consumed:1,result:Mc(e[t])}}function Qc(e){const t=jt(e,"data"),n=jc(t,0);return Fe(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function zc(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Hc(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Hc(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=zc(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(jt(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=zc(t.length);return n.unshift(183+n.length),n.concat(t)}const Gc="0123456789abcdef";function Vc(e){let t="0x";for(const n of Hc(e))t+=Gc[n>>4],t+=Gc[15&n];return t}function qc(e){let t;return t="string"===typeof e?Lc.computePublicKey(e,!1):e.publicKey,zn(tn("0x"+t.substring(4)).substring(26))}function Jc(e,t){return qc(Lc.recoverPublicKey(e,t))}const $c=BigInt(0),Wc=BigInt(2),Yc=BigInt(27),Zc=BigInt(28),Xc=BigInt(35),eu=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tu=131072;function nu(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=So(t).substring(4),"0x"+n}function ru(e){return"0x"===e?null:zn(e)}function iu(e,t){try{return yi(e)}catch(n){Fe(!1,n.message,t,e)}}function su(e,t){return"0x"===e?0:bn(e,t)}function au(e,t){if("0x"===e)return $c;const n=yn(e,t);return Fe(n<=eu,"value exceeds uint size",t,n),n}function ou(e,t){const n=yn(e,"value"),r=An(n);return Fe(r.length<=32,"value too large",`tx.${t}`,n),r}function cu(e){return yi(e).map((e=>[e.address,e.storageKeys]))}function uu(e,t){Fe(Array.isArray(e),`invalid ${t}`,"value",e);for(let n=0;n<e.length;n++)Fe(zt(e[n],32),"invalid ${ param } hash",`value[${n}]`,e[n]);return e}function lu(e,t){let n;try{if(n=su(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(a){Fe(!1,"invalid yParity","yParity",t[0])}const r=Yt(t[1],32),i=Yt(t[2],32),s=Uo.from({r:r,s:i,yParity:n});e.signature=s}class hu{#ie;#se;#n;#ae;#oe;#ce;#ue;#le;#he;#fe;#de;#pe;#ye;#ge;#me;#we;get type(){return this.#ie}set type(e){switch(e){case null:this.#ie=null;break;case 0:case"legacy":this.#ie=0;break;case 1:case"berlin":case"eip-2930":this.#ie=1;break;case 2:case"london":case"eip-1559":this.#ie=2;break;case 3:case"cancun":case"eip-4844":this.#ie=3;break;default:Fe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#se;return null==e&&3===this.type?Os:e}set to(e){this.#se=null==e?null:zn(e)}get nonce(){return this.#ae}set nonce(e){this.#ae=bn(e,"value")}get gasLimit(){return this.#oe}set gasLimit(e){this.#oe=yn(e)}get gasPrice(){const e=this.#ce;return null!=e||0!==this.type&&1!==this.type?e:$c}set gasPrice(e){this.#ce=null==e?null:yn(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#ue;return null==e?2===this.type||3===this.type?$c:null:e}set maxPriorityFeePerGas(e){this.#ue=null==e?null:yn(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#le;return null==e?2===this.type||3===this.type?$c:null:e}set maxFeePerGas(e){this.#le=null==e?null:yn(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=Vt(e)}get value(){return this.#he}set value(e){this.#he=yn(e,"value")}get chainId(){return this.#fe}set chainId(e){this.#fe=yn(e)}get signature(){return this.#de||null}set signature(e){this.#de=null==e?null:Uo.from(e)}get accessList(){const e=this.#pe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#pe=null==e?null:yi(e)}get maxFeePerBlobGas(){const e=this.#ye;return null==e&&3===this.type?$c:e}set maxFeePerBlobGas(e){this.#ye=null==e?null:yn(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ge;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){Fe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Fe(zt(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ge=e}get blobs(){return null==this.#we?null:this.#we.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#we=null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(Ht(i)){Ke(this.#me,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=jt(i);if(Fe(e.length<=tu,"blob is too large",`blobs[${r}]`,i),e.length!==tu){const t=new Uint8Array(tu);t.set(e),e=t}const s=this.#me.blobToKzgCommitment(e),a=Vt(this.#me.computeBlobKzgProof(e,s));t.push({data:Vt(e),commitment:Vt(s),proof:a}),n.push(nu(1,s))}else{const e=Vt(i.commitment);t.push({data:Vt(i.data),commitment:e,proof:Vt(i.proof)}),n.push(nu(1,e))}}this.#we=t,this.#ge=n}get kzg(){return this.#me}set kzg(e){this.#me=e}constructor(){this.#ie=null,this.#se=null,this.#ae=0,this.#oe=$c,this.#ce=null,this.#ue=null,this.#le=null,this.#n="0x",this.#he=$c,this.#fe=$c,this.#de=null,this.#pe=null,this.#ye=null,this.#ge=null,this.#we=null,this.#me=null}get hash(){return null==this.signature?null:tn(this.#be(!0,!1))}get unsignedHash(){return tn(this.unsignedSerialized)}get from(){return null==this.signature?null:Jc(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Lc.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#be(e,t){Ke(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[ou(e.nonce,"nonce"),ou(e.gasPrice||0,"gasPrice"),ou(e.gasLimit,"gasLimit"),e.to||"0x",ou(e.value,"value"),e.data];let r=$c;if(e.chainId!=$c)r=yn(e.chainId,"tx.chainId"),Fe(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==$c&&(n.push(An(r)),n.push("0x"),n.push("0x")),Vc(n);let i=BigInt(27+t.yParity);return r!==$c?i=Uo.getChainIdV(r,t.v):BigInt(t.v)!==i&&Fe(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(An(i)),n.push(An(t.r)),n.push(An(t.s)),Vc(n)}(this,n);case 1:return function(e,t){const n=[ou(e.chainId,"chainId"),ou(e.nonce,"nonce"),ou(e.gasPrice||0,"gasPrice"),ou(e.gasLimit,"gasLimit"),e.to||"0x",ou(e.value,"value"),e.data,cu(e.accessList||[])];return t&&(n.push(ou(t.yParity,"recoveryParam")),n.push(An(t.r)),n.push(An(t.s))),qt(["0x01",Vc(n)])}(this,n);case 2:return function(e,t){const n=[ou(e.chainId,"chainId"),ou(e.nonce,"nonce"),ou(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ou(e.maxFeePerGas||0,"maxFeePerGas"),ou(e.gasLimit,"gasLimit"),e.to||"0x",ou(e.value,"value"),e.data,cu(e.accessList||[])];return t&&(n.push(ou(t.yParity,"yParity")),n.push(An(t.r)),n.push(An(t.s))),qt(["0x02",Vc(n)])}(this,n);case 3:return function(e,t,n){const r=[ou(e.chainId,"chainId"),ou(e.nonce,"nonce"),ou(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ou(e.maxFeePerGas||0,"maxFeePerGas"),ou(e.gasLimit,"gasLimit"),e.to||Os,ou(e.value,"value"),e.data,cu(e.accessList||[]),ou(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),uu(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(ou(t.yParity,"yParity")),r.push(An(t.r)),r.push(An(t.s)),n)?qt(["0x03",Vc([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):qt(["0x03",Vc(r)])}(this,n,t?this.blobs:null)}Ke(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#be(!0,!0)}get unsignedSerialized(){return this.#be(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#ye||this.#ge;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Ke(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ke(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ke(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return hu.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new hu;if("string"===typeof e){const t=jt(e);if(t[0]>=127)return hu.from(function(e){const t=Qc(e);Fe(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:su(t[0],"nonce"),gasPrice:au(t[1],"gasPrice"),gasLimit:au(t[2],"gasLimit"),to:ru(t[3]),value:au(t[4],"value"),data:Vt(t[5]),chainId:$c};if(6===t.length)return n;const r=au(t[6],"v"),i=au(t[7],"r"),s=au(t[8],"s");if(i===$c&&s===$c)n.chainId=r;else{let e=(r-Xc)/Wc;e<$c&&(e=$c),n.chainId=e,Fe(e!==$c||r===Yc||r===Zc,"non-canonical legacy v","v",t[6]),n.signature=Uo.from({r:Yt(t[7],32),s:Yt(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return hu.from(function(e){const t=Qc(jt(e).slice(1));Fe(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Vt(e));const n={type:1,chainId:au(t[0],"chainId"),nonce:su(t[1],"nonce"),gasPrice:au(t[2],"gasPrice"),gasLimit:au(t[3],"gasLimit"),to:ru(t[4]),value:au(t[5],"value"),data:Vt(t[6]),accessList:iu(t[7],"accessList")};return 8===t.length||lu(n,t.slice(8)),n}(t));case 2:return hu.from(function(e){const t=Qc(jt(e).slice(1));Fe(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Vt(e));const n={type:2,chainId:au(t[0],"chainId"),nonce:su(t[1],"nonce"),maxPriorityFeePerGas:au(t[2],"maxPriorityFeePerGas"),maxFeePerGas:au(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:au(t[4],"gasLimit"),to:ru(t[5]),value:au(t[6],"value"),data:Vt(t[7]),accessList:iu(t[8],"accessList")};return 9===t.length||lu(n,t.slice(9)),n}(t));case 3:return hu.from(function(e){let t=Qc(jt(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];Fe(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),Fe(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),Fe(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),Fe(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),Fe(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}Fe(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",Vt(e));const i={type:3,chainId:au(t[0],"chainId"),nonce:su(t[1],"nonce"),maxPriorityFeePerGas:au(t[2],"maxPriorityFeePerGas"),maxFeePerGas:au(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:au(t[4],"gasLimit"),to:ru(t[5]),value:au(t[6],"value"),data:Vt(t[7]),accessList:iu(t[8],"accessList"),maxFeePerBlobGas:au(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),Fe(null!=i.to,`invalid address for transaction type: ${n}`,"data",e),Fe(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)Fe(zt(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",e);return 11===t.length||lu(i,t.slice(11)),i}(t))}Ke(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new hu;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Uo.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(Fe(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Fe(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(Fe(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Fe(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const fu="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let du=null;function pu(e){if(null==du){du={};for(let e=0;e<58;e++)du[fu[e]]=BigInt(e)}const t=du[e];return Fe(null!=t,"invalid base58 value","letter",e),t}const yu=BigInt(0),gu=BigInt(58);function mu(e){const t=jt(e);let n=wn(t),r="";for(;n;)r=fu[Number(n%gu)]+r,n/=gu;for(let i=0;i<t.length&&!t[i];i++)r=fu[0]+r;return r}function wu(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Fe(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class bu{name;constructor(e){De(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const vu=new RegExp("^(ipfs)://(.*)$","i"),Au=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),vu,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class ku{provider;address;name;#ve;#Ae;constructor(e,t,n){De(this,{provider:e,address:t,name:n}),this.#ve=null,this.#Ae=new ns(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ve&&(this.#ve=(async()=>{try{return await this.#Ae.supportsInterface("0x9061b923")}catch(e){if(Oe(e,"CALL_EXCEPTION"))return!1;throw this.#ve=null,e}})()),await this.#ve}async#ke(e,t){t=(t||[]).slice();const n=this.#Ae.interface;t.unshift(qa(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),Ke(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Ja(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#Ae[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!Oe(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#ke("addr(bytes32)");return null==e||e===Os?null:e}catch(i){if(Oe(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#ke("addr(bytes32,uint)",[t]);if(zt(n,20))return zn(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof bu&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await this.#ke("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;Ke(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#ke("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#ke("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${mu("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;Ke(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Au.length;r++){const i=n.match(Au[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=wu(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(i[2]||"").split("/");if(2!==o.length)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=o[1],u=new ns(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await u.ownerOf(c);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await u.balanceOf(a,c);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let l=await u[r](c);if(null==l||"0x"===l)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),"erc1155"===s&&(l=l.replace("{id}",vn(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=wu(l)),e.push({type:"metadata-url",value:l});let h={};const f=await new Rs(l).send();f.assertOk();try{h=f.bodyJson}catch(t){try{e.push({type:"!metadata",value:f.bodyText})}catch(t){const n=f.body;return n&&e.push({type:"!metadata",value:Vt(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!==typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(vu))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=wu(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return Ke(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#Ee(e,t){const n=await ku.getEnsAddress(e);try{const r=new ns(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(qa(t),{enableCcipRead:!0});return i===Os?null:i}catch(r){throw r}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await ku.#Ee(e,n);if(null!=r){const i=new ku(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}const Eu=BigInt(0);function Su(e,t){return function(n){return null==n?t:e(n)}}function Iu(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function Cu(e,t){return n=>{const r={};for(const s in e){let a=s;if(t&&s in t&&!(a in n))for(const e of t[s])if(e in n){a=e;break}try{const t=e[s](n[a]);void 0!==t&&(r[s]=t)}catch(i){Ke(!1,`invalid value for value.${s} (${i instanceof Error?i.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function xu(e){return Fe(zt(e,!0),"invalid data","value",e),e}function Bu(e){return Fe(zt(e,32),"invalid hash","value",e),e}const Pu=Cu({address:zn,blockHash:Bu,blockNumber:bn,data:xu,index:bn,removed:Su((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Fe(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:Iu(Bu),transactionHash:Bu,transactionIndex:bn},{index:["logIndex"]});const _u=Cu({hash:Su(Bu),parentHash:Bu,parentBeaconBlockRoot:Su(Bu,null),number:bn,timestamp:bn,nonce:Su(xu),difficulty:yn,gasLimit:yn,gasUsed:yn,stateRoot:Su(Bu,null),receiptsRoot:Su(Bu,null),blobGasUsed:Su(yn,null),excessBlobGas:Su(yn,null),miner:Su(zn),prevRandao:Su(Bu,null),extraData:xu,baseFeePerGas:Su(yn)},{prevRandao:["mixHash"]});const Tu=Cu({transactionIndex:bn,blockNumber:bn,transactionHash:Bu,address:zn,topics:Iu(Bu),data:xu,index:bn,blockHash:Bu},{index:["logIndex"]});const Nu=Cu({to:Su(zn,null),from:Su(zn,null),contractAddress:Su(zn,null),index:bn,root:Su(Vt),gasUsed:yn,blobGasUsed:Su(yn,null),logsBloom:Su(xu),blockHash:Bu,hash:Bu,logs:Iu((function(e){return Tu(e)})),blockNumber:bn,cumulativeGasUsed:yn,effectiveGasPrice:Su(yn),blobGasPrice:Su(yn,null),status:Su(bn),type:Su(bn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Ru(e){e.to&&yn(e.to)===Eu&&(e.to="0x0000000000000000000000000000000000000000");const t=Cu({hash:Bu,index:Su(bn,void 0),type:e=>"0x"===e||null==e?0:bn(e),accessList:Su(yi,null),blobVersionedHashes:Su(Iu(Bu,!0),null),blockHash:Su(Bu,null),blockNumber:Su(bn,null),transactionIndex:Su(bn,null),from:zn,gasPrice:Su(yn),maxPriorityFeePerGas:Su(yn),maxFeePerGas:Su(yn),maxFeePerBlobGas:Su(yn,null),gasLimit:yn,to:Su(zn,null),value:yn,nonce:bn,data:xu,creates:Su(zn,null),chainId:Su(yn,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=zn(e.from);let n=yn(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,zn($t(tn(Vc([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Uo.from(e.signature):t.signature=Uo.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&yn(t.blockHash)===Eu&&(t.blockHash=null),t}class Du{name;constructor(e){De(this,{name:e})}clone(){return new Du(this.name)}}class Uu extends Du{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),Fe("number"===typeof i,`invalud value for ${e}`,"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),De(this,n)}clone(){return new Uu(this.effectiveBlock,this)}}class Ou extends Du{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),De(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Ou(this.address,this.targetNetwork)}}class Lu extends Du{#M;#Se;get url(){return this.#M}get processFunc(){return this.#Se}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#M=e,this.#Se=t}clone(){return this}}const Mu=new Map;class Ku{#Ie;#fe;#Ce;constructor(e,t){this.#Ie=e,this.#fe=yn(t),this.#Ce=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Ie}set name(e){this.#Ie=e}get chainId(){return this.#fe}set chainId(e){this.#fe=yn(e,"chainId")}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===yn(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===yn(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===yn(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Ce.values())}attachPlugin(e){if(this.#Ce.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Ce.set(e.name,e.clone()),this}getPlugin(e){return this.#Ce.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Ku(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Uu;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=yi(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(Qu)return;function e(e,t,n){const r=function(){const r=new Ku(e,t);return null!=n.ensNetwork&&r.attachPlugin(new Ou(null,n.ensNetwork)),r.attachPlugin(new Uu),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};Ku.register(e,r),Ku.register(t,r),n.altNames&&n.altNames.forEach((e=>{Ku.register(e,r)}))}Qu=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[ju("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ju("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Ku.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=Mu.get(e);if(t)return t();if("bigint"===typeof e)return new Ku("unknown",e);Fe(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){Fe("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Ku(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Ou(e.ensAddress,e.ensNetwork)),t}Fe(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=Mu.get(e);n&&Fe(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Mu.set(e,t)}}function Fu(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function ju(e){return new Lu(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Fu(s.maxFee,9),maxPriorityFeePerGas:Fu(s.maxPriorityFee,9)}}catch(i){Ke(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:i})}}))}let Qu=!1;function zu(e){return JSON.parse(JSON.stringify(e))}class Hu{#xe;#Be;#Pe;#_e;constructor(e){this.#xe=e,this.#Be=null,this.#Pe=4e3,this.#_e=-2}get pollingInterval(){return this.#Pe}set pollingInterval(e){this.#Pe=e}async#Te(){try{const e=await this.#xe.getBlockNumber();if(-2===this.#_e)return void(this.#_e=e);if(e!==this.#_e){for(let t=this.#_e+1;t<=e;t++){if(null==this.#Be)return;await this.#xe.emit("block",t)}this.#_e=e}}catch(e){}null!=this.#Be&&(this.#Be=this.#xe._setTimeout(this.#Te.bind(this),this.#Pe))}start(){this.#Be||(this.#Be=this.#xe._setTimeout(this.#Te.bind(this),this.#Pe),this.#Te())}stop(){this.#Be&&(this.#xe._clearTimeout(this.#Be),this.#Be=null)}pause(e){this.stop(),e&&(this.#_e=-2)}resume(){this.start()}}class Gu{#xe;#Te;#Ne;constructor(e){this.#xe=e,this.#Ne=!1,this.#Te=e=>{this._poll(e,this.#xe)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Ne||(this.#Ne=!0,this.#Te(-2),this.#xe.on("block",this.#Te))}stop(){this.#Ne&&(this.#Ne=!1,this.#xe.off("block",this.#Te))}pause(e){this.stop()}resume(){this.start()}}class Vu extends Gu{#Re;#De;constructor(e,t){super(e),this.#Re=t,this.#De=-2}pause(e){e&&(this.#De=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Re);null!=n&&(-2===this.#De?this.#De=n.number:n.number>this.#De&&(t.emit(this.#Re,n.number),this.#De=n.number))}}class qu extends Gu{#C;constructor(e,t){super(e),this.#C=zu(t)}async _poll(e,t){throw new Error("@TODO")}}class Ju extends Gu{#Ue;constructor(e,t){super(e),this.#Ue=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Ue);n&&t.emit(this.#Ue,n)}}class $u{#xe;#C;#Be;#Ne;#_e;constructor(e,t){this.#xe=e,this.#C=zu(t),this.#Be=this.#Te.bind(this),this.#Ne=!1,this.#_e=-2}async#Te(e){if(-2===this.#_e)return;const t=zu(this.#C);t.fromBlock=this.#_e+1,t.toBlock=e;const n=await this.#xe.getLogs(t);if(0!==n.length)for(const r of n)this.#xe.emit(this.#C,r),this.#_e=r.blockNumber;else this.#_e<e-60&&(this.#_e=e-60)}start(){this.#Ne||(this.#Ne=!0,-2===this.#_e&&this.#xe.getBlockNumber().then((e=>{this.#_e=e})),this.#xe.on("block",this.#Be))}stop(){this.#Ne&&(this.#Ne=!1,this.#xe.off("block",this.#Be))}pause(e){this.stop(),e&&(this.#_e=-2)}resume(){this.start()}}const Wu=BigInt(2);function Yu(e){return e&&"function"===typeof e.then}function Zu(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return`bigint:${t.toString()}`;if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class Xu{name;constructor(e){De(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function el(e){return(e=Array.from(new Set(e).values())).sort(),e}async function tl(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(zt(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Zu("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Zu("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?el(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],i=[],s=n=>{zt(n)?e.push(n):i.push((async()=>{e.push(await di(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=el(e.map((e=>e.toLowerCase())))}return{filter:r,tag:Zu("event",r),type:"event"}}Fe(!1,"unknown ProviderEvent","event",e)}function nl(){return(new Date).getTime()}const rl={cacheTimeout:250,pollingInterval:4e3};class il{#Oe;#Ce;#Le;#Me;#Ke;#Fe;#je;#Qe;#ze;#He;#Ge;#e;constructor(e,t){if(this.#e=Object.assign({},rl,t||{}),"any"===e)this.#Fe=!0,this.#Ke=null;else if(e){const t=Ku.from(e);this.#Fe=!1,this.#Ke=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Fe=!1,this.#Ke=null;this.#Qe=-1,this.#je=new Map,this.#Oe=new Map,this.#Ce=new Map,this.#Le=null,this.#Me=!1,this.#ze=1,this.#He=new Map,this.#Ge=!1}get pollingInterval(){return this.#e.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Ce.values())}attachPlugin(e){if(this.#Ce.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Ce.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Ce.get(e)||null}get disableCcipRead(){return this.#Ge}set disableCcipRead(e){this.#Ge=!!e}async#Ve(e){const t=this.#e.cacheTimeout;if(t<0)return await this._perform(e);const n=Zu(e.method,e);let r=this.#je.get(n);return r||(r=this._perform(e),this.#je.set(n,r),setTimeout((()=>{this.#je.get(n)===r&&this.#je.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let o=0;o<n.length;o++){const t=n[o],c=t.replace("{sender}",r).replace("{data}",i),u=new Rs(c);-1===t.indexOf("{data}")&&(u.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:o,urls:n});let l,h="unknown error";try{l=await u.send()}catch(a){s.push(a.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:a}});continue}try{const e=l.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:e})}catch(a){}Ke(l.statusCode<400||l.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}Ke(!1,`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new Ai(function(e){const t=_u(e);return t.transactions=e.transactions.map((e=>"string"===typeof e?e:Ru(e))),t}(e),this)}_wrapLog(e,t){return new ki(function(e){return Pu(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Ei(function(e){return Nu(e)}(e),this)}_wrapTransactionResponse(e,t){return new Si(Ru(e),this)}_detectNetwork(){Ke(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ke(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=bn(await this.#Ve({method:"getBlockNumber"}),"%response");return this.#Qe>=0&&(this.#Qe=e),e}_getAddress(e){return di(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return zt(e)?zt(e,32)?e:kn(e):("bigint"===typeof e&&(e=bn(e,"blockTag")),"number"===typeof e?e>=0?kn(e):this.#Qe>=0?kn(this.#Qe+e):this.getBlockNumber().then((t=>kn(t+e))):void Fe(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?el(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const a={};return s&&(a.address=s),t.length&&(a.topics=t),r&&(a.fromBlock=r),i&&(a.toBlock=i),n&&(a.blockHash=n),a};let i,s,a=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)a.push(this._getAddress(o));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!==typeof e)).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(a),i,s]).then((e=>r(e[0],e[1],e[2]))):r(a,i,s)}_getTransactionRequest(e){const t=vi(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=di(t[e],this);Yu(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);Yu(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#Ke){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#Ke===e&&(this.#Ke=null),t}})();return this.#Ke=e,(await e).clone()}const e=this.#Ke,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#Fe?(this.emit("network",n,t),this.#Ke===e&&(this.#Ke=Promise.resolve(n))):Ke(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await Re({_block:this.#qe("latest",!1),gasPrice:(async()=>{try{return yn(await this.#Ve({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return yn(await this.#Ve({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=a.baseFeePerGas*Wu+s),new bi(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Rs(n.url),r=await n.processFunc(t,this,e);return new bi(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Yu(t)&&(t=await t),yn(await this.#Ve({method:"estimateGas",transaction:t}),"%response")}async#Je(e,t,n){Ke(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=vi(e);try{return Vt(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&Le(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===$t(i.data,0,4)){const e=i.data,s=await di(r.to,this);let a;try{a=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ke(Jt(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=$t(e,0,32);Ke($t(n,0,12)===$t(hl,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=$t(n,12);try{const n=[],r=bn($t(e,32,64)),i=bn($t(e,r,r+32)),s=$t(e,r+32);for(let e=0;e<i;e++){const t=sl(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){Ke(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=al(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){Ke(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ke($t(e,100,128)===$t(hl,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=$t(e,96,100);try{const n=al(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){Ke(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}($t(i.data,4))}catch(i){Ke(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}Ke(a.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(r,a.calldata,a.urls);Ke(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:a.errorArgs}});const c={to:s,data:qt([a.selector,ll([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#Je(c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async#$e(e){const{value:t}=await Re({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await Re({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#$e(this.#Je(t,n,e.enableCcipRead?0:-1))}async#We(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await this.#$e(this.#Ve(Object.assign(e,{address:r,blockTag:i})))}async getBalance(e,t){return yn(await this.#We({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return bn(await this.#We({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Vt(await this.#We({method:"getCode"},e,t))}async getStorage(e,t,n){const r=yn(t,"position");return Vt(await this.#We({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await Re({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=hu.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async#qe(e,t){if(zt(e,32))return await this.#Ve({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await this.#Ve({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await Re({network:this.getNetwork(),params:this.#qe(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await Re({network:this.getNetwork(),params:this.#Ve({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Re({network:this.getNetwork(),params:this.#Ve({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#Ve({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Re({network:this.getNetwork(),result:this.#Ve({method:"getTransactionResult",hash:e})});return null==t?null:Vt(t)}async getLogs(e){let t=this._getFilter(e);Yu(t)&&(t=await t);const{network:n,params:r}=await Re({network:this.getNetwork(),params:this.#Ve({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){Ke(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ku.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=qa((e=zn(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await ku.getEnsAddress(this),r=new ns(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===Os)return null;const s=new ns(i,["function name(bytes32) view returns (string)"],this),a=await s.name(t);return await this.resolveName(a)!==e?null:a}catch(n){if(Oe(n,"BAD_DATA")&&"0x"===n.value)return null;if(Oe(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let s=null;const a=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",a)};null!=n&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",a),i(Me("timeout","TIMEOUT",{reason:"timeout"})))}),n)),a(await this.getBlockNumber())}))}async waitForBlock(e){Ke(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#He.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#He.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#ze++,r=()=>{this.#He.delete(n),e()};if(this.paused)this.#He.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#He.set(n,{timer:e,func:r,time:nl()})}return n}_forEachSubscriber(e){for(const t of this.#Oe.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Xu(e.type);case"block":{const e=new Hu(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Vu(this,e.type);case"event":return new $u(this,e.filter);case"transaction":return new Ju(this,e.hash);case"orphan":return new qu(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#Oe.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#Le&&t.pause(this.#Le);break}}async#Ye(e,t){let n=await tl(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await tl({orphan:"drop-log",log:t[0]},this)),this.#Oe.get(n.tag)||null}async#Ze(e){const t=await tl(e,this),n=t.tag;let r=this.#Oe.get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Oe.set(n,r)}return r}async on(e,t){const n=await this.#Ze(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Le&&n.subscriber.pause(this.#Le)),this}async once(e,t){const n=await this.#Ze(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Le&&n.subscriber.pause(this.#Le)),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await this.#Ye(e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:r,once:i}=t;const s=new xi(this,i?null:r,e);try{r.call(this,...n,s)}catch(a){}return!i})),0===i.listeners.length&&(i.started&&i.subscriber.stop(),this.#Oe.delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await this.#Ye(e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of this.#Oe.values())t+=n.length;return t}async listeners(e){if(e){const t=await this.#Ye(e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}let t=[];for(const{listeners:n}of this.#Oe.values())t=t.concat(n.map((e=>{let{listener:t}=e;return t})));return t}async off(e,t){const n=await this.#Ye(e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#Oe.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#Ze(e);n&&r.stop(),this.#Oe.delete(t)}else for(const[t,{started:n,subscriber:r}]of this.#Oe)n&&r.stop(),this.#Oe.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Me}destroy(){this.removeAllListeners();for(const e of this.#He.keys())this._clearTimeout(e);this.#Me=!0}get paused(){return null!=this.#Le}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Qe=-1,null!=this.#Le){if(this.#Le==!!e)return;Ke(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Le=!!e;for(const t of this.#He.values())t.timer&&clearTimeout(t.timer),t.time=nl()-t.time}resume(){if(null!=this.#Le){this._forEachSubscriber((e=>e.resume())),this.#Le=null;for(const e of this.#He.values()){let t=e.time;t<0&&(t=0),e.time=nl(),setTimeout(e.func,t)}}}}function sl(e,t){try{const n=al(e,t);if(n)return on(n)}catch(n){}return null}function al(e,t){if("0x"===e)return null;try{const n=bn($t(e,t,t+32)),r=bn($t(e,n,n+32));return $t(e,n+32,n+32+r)}catch(n){}return null}function ol(e){const t=An(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function cl(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const ul=new Uint8Array([]);function ll(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(ul),n+=32;for(let r=0;r<e.length;r++){const i=jt(e[r]);t[r]=ol(n),t.push(ol(i.length)),t.push(cl(i)),n+=32+32*Math.ceil(i.length/32)}return qt(t)}const hl="0x0000000000000000000000000000000000000000000000000000000000000000";function fl(e,t){if(e.provider)return e.provider;Ke(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function dl(e,t){let n=vi(t);if(null!=n.to&&(n.to=di(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),di(t,e)]).then((e=>{let[t,n]=e;return Fe(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t}))}else n.from=e.getAddress();return await Re(n)}class pl{provider;constructor(e){De(this,{provider:e||null})}async getNonce(e){return fl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await dl(this,e)}async populateTransaction(e){const t=fl(this,"populateTransaction"),n=await dl(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){Fe(yn(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||Fe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):Fe(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();Ke(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Ke(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):Ke(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await Re(n)}async estimateGas(e){return fl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return fl(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=fl(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=fl(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=hu.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class yl extends pl{address;constructor(e,t){super(t),De(this,{address:e})}async getAddress(){return this.address}connect(e){return new yl(this.address,e)}#Xe(e,t){Ke(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#Xe("transactions","signTransaction")}async signMessage(e){this.#Xe("messages","signMessage")}async signTypedData(e,t,n){this.#Xe("typed-data","signTypedData")}}class gl{#xe;#et;#Be;#Ne;#tt;#nt;constructor(e){this.#xe=e,this.#et=null,this.#Be=this.#Te.bind(this),this.#Ne=!1,this.#tt=null,this.#nt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Te(e){try{null==this.#et&&(this.#et=this._subscribe(this.#xe));let e=null;try{e=await this.#et}catch(t){if(!Oe(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return this.#et=null,void this.#xe._recoverSubscriber(this,this._recover(this.#xe));const n=await this.#xe.getNetwork();if(this.#tt||(this.#tt=n),this.#tt.chainId!==n.chainId)throw new Error("chaid changed");if(this.#nt)return;const r=await this.#xe.send("eth_getFilterChanges",[e]);await this._emitResults(this.#xe,r)}catch(t){console.log("@TODO",t)}this.#xe.once("block",this.#Be)}#rt(){const e=this.#et;e&&(this.#et=null,e.then((e=>{this.#xe.destroyed||this.#xe.send("eth_uninstallFilter",[e])})))}start(){this.#Ne||(this.#Ne=!0,this.#Te(-2))}stop(){this.#Ne&&(this.#Ne=!1,this.#nt=!0,this.#rt(),this.#xe.off("block",this.#Be))}pause(e){e&&this.#rt(),this.#xe.off("block",this.#Be)}resume(){this.start()}}class ml extends gl{#it;constructor(e,t){var n;super(e),this.#it=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new $u(e,this.#it)}async _subscribe(e){return await e.send("eth_newFilter",[this.#it])}async _emitResults(e,t){for(const n of t)e.emit(this.#it,e._wrapLog(n,e._network))}}class wl extends gl{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const bl="bigint,boolean,function,number,string,symbol".split(/,/g);function vl(e){if(null==e||bl.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(vl);if("object"===typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Al(e){return new Promise((t=>{setTimeout(t,e)}))}function kl(e){return e?e.toLowerCase():e}function El(e){return e&&"number"===typeof e.pollingInterval}const Sl={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Il extends pl{address;constructor(e,t){super(e),De(this,{address:t=zn(t)})}connect(e){Ke(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=vl(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await di(r,this.provider);Fe(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await di(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const i=[1e3,100];let s=0;const a=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(o){if(Oe(o,"CANCELLED")||Oe(o,"BAD_DATA")||Oe(o,"NETWORK_ERROR")||Oe(o,"UNSUPPORTED_OPERATION"))return null==o.info&&(o.info={}),o.info.sendTransactionHash=n,void r(o);if(Oe(o,"INVALID_ARGUMENT")&&(s++,null==o.info&&(o.info={}),o.info.sendTransactionHash=n,s>10))return void r(o);this.provider.emit("error",Me("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:o}))}this.provider._setTimeout((()=>{a()}),i.pop()||4e3)};a()}))}async signTransaction(e){const t=vl(e);if(t.from){const n=await di(t.from,this.provider);Fe(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?an(e):e;return await this.provider.send("personal_sign",[Vt(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=vl(n),i=await As.resolveNames(e,t,r,(async e=>{const t=await di(e);return Fe(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(As.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?an(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Vt(t)])}}class Cl extends il{#e;#st;#at;#ot;#ct;#tt;#ut;#lt(){if(this.#ot)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ot=setTimeout((()=>{this.#ot=null;const e=this.#at;for(this.#at=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#e.batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map((e=>e.payload)));if(n.length>this.#e.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(Me("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?r(this.getRpcError(i,t)):e(t.result);else{const e=Me("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e)}}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}}),e)}constructor(e,t){super(e,t),this.#st=1,this.#e=Object.assign({},Sl,t||{}),this.#at=[],this.#ot=null,this.#tt=null,this.#ut=null;{let e=null;const t=new Promise((t=>{e=t}));this.#ct={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"===typeof n?(Fe(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#tt=Ku.from(e))):n&&(Fe(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#tt=n)}_getOption(e){return this.#e[e]}get _network(){return Ke(this.#tt,"network is not available yet","NETWORK_ERROR"),this.#tt}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&yn(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#tt)return this.#tt}return this.#ut?await this.#ut:this.ready?(this.#ut=(async()=>{try{const e=Ku.from(yn(await this.send("eth_chainId",[])));return this.#ut=null,e}catch(e){throw this.#ut=null,e}})(),await this.#ut):(this.#ut=(async()=>{const e={id:this.#st++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ut=null}catch(n){throw this.#ut=null,this.emit("debug",{action:"receiveRpcError",error:n}),n}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Ku.from(yn(t.result));throw this.getRpcError(e,t)})(),await this.#ut)}_start(){null!=this.#ct&&null!=this.#ct.resolve&&(this.#ct.resolve(),this.#ct=null,(async()=>{for(;null==this.#tt&&!this.destroyed;)try{this.#tt=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Me("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Al(1e3)}this.#lt()})())}async _waitUntilReady(){if(null!=this.#ct)return await this.#ct.promise}_getSubscriber(e){return"pending"===e.type?new wl(this):"event"===e.type?this._getOption("polling")?new $u(this,e.filter):new ml(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Xu("orphan"):super._getSubscriber(e)}get ready(){return null==this.#ct}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=kn(yn(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=Vt(e[n]))})),e.accessList&&(t.accessList=yi(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[kl(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[kl(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[kl(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[kl(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(kl):e.filter.address=kl(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Me("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Pl(r),i=ri.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return _l(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return Me("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Me("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return Me("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Me("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return Me("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?Me("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):Me("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Me("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#st++,r=new Promise(((r,i)=>{this.#at.push({resolve:r,reject:i,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#lt(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Il(this,n[e])}const{accounts:n}=await Re({network:this.getNetwork(),accounts:t});e=zn(e);for(const r of n)if(zn(r)===e)return new Il(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Il(this,e)))}destroy(){this.#ot&&(clearTimeout(this.#ot),this.#ot=null);for(const{payload:e,reject:t}of this.#at)t(Me("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#at=[],super.destroy()}}class xl extends Cl{#ht;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=Sl.pollingInterval),this.#ht=n}_getSubscriber(e){const t=super._getSubscriber(e);return El(t)&&(t.pollingInterval=this.#ht),t}get pollingInterval(){return this.#ht}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#ht=e,this._forEachSubscriber((e=>{El(e)&&(e.pollingInterval=this.#ht)}))}}class Bl extends xl{#ft;constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),this.#ft="string"===typeof e?new Rs(e):e.clone()}_getConnection(){return this.#ft.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}}function Pl(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&zt(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Pl(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Pl(JSON.parse(e))}catch(t){}return null}function _l(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)_l(e[n],t);if("string"===typeof e)try{return _l(JSON.parse(e),t)}catch(n){}}}const Tl="conet",Nl="https://rpc.conet.network",Rl=new Bl(Nl),Dl=()=>{const{miningData:e}=Pe(),[t,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n(200===(null===e||void 0===e?void 0:e.status))}),e),(0,Ce.jsxs)("div",{className:"mining-status",children:[(0,Ce.jsxs)("div",{className:"mining",children:[(0,Ce.jsx)("div",{className:"circle "+(t?"green":"red")}),(0,Ce.jsxs)("p",{children:["Mining ",t?"UP":"DOWN"]})]}),(0,Ce.jsxs)("div",{className:"rate",children:["Mining Rate: ",null===e||void 0===e?void 0:e.rate]}),(0,Ce.jsxs)("div",{className:"miners",children:["Online Miners: ",null===e||void 0===e?void 0:e.online]})]})};var Ul=Yl(),Ol=e=>ql(e,Ul),Ll=Yl();Ol.write=e=>ql(e,Ll);var Ml=Yl();Ol.onStart=e=>ql(e,Ml);var Kl=Yl();Ol.onFrame=e=>ql(e,Kl);var Fl=Yl();Ol.onFinish=e=>ql(e,Fl);var jl=[];Ol.setTimeout=(e,t)=>{const n=Ol.now()+t,r=()=>{const e=jl.findIndex((e=>e.cancel==r));~e&&jl.splice(e,1),Gl-=~e?1:0},i={time:n,handler:e,cancel:r};return jl.splice(Ql(n),0,i),Gl+=1,Jl(),i};var Ql=e=>~(~jl.findIndex((t=>t.time>e))||~jl.length);Ol.cancel=e=>{Ml.delete(e),Kl.delete(e),Fl.delete(e),Ul.delete(e),Ll.delete(e)},Ol.sync=e=>{Vl=!0,Ol.batchedUpdates(e),Vl=!1},Ol.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,Ol.onStart(n)}return r.handler=e,r.cancel=()=>{Ml.delete(n),t=null},r};var zl="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Ol.use=e=>zl=e,Ol.now="undefined"!=typeof performance?()=>performance.now():Date.now,Ol.batchedUpdates=e=>e(),Ol.catch=console.error,Ol.frameLoop="always",Ol.advance=()=>{"demand"!==Ol.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Wl()};var Hl=-1,Gl=0,Vl=!1;function ql(e,t){Vl?(t.delete(e),e(0)):(t.add(e),Jl())}function Jl(){Hl<0&&(Hl=0,"demand"!==Ol.frameLoop&&zl($l))}function $l(){~Hl&&(zl($l),Ol.batchedUpdates(Wl))}function Wl(){const e=Hl;Hl=Ol.now();const t=Ql(Hl);t&&(Zl(jl.splice(0,t),(e=>e.handler())),Gl-=t),Gl?(Ml.flush(),Ul.flush(e?Math.min(64,Hl-e):16.667),Kl.flush(),Ll.flush(),Fl.flush()):Hl=-1}function Yl(){let e=new Set,t=e;return{add(n){Gl+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Gl-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Gl-=t.size,Zl(t,(t=>t(n)&&e.add(t))),Gl+=e.size,t=e)}}}function Zl(e,t){e.forEach((e=>{try{t(e)}catch(Qg){Ol.catch(Qg)}}))}var Xl=Object.defineProperty,eh={};function th(){}((e,t)=>{for(var n in t)Xl(e,n,{get:t[n],enumerable:!0})})(eh,{assign:()=>yh,colors:()=>fh,createStringInterpolator:()=>ch,skipAnimation:()=>dh,to:()=>uh,willAdvance:()=>ph});var nh={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function rh(e,t){if(nh.arr(e)){if(!nh.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var ih=(e,t)=>e.forEach(t);function sh(e,t,n){if(nh.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var ah=e=>nh.und(e)?[]:nh.arr(e)?e:[e];function oh(e,t){if(e.size){const n=Array.from(e);e.clear(),ih(n,t)}}var ch,uh,lh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oh(e,(e=>e(...n)))},hh=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fh=null,dh=!1,ph=th,yh=e=>{e.to&&(uh=e.to),e.now&&(Ol.now=e.now),void 0!==e.colors&&(fh=e.colors),null!=e.skipAnimation&&(dh=e.skipAnimation),e.createStringInterpolator&&(ch=e.createStringInterpolator),e.requestAnimationFrame&&Ol.use(e.requestAnimationFrame),e.batchedUpdates&&(Ol.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ph=e.willAdvance),e.frameLoop&&(Ol.frameLoop=e.frameLoop)},gh=new Set,mh=[],wh=[],bh=0,vh={get idle(){return!gh.size&&!mh.length},start(e){bh>e.priority?(gh.add(e),Ol.onStart(Ah)):(kh(e),Ol(Sh))},advance:Sh,sort(e){if(bh)Ol.onFrame((()=>vh.sort(e)));else{const t=mh.indexOf(e);~t&&(mh.splice(t,1),Eh(e))}},clear(){mh=[],gh.clear()}};function Ah(){gh.forEach(kh),gh.clear(),Ol(Sh)}function kh(e){mh.includes(e)||Eh(e)}function Eh(e){mh.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(mh,(t=>t.priority>e.priority)),0,e)}function Sh(e){const t=wh;for(let n=0;n<mh.length;n++){const r=mh[n];bh=r.priority,r.idle||(ph(r),r.advance(e),r.idle||t.push(r))}return bh=0,(wh=mh).length=0,(mh=t).length>0}var Ih="[-+]?\\d*\\.?\\d+",Ch=Ih+"%";function xh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Bh=new RegExp("rgb"+xh(Ih,Ih,Ih)),Ph=new RegExp("rgba"+xh(Ih,Ih,Ih,Ih)),_h=new RegExp("hsl"+xh(Ih,Ch,Ch)),Th=new RegExp("hsla"+xh(Ih,Ch,Ch,Ih)),Nh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Rh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Dh=/^#([0-9a-fA-F]{6})$/,Uh=/^#([0-9a-fA-F]{8})$/;function Oh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lh(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=Oh(i,r,e+1/3),a=Oh(i,r,e),o=Oh(i,r,e-1/3);return Math.round(255*s)<<24|Math.round(255*a)<<16|Math.round(255*o)<<8}function Mh(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Kh(e){return(parseFloat(e)%360+360)%360/360}function Fh(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function jh(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Qh(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Dh.exec(e))?parseInt(t[1]+"ff",16)>>>0:fh&&void 0!==fh[e]?fh[e]:(t=Bh.exec(e))?(Mh(t[1])<<24|Mh(t[2])<<16|Mh(t[3])<<8|255)>>>0:(t=Ph.exec(e))?(Mh(t[1])<<24|Mh(t[2])<<16|Mh(t[3])<<8|Fh(t[4]))>>>0:(t=Nh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Uh.exec(e))?parseInt(t[1],16)>>>0:(t=Rh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=_h.exec(e))?(255|Lh(Kh(t[1]),jh(t[2]),jh(t[3])))>>>0:(t=Th.exec(e))?(Lh(Kh(t[1]),jh(t[2]),jh(t[3]))|Fh(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var zh=(e,t,n)=>{if(nh.fun(e))return e;if(nh.arr(e))return zh({range:e,output:t,extrapolate:n});if(nh.str(e.output[0]))return ch(e);const r=e,i=r.output,s=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,s);return function(e,t,n,r,i,s,a,o,c){let u=c?c(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>n){if("identity"===o)return u;"clamp"===o&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=s(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,s[t],s[t+1],i[t],i[t+1],c,a,o,r.map)}};var Hh=1.70158,Gh=1.525*Hh,Vh=Hh+1,qh=2*Math.PI/3,Jh=2*Math.PI/4.5,$h=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Wh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Vh*e*e*e-Hh*e*e,easeOutBack:e=>1+Vh*Math.pow(e-1,3)+Hh*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-Gh)/2:(Math.pow(2*e-2,2)*((Gh+1)*(2*e-2)+Gh)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*qh),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*qh)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Jh)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Jh)/2+1,easeInBounce:e=>1-$h(1-e),easeOutBounce:$h,easeInOutBounce:e=>e<.5?(1-$h(1-2*e))/2:(1+$h(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},Yh=Symbol.for("FluidValue.get"),Zh=Symbol.for("FluidValue.observers"),Xh=e=>Boolean(e&&e[Yh]),ef=e=>e&&e[Yh]?e[Yh]():e,tf=e=>e[Zh]||null;function nf(e,t){const n=e[Zh];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var rf=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");sf(this,e)}},sf=(e,t)=>uf(e,Yh,t);function af(e,t){if(e[Yh]){let n=e[Zh];n||uf(e,Zh,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function of(e,t){const n=e[Zh];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Zh]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var cf,uf=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),lf=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hf=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ff=new RegExp(`(${lf.source})(%|[a-z]+)`,"i"),df=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,pf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,yf=e=>{const[t,n]=gf(e);if(!t||hh())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&pf.test(n)?yf(n):n||e},gf=e=>{const t=pf.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},mf=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,wf=e=>{cf||(cf=fh?new RegExp(`(${Object.keys(fh).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>ef(e).replace(pf,yf).replace(hf,Qh).replace(cf,Qh))),n=t.map((e=>e.match(lf).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))),i=r.map((t=>zh({...e,output:t})));return e=>{const n=!ff.test(t[0])&&t.find((e=>ff.test(e)))?.replace(lf,"");let r=0;return t[0].replace(lf,(()=>`${i[r++](e)}${n||""}`)).replace(df,mf)}},bf="react-spring: ",vf=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${bf}once requires a function parameter`);return function(){n||(t(...arguments),n=!0)}},Af=vf(console.warn);var kf=vf(console.warn);function Ef(e){return nh.str(e)&&("#"==e[0]||/\d/.test(e)||!hh()&&pf.test(e)||e in(fh||{}))}var Sf=hh()?r.useEffect:r.useLayoutEffect;function If(){const e=(0,r.useState)()[1],t=(()=>{const e=(0,r.useRef)(!1);return Sf((()=>(e.current=!0,()=>{e.current=!1})),[]),e})();return()=>{t.current&&e(Math.random())}}var Cf=e=>(0,r.useEffect)(e,xf),xf=[];function Bf(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e})),t.current}var Pf=Symbol.for("Animated:node"),_f=e=>e&&e[Pf],Tf=(e,t)=>{return n=e,r=Pf,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},Nf=e=>e&&e[Pf]&&e[Pf].getPayload(),Rf=class{constructor(){Tf(this,this)}getPayload(){return this.payload||[]}},Df=class extends Rf{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,nh.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Df(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return nh.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,nh.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Uf=class extends Df{constructor(e){super(0),this._string=null,this._toString=zh({output:[e,e]})}static create(e){return new Uf(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(nh.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=zh({output:[this.getValue(),e]})),this._value=0,super.reset()}},Of={dependencies:null},Lf=class extends Rf{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return sh(this.source,((n,r)=>{var i;(i=n)&&i[Pf]===i?t[r]=n.getValue(e):Xh(n)?t[r]=ef(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ih(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return sh(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Of.dependencies&&Xh(e)&&Of.dependencies.add(e);const t=Nf(e);t&&ih(t,(e=>this.add(e)))}},Mf=class extends Lf{constructor(e){super(e)}static create(e){return new Mf(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(Kf)),!0)}};function Kf(e){return(Ef(e)?Uf:Df).create(e)}function Ff(e){const t=_f(e);return t?t.constructor:nh.arr(e)?Mf:Ef(e)?Uf:Df}var jf=(e,t)=>{const n=!nh.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,r.forwardRef)(((i,s)=>{const a=(0,r.useRef)(null),o=n&&(0,r.useCallback)((e=>{a.current=function(e,t){e&&(nh.fun(e)?e(t):e.current=t);return t}(s,e)}),[s]),[c,u]=function(e,t){const n=new Set;Of.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new Lf(e),Of.dependencies=null,[e,n]}(i,t),l=If(),h=()=>{const e=a.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&l()},f=new Qf(h,u),d=(0,r.useRef)();Sf((()=>(d.current=f,ih(u,(e=>af(e,f))),()=>{d.current&&(ih(d.current.deps,(e=>of(e,d.current))),Ol.cancel(d.current.update))}))),(0,r.useEffect)(h,[]),Cf((()=>()=>{const e=d.current;ih(e.deps,(t=>of(t,e)))}));const p=t.getComponentProps(c.getValue());return r.createElement(e,{...p,ref:o})}))},Qf=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Ol.write(this.update)}};var zf=Symbol.for("AnimatedComponent"),Hf=e=>nh.str(e)?e:e&&nh.str(e.displayName)?e.displayName:nh.fun(e)&&e.name||null;function Gf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nh.fun(e)?e(...n):e}var Vf=(e,t)=>!0===e||!!(t&&e&&(nh.fun(e)?e(t):ah(e).includes(t))),qf=(e,t)=>nh.obj(e)?t&&e[t]:e,Jf=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,$f=e=>e,Wf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$f,n=Yf;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);nh.und(n)||(r[i]=n)}return r},Yf=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Zf={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Xf(e){const t=function(e){const t={};let n=0;if(sh(e,((e,r)=>{Zf[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return sh(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function ed(e){return e=ef(e),nh.arr(e)?e.map(ed):Ef(e)?eh.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function td(e){for(const t in e)return!0;return!1}function nd(e){return nh.fun(e)||nh.arr(e)&&nh.obj(e[0])}function rd(e,t){e.ref?.delete(e),t?.delete(e)}function id(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var sd={tension:170,friction:26,mass:1,damping:1,easing:Wh.linear,clamp:!1},ad=class{constructor(){this.velocity=0,Object.assign(this,sd)}};function od(e,t){if(nh.und(t.decay)){const n=!nh.und(t.tension)||!nh.und(t.friction);!n&&nh.und(t.frequency)&&nh.und(t.damping)&&nh.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var cd=[],ud=class{constructor(){this.changed=!1,this.values=cd,this.toValues=null,this.fromValues=cd,this.config=new ad,this.immediate=!1}};function ld(e,t){let{key:n,props:r,defaultProps:i,state:s,actions:a}=t;return new Promise(((t,o)=>{let c,u,l=Vf(r.cancel??i?.cancel,n);if(l)d();else{nh.und(r.pause)||(s.paused=Vf(r.pause,n));let e=i?.pause;!0!==e&&(e=s.paused||Vf(e,n)),c=Gf(r.delay||0,n),e?(s.resumeQueue.add(f),a.pause()):(a.resume(),f())}function h(){s.resumeQueue.add(f),s.timeouts.delete(u),u.cancel(),c=u.time-Ol.now()}function f(){c>0&&!eh.skipAnimation?(s.delayed=!0,u=Ol.setTimeout(d,c),s.pauseQueue.add(h),s.timeouts.add(u)):d()}function d(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(u),e<=(s.cancelId||0)&&(l=!0);try{a.start({...r,callId:e,cancel:l},t)}catch(n){o(n)}}}))}var hd=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?pd(e.get()):t.every((e=>e.noop))?fd(e.get()):dd(e.get(),t.every((e=>e.finished))),fd=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),dd=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},pd=e=>({value:e,cancelled:!0,finished:!1});function yd(e,t,n,r){const{callId:i,parentId:s,onRest:a}=t,{asyncTo:o,promise:c}=n;return s||e!==o||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const u=Wf(t,((e,t)=>"onRest"===t?void 0:e));let l,h;const f=new Promise(((e,t)=>(l=e,h=t))),d=e=>{const t=i<=(n.cancelId||0)&&pd(r)||i!==n.asyncId&&dd(r,!1);if(t)throw e.result=t,h(e),e},p=(e,t)=>{const s=new md,a=new wd;return(async()=>{if(eh.skipAnimation)throw gd(n),a.result=dd(r,!1),h(a),a;d(s);const o=nh.obj(e)?{...e}:{...t,to:e};o.parentId=i,sh(u,((e,t)=>{nh.und(o[t])&&(o[t]=e)}));const c=await r.start(o);return d(s),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),c})()};let y;if(eh.skipAnimation)return gd(n),dd(r,!1);try{let t;t=nh.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(l),f]),y=dd(r.get(),!0,!1)}catch(g){if(g instanceof md)y=g.result;else{if(!(g instanceof wd))throw g;y=g.result}}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?o:void 0,n.promise=s?c:void 0)}return nh.fun(a)&&Ol.batchedUpdates((()=>{a(y,r,r.item)})),y})():c}function gd(e,t){oh(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var md=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},wd=class extends Error{constructor(){super("SkipAnimationSignal")}},bd=e=>e instanceof Ad,vd=1,Ad=class extends rf{constructor(){super(...arguments),this.id=vd++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=_f(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eh.to(this,t)}interpolate(){Af(`${bf}The "interpolate" function is deprecated in v9 (use "to" instead)`);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eh.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){nf(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||vh.sort(this),nf(this,{type:"priority",parent:this,priority:e})}},kd=Symbol.for("SpringPhase"),Ed=e=>(1&e[kd])>0,Sd=e=>(2&e[kd])>0,Id=e=>(4&e[kd])>0,Cd=(e,t)=>t?e[kd]|=3:e[kd]&=-3,xd=(e,t)=>t?e[kd]|=4:e[kd]&=-5,Bd=class extends Ad{constructor(e,t){if(super(),this.animation=new ud,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!nh.und(e)||!nh.und(t)){const n=nh.obj(e)?{...e}:{...t,from:e};nh.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Sd(this)||this._state.asyncTo)||Id(this)}get goal(){return ef(this.animation.to)}get velocity(){const e=_f(this);return e instanceof Df?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Ed(this)}get isAnimating(){return Sd(this)}get isPaused(){return Id(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,a=Nf(r.to);!a&&Xh(r.to)&&(i=ah(ef(r.to))),r.values.forEach(((o,c)=>{if(o.done)return;const u=o.constructor==Uf?1:a?a[c].lastPosition:i[c];let l=r.immediate,h=u;if(!l){if(h=o.lastPosition,s.tension<=0)return void(o.done=!0);let t=o.elapsedTime+=e;const n=r.fromValues[c],i=null!=o.v0?o.v0:o.v0=nh.arr(s.velocity)?s.velocity[c]:s.velocity;let a;const f=s.precision||(n==u?.005:Math.min(1,.001*Math.abs(u-n)));if(nh.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,r=Math.exp(-(1-e)*t);h=n+i/(1-e)*(1-r),l=Math.abs(o.lastPosition-h)<=f,a=i*r}else{a=null==o.lastVelocity?i:o.lastVelocity;const t=s.restVelocity||f/10,r=s.clamp?0:s.bounce,c=!nh.und(r),d=n==u?o.v0>0:n<u;let p,y=!1;const g=1,m=Math.ceil(e/g);for(let e=0;e<m&&(p=Math.abs(a)>t,p||(l=Math.abs(u-h)<=f,!l));++e){c&&(y=h==u||h>u==d,y&&(a=-a*r,h=u));a+=(1e-6*-s.tension*(h-u)+.001*-s.friction*a)/s.mass*g,h+=a*g}}else{let r=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,o.durationProgress>0&&(o.elapsedTime=s.duration*o.durationProgress,t=o.elapsedTime+=e)),r=(s.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,o.durationProgress=r),h=n+s.easing(r)*(u-n),a=(h-o.lastPosition)/e,l=1==r}o.lastVelocity=a,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),l=!0)}a&&!a[c].done&&(l=!1),l?o.done=!0:t=!1,o.setValue(h,s.round)&&(n=!0)}));const o=_f(this),c=o.getValue();if(t){const e=ef(r.to);c===e&&!n||s.decay?n&&s.decay&&this._onChange(c):(o.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(c)}set(e){return Ol.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Sd(this)){const{to:e,config:t}=this.animation;Ol.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return nh.und(e)?(n=this.queue||[],this.queue=[]):n=[nh.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>hd(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),gd(this._state,e&&this._lastCallId),Ol.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=nh.obj(n)?n[t]:n,(null==n||nd(n))&&(n=void 0),r=nh.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return Ed(this)||(e.reverse&&([n,r]=[r,n]),r=ef(r),nh.und(r)?_f(this)||this._set(n):this._set(r)),i}_update(e,t){let{...n}=e;const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,Wf(n,((e,t)=>/^on/.test(t)?qf(e,r):e))),Ud(this,n,"onProps"),Od(this,"onProps",n,this);const s=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return ld(++this._lastCallId,{key:r,props:n,defaultProps:i,state:a,actions:{pause:()=>{Id(this)||(xd(this,!0),lh(a.pauseQueue),Od(this,"onPause",dd(this,Pd(this,this.animation.to)),this))},resume:()=>{Id(this)&&(xd(this,!1),Sd(this)&&this._resume(),lh(a.resumeQueue),Od(this,"onResume",dd(this,Pd(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=_d(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(pd(this));const r=!nh.und(e.to),i=!nh.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(pd(this));this._lastToId=t.callId}const{key:s,defaultProps:a,animation:o}=this,{to:c,from:u}=o;let{to:l=c,from:h=u}=e;!i||r||t.default&&!nh.und(l)||(l=h),t.reverse&&([l,h]=[h,l]);const f=!rh(h,u);f&&(o.from=h),h=ef(h);const d=!rh(l,c);d&&this._focus(l);const p=nd(t.to),{config:y}=o,{decay:g,velocity:m}=y;(r||i)&&(y.velocity=0),t.config&&!p&&function(e,t,n){n&&(od(n={...n},t),t={...n,...t}),od(e,t),Object.assign(e,t);for(const a in sd)null==e[a]&&(e[a]=sd[a]);let{frequency:r,damping:i}=e;const{mass:s}=e;nh.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r)}(y,Gf(t.config,s),t.config!==a.config?Gf(a.config,s):void 0);let w=_f(this);if(!w||nh.und(l))return n(dd(this,!0));const b=nh.und(t.reset)?i&&!t.default:!nh.und(h)&&Vf(t.reset,s),v=b?h:this.get(),A=ed(l),k=nh.num(A)||nh.arr(A)||Ef(A),E=!p&&(!k||Vf(a.immediate||t.immediate,s));if(d){const e=Ff(l);if(e!==w.constructor){if(!E)throw Error(`Cannot animate between ${w.constructor.name} and ${e.name}, as the "to" prop suggests`);w=this._set(A)}}const S=w.constructor;let I=Xh(l),C=!1;if(!I){const e=b||!Ed(this)&&f;(d||e)&&(C=rh(ed(v),A),I=!C),(rh(o.immediate,E)||E)&&rh(y.decay,g)&&rh(y.velocity,m)||(I=!0)}if(C&&Sd(this)&&(o.changed&&!b?I=!0:I||this._stop(c)),!p&&((I||Xh(c))&&(o.values=w.getPayload(),o.toValues=Xh(l)?null:S==Uf?[1]:ah(A)),o.immediate!=E&&(o.immediate=E,E||b||this._set(c)),I)){const{onRest:e}=o;ih(Dd,(e=>Ud(this,t,e)));const r=dd(this,Pd(this,c));lh(this._pendingCalls,r),this._pendingCalls.add(n),o.changed&&Ol.batchedUpdates((()=>{o.changed=!b,e?.(r,this),b?Gf(a.onRest,r):o.onStart?.(r,this)}))}b&&this._set(v),p?n(yd(t.to,t,this._state,this)):I?this._start():Sd(this)&&!d?this._pendingCalls.add(n):n(fd(v))}_focus(e){const t=this.animation;e!==t.to&&(tf(this)&&this._detach(),t.to=e,tf(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Xh(t)&&(af(t,this),bd(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Xh(e)&&of(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=ef(e);if(!nh.und(n)){const e=_f(this);if(!e||!rh(n,e.getValue())){const r=Ff(n);e&&e.constructor==r?e.setValue(n):Tf(this,r.create(n)),e&&Ol.batchedUpdates((()=>{this._onChange(n,t)}))}}return _f(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Od(this,"onStart",dd(this,Pd(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Gf(this.animation.onChange,e,this)),Gf(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;_f(this).reset(ef(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Sd(this)||(Cd(this,!0),Id(this)||this._resume())}_resume(){eh.skipAnimation?this.finish():vh.start(this)}_stop(e,t){if(Sd(this)){Cd(this,!1);const n=this.animation;ih(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),nf(this,{type:"idle",parent:this});const r=t?pd(this.get()):dd(this.get(),Pd(this,e??n.to));lh(this._pendingCalls,r),n.changed&&(n.changed=!1,Od(this,"onRest",r,this))}}};function Pd(e,t){const n=ed(t);return rh(ed(e.get()),n)}function _d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const r=Gf(t);if(r){const i=!0!==r&&Xf(r),s=(i||e).reverse,a=!i||i.reset;return Td({...e,loop:t,default:!1,pause:void 0,to:!s||nd(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function Td(e){const{to:t,from:n}=e=Xf(e),r=new Set;return nh.obj(t)&&Rd(t,r),nh.obj(n)&&Rd(n,r),e.keys=r.size?Array.from(r):null,e}function Nd(e){const t=Td(e);return nh.und(t.default)&&(t.default=Wf(t)),t}function Rd(e,t){sh(e,((e,n)=>null!=e&&t.add(n)))}var Dd=["onStart","onRest","onChange","onPause","onResume"];function Ud(e,t,n){e.animation[n]=t[n]!==Jf(t,n)?qf(t[n],e.key):void 0}function Od(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.animation[t]?.(...r),e.defaultProps[t]?.(...r)}var Ld=["onStart","onChange","onRest"],Md=1,Kd=class{constructor(e,t){this.id=Md++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];nh.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Td(e)),this}start(e){let{queue:t}=this;return e?t=ah(e).map(Td):this.queue=[],this._flush?this._flush(this,t):(Vd(this,t),Fd(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;ih(ah(t),(t=>n[t].stop(!!e)))}else gd(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(nh.und(e))this.start({pause:!0});else{const t=this.springs;ih(ah(e),(e=>t[e].pause()))}return this}resume(e){if(nh.und(e))this.start({pause:!1});else{const t=this.springs;ih(ah(e),(e=>t[e].resume()))}return this}each(e){sh(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,oh(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const s=!r&&this._started,a=i||s&&n.size?this.get():null;i&&t.size&&oh(t,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})),s&&(this._started=!1,oh(n,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Ol.onFrame(this._onFrame)}};function Fd(e,t){return Promise.all(t.map((t=>jd(e,t)))).then((t=>hd(e,t)))}async function jd(e,t,n){const{keys:r,to:i,from:s,loop:a,onRest:o,onResolve:c}=t,u=nh.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===s&&(t.from=null);const l=nh.arr(i)||nh.fun(i)?i:void 0;l?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):ih(Ld,(n=>{const r=t[n];if(nh.fun(r)){const i=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const s=i.get(r);s?(t||(s.finished=!1),n&&(s.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},u&&(u[n]=t[n])}}));const h=e._state;t.pause===!h.paused?(h.paused=t.pause,lh(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),d=!0===t.cancel||!0===Jf(t,"cancel");(l||d&&h.asyncId)&&f.push(ld(++e._lastAsyncId,{props:t,state:h,actions:{pause:th,resume:th,start(t,n){d?(gd(h,e._lastAsyncId),n(pd(e))):(t.onRest=o,n(yd(l,t,h,e)))}}})),h.paused&&await new Promise((e=>{h.resumeQueue.add(e)}));const p=hd(e,await Promise.all(f));if(a&&p.finished&&(!n||!p.noop)){const n=_d(t,a,i);if(n)return Vd(e,[n]),jd(e,n,!0)}return c&&Ol.batchedUpdates((()=>c(p,e,e.item))),p}function Qd(e,t){const n={...e.springs};return t&&ih(ah(t),(e=>{nh.und(e.keys)&&(e=Td(e)),nh.obj(e.to)||(e={...e,to:void 0}),Gd(n,e,(e=>Hd(e)))})),zd(e,n),n}function zd(e,t){sh(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,af(t,e))}))}function Hd(e,t){const n=new Bd;return n.key=e,t&&af(n,t),n}function Gd(e,t,n){t.keys&&ih(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Vd(e,t){ih(t,(t=>{Gd(e.springs,t,(t=>Hd(t,e)))}))}var qd=e=>{let{children:t,...n}=e;const i=(0,r.useContext)(Jd),s=n.pause||!!i.pause,a=n.immediate||!!i.immediate;n=function(e,t){const[n]=(0,r.useState)((()=>({inputs:t,result:e()}))),i=(0,r.useRef)(),s=i.current;let a=s;if(a){const n=Boolean(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs));n||(a={inputs:t,result:e()})}else a=n;return(0,r.useEffect)((()=>{i.current=a,s==n&&(n.inputs=n.result=void 0)}),[a]),a.result}((()=>({pause:s,immediate:a})),[s,a]);const{Provider:o}=Jd;return r.createElement(o,{value:n},t)},Jd=function(e,t){return Object.assign(e,r.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(qd,{});qd.Provider=Jd.Provider,qd.Consumer=Jd.Consumer;var $d=()=>{const e=[],t=function(t){kf(`${bf}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return ih(e,((e,i)=>{if(nh.und(t))r.push(e.start());else{const s=n(t,e,i);s&&r.push(e.start(s))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return ih(e,(e=>e.pause(...arguments))),this},t.resume=function(){return ih(e,(e=>e.resume(...arguments))),this},t.set=function(t){ih(e,((e,n)=>{const r=nh.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return ih(e,((e,r)=>{if(nh.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return ih(e,(e=>e.stop(...arguments))),this},t.update=function(t){return ih(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return nh.fun(e)?e(n,t):e};return t._getProps=n,t};function Wd(e,t,n){const i=nh.fun(t)&&t;i&&!n&&(n=[]);const s=(0,r.useMemo)((()=>i||3==arguments.length?$d():void 0),[]),a=(0,r.useRef)(0),o=If(),c=(0,r.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=Qd(e,t);return a.current>0&&!c.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?Fd(e,t):new Promise((r=>{zd(e,n),c.queue.push((()=>{r(Fd(e,t))})),o()}))}})),[]),u=(0,r.useRef)([...c.ctrls]),l=[],h=Bf(e)||0;function f(e,n){for(let r=e;r<n;r++){const e=u.current[r]||(u.current[r]=new Kd(null,c.flush)),n=i?i(r,e):t[r];n&&(l[r]=Nd(n))}}(0,r.useMemo)((()=>{ih(u.current.slice(e,h),(e=>{rd(e,s),e.stop(!0)})),u.current.length=e,f(h,e)}),[e]),(0,r.useMemo)((()=>{f(0,Math.min(h,e))}),n);const d=u.current.map(((e,t)=>Qd(e,l[t]))),p=(0,r.useContext)(qd),y=Bf(p),g=p!==y&&td(p);Sf((()=>{a.current++,c.ctrls=u.current;const{queue:e}=c;e.length&&(c.queue=[],ih(e,(e=>e()))),ih(u.current,((e,t)=>{s?.add(e),g&&e.start({default:p});const n=l[t];n&&(id(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Cf((()=>()=>{ih(c.ctrls,(e=>e.stop(!0)))}));const m=d.map((e=>({...e})));return s?[m,s]:m}function Yd(e,t){const n=nh.fun(e),[[r],i]=Wd(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}var Zd=class extends Ad{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=zh(...t);const n=this._get(),r=Ff(n);Tf(this,r.create(n))}advance(e){const t=this._get();rh(t,this.get())||(_f(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ep(this._active)&&tp(this)}_get(){const e=nh.arr(this.source)?this.source.map(ef):ah(ef(this.source));return this.calc(...e)}_start(){this.idle&&!ep(this._active)&&(this.idle=!1,ih(Nf(this),(e=>{e.done=!1})),eh.skipAnimation?(Ol.batchedUpdates((()=>this.advance())),tp(this)):vh.start(this))}_attach(){let e=1;ih(ah(this.source),(t=>{Xh(t)&&af(t,this),bd(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){ih(ah(this.source),(e=>{Xh(e)&&of(e,this)})),this._active.clear(),tp(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=ah(this.source).reduce(((e,t)=>Math.max(e,(bd(t)?t.priority:0)+1)),0))}};function Xd(e){return!1!==e.idle}function ep(e){return!e.size||Array.from(e).every(Xd)}function tp(e){e.idle||(e.idle=!0,ih(Nf(e),(e=>{e.done=!0})),nf(e,{type:"idle",parent:e}))}eh.assign({createStringInterpolator:wf,to:(e,t)=>new Zd(e,t)});vh.advance;var np=/^--/;function rp(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||np.test(e)||sp.hasOwnProperty(e)&&sp[e]?(""+t).trim():t+"px"}var ip={};var sp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ap=["Webkit","Ms","Moz","O"];sp=Object.keys(sp).reduce(((e,t)=>(ap.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),sp);var op=/^(matrix|translate|scale|rotate|skew)/,cp=/^(translate)/,up=/^(rotate|skew)/,lp=(e,t)=>nh.num(e)&&0!==e?e+t:e,hp=(e,t)=>nh.arr(e)?e.every((e=>hp(e,t))):nh.num(e)?e===t:parseFloat(e)===t,fp=class extends Lf{constructor(e){let{x:t,y:n,z:r,...i}=e;const s=[],a=[];(t||n||r)&&(s.push([t||0,n||0,r||0]),a.push((e=>[`translate3d(${e.map((e=>lp(e,"px"))).join(",")})`,hp(e,0)]))),sh(i,((e,t)=>{if("transform"===t)s.push([e||""]),a.push((e=>[e,""===e]));else if(op.test(t)){if(delete i[t],nh.und(e))return;const n=cp.test(t)?"px":up.test(t)?"deg":"";s.push(ah(e)),a.push("rotate3d"===t?e=>{let[t,r,i,s]=e;return[`rotate3d(${t},${r},${i},${lp(s,n)})`,hp(s,0)]}:e=>[`${t}(${e.map((e=>lp(e,n))).join(",")})`,hp(e,t.startsWith("scale")?1:0)])}})),s.length&&(i.transform=new dp(s,a)),super(i)}},dp=class extends rf{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return ih(this.inputs,((n,r)=>{const i=ef(n[0]),[s,a]=this.transforms[r](nh.arr(i)?i:n.map(ef));e+=" "+s,t=t&&a})),t?"none":e}observerAdded(e){1==e&&ih(this.inputs,(e=>ih(e,(e=>Xh(e)&&af(e,this)))))}observerRemoved(e){0==e&&ih(this.inputs,(e=>ih(e,(e=>Xh(e)&&of(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),nf(this,e)}};eh.assign({batchedUpdates:a.unstable_batchedUpdates,createStringInterpolator:wf,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var pp=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new Lf(e),getComponentProps:r=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=e=>{const t=Hf(e)||"Anonymous";return(e=nh.str(e)?s[e]||(s[e]=jf(e,i)):e[zf]||(e[zf]=jf(e,i))).displayName=`Animated(${t})`,e};return sh(e,((t,n)=>{nh.arr(e)&&(n=Hf(t)),s[n]=s(t)})),{animated:s}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:r,style:i,children:s,scrollTop:a,scrollLeft:o,viewBox:c,...u}=t,l=Object.values(u),h=Object.keys(u).map((t=>n||e.hasAttribute(t)?t:ip[t]||(ip[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==s&&(e.textContent=s);for(const f in i)if(i.hasOwnProperty(f)){const t=rp(f,i[f]);np.test(f)?e.style.setProperty(f,t):e.style[f]=t}h.forEach(((t,n)=>{e.setAttribute(t,l[n])})),void 0!==r&&(e.className=r),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==c&&e.setAttribute("viewBox",c)},createAnimatedStyle:e=>new fp(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}),yp=pp.animated,gp=n(476),mp=n.n(gp);function wp(){return mp()({growth:8,edges:20}).path}function bp(e){const[t,n]=(0,r.useState)(!1),{path:i}=Yd({to:{path:wp()},from:{path:wp()},reverse:t,config:{duration:2e3},onRest:e=>{e.value.path=wp(),n(!t)}});return(0,Ce.jsx)("svg",{viewBox:"0 0 500 500",width:"100%",style:{zIndex:"2",...e.style},children:(0,Ce.jsx)(yp.path,{fill:e.color,d:i})})}function vp(e){let{children:t}=e;return(0,Ce.jsxs)("div",{className:"blob-wrapper",children:[(0,Ce.jsx)(bp,{color:"#000000D9",style:{width:"220%",opacity:.8,position:"absolute",top:"50%",left:0,transform:"translate(-18%, -40%)"}}),(0,Ce.jsx)(bp,{color:"#00000080",style:{width:"180%",position:"absolute",top:"50%",left:0,transform:"translate(-12%, -40%)"}}),t]})}function Ap(e){let{isMenuVisible:t,toggleMenu:n}=e;const r=te();return(0,Ce.jsx)("div",{className:"menu "+(t?"menu-visible":""),children:(0,Ce.jsxs)("div",{className:"menu-content",children:[(0,Ce.jsx)("div",{children:(0,Ce.jsx)("img",{src:"/assets/header-title.svg"})}),(0,Ce.jsxs)("div",{className:"menu-container",children:[(0,Ce.jsxs)("a",{className:"menu-item",href:"https://conet.network/",target:"_blank",rel:"noreferrer",children:[(0,Ce.jsx)("img",{src:"/assets/site-icon.svg",width:24,height:24}),"Open CoNET Website"]}),(0,Ce.jsxs)("a",{className:"menu-item",href:"https://t.me/conet_network",target:"_blank",rel:"noreferrer",children:[(0,Ce.jsx)("img",{src:"/assets/telegram-icon.svg",width:24,height:24}),"Join Telegram Group"]}),(0,Ce.jsxs)("a",{className:"menu-item",href:"https://twitter.com/CoNET_Network",target:"_blank",rel:"noreferrer",children:[(0,Ce.jsx)("img",{src:"/assets/twitter-icon.svg",width:24,height:24}),"Follow us on Twitter"]}),(0,Ce.jsxs)("a",{className:"menu-item",href:"https://discord.gg/JrpMBFkewd",target:"_blank",rel:"noreferrer",children:[(0,Ce.jsx)("img",{src:"/assets/discord-icon.svg",width:24,height:24}),"Join Discord Server"]}),(0,Ce.jsxs)("button",{className:"menu-item",onClick:()=>r("/about"),children:[(0,Ce.jsx)("img",{src:"/assets/about.svg",width:24,height:24}),"About"]})]}),(0,Ce.jsx)("div",{className:"menu-footer",children:(0,Ce.jsx)("div",{className:"menu-footer-content",children:(0,Ce.jsxs)("div",{className:"menu-item",onClick:()=>{n(),r("/")},children:[(0,Ce.jsx)("img",{src:"/assets/exit-icon.svg",width:24,height:24}),"Return to homepage"]})})})]})})}const kp=()=>{const{profile:e,sRegion:t,setSRegion:n,setAllRegions:i,allRegions:s}=Pe(),[a,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[l,h]=(0,r.useState)(!0),[f,d]=(0,r.useState)(!1),[p,y]=(0,r.useState)(!1),[g,m]=(0,r.useState)(!1),[w,b]=(0,r.useState)(!1),v=te();(0,r.useEffect)((()=>{if(s&&s.length>0)return void h(!1);(async()=>{const e=await(async()=>{const e=new ns(rs.address,rs.abi,Rl);try{return await e.getAllRegions()}catch(t){throw t}})(),t=Array.from(new Set(e.map((e=>{const t=e.split(".")[1],n=ke[t];return JSON.stringify({code:t,country:n})})))).map((e=>JSON.parse(e)));i(t)})(),setTimeout((()=>h(!1)),3e3)}),[s,i]);const A=()=>{y((e=>!e))},k=async()=>{let e=-1;var r,i;if(c)return u(!1),void(null===(r=window)||void 0===r||null===(i=r.webkit)||void 0===i||i.messageHandlers.stopVPN.postMessage(null));try{var a,o;d(!0),-1===t?(e=Math.floor(Math.random()*s.length),n(e)):e=t;const r=s[e].code;return console.log("selected country: ",r),null===(a=window)||void 0===a||null===(o=a.webkit)||void 0===o||o.messageHandlers.startVPN.postMessage(r),void setTimeout((()=>{d(!1),u(!0)}),5e3)}catch(l){u(!1)}};return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"header",children:(0,Ce.jsxs)("div",{className:"header-content",children:[(0,Ce.jsx)("div",{className:"menu-icon",onClick:A,children:(0,Ce.jsx)("img",{src:"/assets/menu.svg"})}),(0,Ce.jsx)("div",{children:(0,Ce.jsx)("img",{src:"/assets/header-title.svg"})}),(0,Ce.jsx)("div",{style:{visibility:"hidden"},children:"lang"})]})}),(0,Ce.jsx)(Ap,{isMenuVisible:p,toggleMenu:A}),(0,Ce.jsxs)("div",{className:"home",children:[(0,Ce.jsx)(Dl,{}),l?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("button",{className:"power",children:(0,Ce.jsx)("img",{className:"loading-spinning",src:"/assets/silent-pass-logo-grey.png",width:85,height:85,alt:""})}),(0,Ce.jsx)("p",{className:"not-connected",children:"Welcome to Silent Pass"})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(()=>{var t,n,r,i;return f?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("p",{className:"connection",children:["Connecting ",(0,Ce.jsx)("span",{children:" Silent Pass "})]}),(0,Ce.jsx)(vp,{children:(0,Ce.jsx)("button",{className:"power",children:(0,Ce.jsx)("img",{src:"/assets/loading-ring.png",className:"loading-spinning",width:85,height:85,alt:""})})}),(0,Ce.jsx)("p",{className:"connected",children:"Loading..."})]}):c?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("p",{className:"connection",children:["Your connection is ",(0,Ce.jsx)("span",{children:"protected!"})]}),(0,Ce.jsx)(vp,{children:(0,Ce.jsx)("button",{className:"power",onClick:k,children:(0,Ce.jsx)("img",{src:"/assets/power.png",width:85,height:85,alt:""})})}),(0,Ce.jsxs)("div",{className:"current-mined",children:[(0,Ce.jsx)("p",{children:null===e||void 0===e||null===(t=e.tokens)||void 0===t||null===(n=t.cCNTP)||void 0===n?void 0:n.balance}),(0,Ce.jsx)("p",{children:"CNTP"})]})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("p",{className:"connection",children:"Your connection is not protected!"}),(0,Ce.jsx)(vp,{children:(0,Ce.jsx)("button",{className:"power",onClick:k,children:(0,Ce.jsx)("img",{src:"/assets/not-power.png",width:85,height:85,alt:""})})}),(0,Ce.jsxs)("div",{className:"current-mined",children:[(0,Ce.jsx)("p",{children:null===e||void 0===e||null===(r=e.tokens)||void 0===r||null===(i=r.cCNTP)||void 0===i?void 0:i.balance}),(0,Ce.jsx)("p",{children:"CNTP"})]})]})})(),(()=>{if(!f)return(0,Ce.jsxs)("div",{className:"rs-wrapper",children:[(0,Ce.jsx)("p",{children:"Connect via Auto-Select or pick your region"}),(0,Ce.jsxs)("div",{className:"region-selector",children:[!c&&(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("button",{className:"auto-btn",onClick:()=>{-1===t&&n(Math.floor(Math.random()*s.length))},children:-1===t?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("img",{src:"/assets/auto.png",width:24,height:24,alt:""}),"Auto Select"]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Ie,{countryCode:s[t].code,svg:!0,"aria-label":"United States",style:{fontSize:"2em",lineHeight:"2em"}}),s[t].country]})}),(0,Ce.jsx)("p",{className:"home-location",children:"Selected Location"})]}),c?(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Ie,{countryCode:s[t].code,svg:!0,"aria-label":"United States",style:{fontSize:"2em",lineHeight:"2em",marginRight:".5em"}}),s[t].country]}):(0,Ce.jsxs)("button",{className:"region-btn",onClick:()=>v("/regions"),children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("img",{src:"/assets/global.png",width:22,height:22,alt:""}),(0,Ce.jsx)("p",{children:"Select Region"})]}),(0,Ce.jsx)("img",{src:"/assets/right.png",width:4,height:8,alt:""})]})]})]})})(),(0,Ce.jsxs)("div",{className:"current-wallet",children:[(0,Ce.jsx)("p",{children:"Current Wallet"}),(0,Ce.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText("S"),m(!0),setTimeout((()=>{m(!1)}),2e3)},children:[(0,Ce.jsxs)("p",{children:[null===e||void 0===e?void 0:e.keyID.slice(0,4),"...",null===e||void 0===e?void 0:e.keyID.slice(-4)]}),g?(0,Ce.jsx)("img",{src:"/assets/check.svg",alt:"Copy icon"}):(0,Ce.jsx)("img",{src:"/assets/copy.svg",alt:"Copy icon"})]})]})]})]}),(0,Ce.jsx)("div",{className:"footer",children:(0,Ce.jsxs)("div",{className:"footer-content",children:["\xa9 ",(new Date).getFullYear()," CoNET.network. All rights reserved"]})})]})},Ep=()=>{const{setSRegion:e,allRegions:t,setIsRandom:n}=Pe(),r=te(),i=t=>{n(-1===t),e(t),r("/")};return(0,Ce.jsxs)("div",{className:"regions",children:[(0,Ce.jsx)("div",{style:{marginRight:"80px"},children:(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"16px",cursor:"pointer"},onClick:()=>r("/"),children:[(0,Ce.jsx)("button",{className:"back",children:(0,Ce.jsx)("img",{src:"/assets/left.png"})}),(0,Ce.jsx)("h1",{style:{paddingBottom:"10px"},children:"Select Region"})]})}),(0,Ce.jsx)("div",{className:"board",children:(0,Ce.jsxs)("div",{className:"areas",children:[(0,Ce.jsx)("button",{className:"auto",onClick:()=>i(-1),children:(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("img",{src:"/assets/auto.png",width:24,height:24}),"Auto Select"]})}),(0,Ce.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",alignItems:"center"},children:[(0,Ce.jsx)("p",{className:"location",children:"Locations"}),(0,Ce.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px",width:"80%",alignItems:"center"},children:t.map(((e,t)=>(0,Ce.jsxs)("button",{style:{margin:0},onClick:()=>i(t),children:[(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Ie,{countryCode:e.code,svg:!0,"aria-label":"United States",style:{fontSize:"2em",lineHeight:"2em"}}),(0,Ce.jsx)("div",{className:"region",children:(0,Ce.jsx)("p",{children:e.country})})]}),(0,Ce.jsxs)("p",{className:"status",children:[(0,Ce.jsx)("span",{}),(0,Ce.jsx)("span",{}),(0,Ce.jsx)("span",{})]})]})))})]})]})})]})},Sp=()=>{const[e,t]=(0,r.useState)(!1),n=()=>{t((e=>!e))};return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"header",children:(0,Ce.jsxs)("div",{className:"header-content",children:[(0,Ce.jsx)("div",{className:"menu-icon",onClick:n,children:(0,Ce.jsx)("img",{src:"/assets/menu.svg"})}),(0,Ce.jsx)("div",{children:(0,Ce.jsx)("img",{src:"/assets/header-title.svg"})}),(0,Ce.jsx)("div",{style:{visibility:"hidden"},children:"lang"})]})}),(0,Ce.jsx)(Ap,{isMenuVisible:e,toggleMenu:n}),(0,Ce.jsxs)("div",{className:"about",children:[(0,Ce.jsx)("h1",{children:"About"}),(0,Ce.jsx)("p",{children:"Silent Pass is the next-generation decentralized dVPN designed to provide maximum privacy, security, and ease of use."}),(0,Ce.jsx)("p",{children:"Whether you're looking to browse the web safely or access content from anywhere, Silent Pass delivers a seamless experience without compromising your data."}),(0,Ce.jsx)("h2",{children:"Key Features"}),(0,Ce.jsx)("p",{children:"Decentralized VPN: Protect your privacy with no central servers\u2014your data is never stored or tracked."}),(0,Ce.jsx)("p",{children:"Completely Free: Enjoy a secure dVPN without any fees or hidden charges."}),(0,Ce.jsx)("p",{children:"No Registration Needed: No email or phone number required. Simply download, click start, and you're connected!"}),(0,Ce.jsx)("p",{children:"Secure & Private: Silent Pass ensures that your internet connection is encrypted, keeping you safe from prying eyes."})]})]})};function Ip(e){return"string"===typeof e&&(e=an(e)),tn(qt([an("\x19Ethereum Signed Message:\n"),an(String(e.length)),e]))}class Cp extends pl{address;#dt;constructor(e,t){super(t),Fe(e&&"function"===typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#dt=e;De(this,{address:qc(this.signingKey.publicKey)})}get signingKey(){return this.#dt}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new Cp(this.#dt,e)}async signTransaction(e){e=vi(e);const{to:t,from:n}=await Re({to:e.to?di(e.to,this.provider):void 0,from:e.from?di(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=n&&(e.from=n),null!=e.from&&(Fe(zn(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const r=hu.from(e);return r.signature=this.signingKey.sign(r.unsignedHash),r.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(Ip(e)).serialized}async signTypedData(e,t,n){const r=await As.resolveNames(e,t,n,(async e=>{Ke(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return Ke(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t}));return this.signingKey.sign(As.hash(r.domain,t,r.value)).serialized}}let xp=!1;const Bp=function(e,t,n){return function(e,t){const n={sha256:oo,sha512:po}[e];return Fe(null!=n,"invalid hmac algorithm","algorithm",e),Wa.create(n,t)}(e,t).update(n).digest()};let Pp=Bp;function _p(e,t,n){const r=jt(t,"key"),i=jt(n,"data");return Vt(Pp(e,r,i))}_p._=Bp,_p.lock=function(){xp=!0},_p.register=function(e){if(xp)throw new Error("computeHmac is locked");Pp=e},Object.freeze(_p);const Tp=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Np=Uint8Array.from({length:16},((e,t)=>t)),Rp=Np.map((e=>(9*e+5)%16));let Dp=[Np],Up=[Rp];for(let n=0;n<4;n++)for(let e of[Dp,Up])e.push(e[n].map((e=>Tp[e])));const Op=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Lp=Dp.map(((e,t)=>e.map((e=>Op[t][e])))),Mp=Up.map(((e,t)=>e.map((e=>Op[t][e])))),Kp=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Fp=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),jp=(e,t)=>e<<t|e>>>32-t;function Qp(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const zp=new Uint32Array(16);class Hp extends eo{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let f=0;f<16;f++,t+=4)zp[f]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,s=i,a=0|this.h2,o=a,c=0|this.h3,u=c,l=0|this.h4,h=l;for(let f=0;f<5;f++){const e=4-f,t=Kp[f],d=Fp[f],p=Dp[f],y=Up[f],g=Lp[f],m=Mp[f];for(let r=0;r<16;r++){const e=jp(n+Qp(f,i,a,c)+zp[p[r]]+t,g[r])+l|0;n=l,l=c,c=0|jp(a,10),a=i,i=e}for(let n=0;n<16;n++){const t=jp(r+Qp(e,s,o,u)+zp[y[n]]+d,m[n])+h|0;r=h,h=u,u=0|jp(o,10),o=s,s=t}}this.set(this.h1+a+u|0,this.h2+c+h|0,this.h3+l+r|0,this.h4+n+s|0,this.h0+i+o|0)}roundClean(){zp.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Gp=kt((()=>new Hp));let Vp=!1;const qp=function(e){return Gp(e)};let Jp=qp;function $p(e){const t=jt(e,"data");return Vt(Jp(t))}$p._=qp,$p.lock=function(){Vp=!0},$p.register=function(e){if(Vp)throw new TypeError("ripemd160 is locked");Jp=e},Object.freeze($p);let Wp=!1;const Yp=function(e){return new Uint8Array(function(e){Ke(null!=go,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Fe(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return go.getRandomValues(t),t}(e))};let Zp=Yp;function Xp(e){return Zp(e)}Xp._=Yp,Xp.lock=function(){Wp=!0},Xp.register=function(e){if(Wp)throw new Error("randomBytes is locked");Zp=e},Object.freeze(Xp);const ey=" !#$%&'()*+,-./<=>?@[]^_`{|}~",ty=/^[a-z]*$/i;function ny(e,t){let n=97;return e.reduce(((e,r)=>(r===t?n++:r.match(ty)?e.push(String.fromCharCode(n)+r):(n=97,e.push(r)),e)),[])}function ry(e){return Fe("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let i=28;i>=0;i--)e=e.split(ey[i]).join(t.substring(2*i,2*i+2));const n=[],r=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,((e,t,r,i)=>{if(r)for(let s=parseInt(r);s>=0;s--)n.push(";");else n.push(t.toLowerCase());return""}));if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return ny(ny(n,";"),":")}(e.substring(59),e.substring(1,59))}class iy{locale;constructor(e){De(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class sy extends iy{#n;#pt;constructor(e,t,n){super(e),this.#n=t,this.#pt=n,this.#yt=null}get _data(){return this.#n}_decodeWords(){return ry(this.#n)}#yt;#gt(){if(null==this.#yt){const e=this._decodeWords();if(cn(e.join("\n")+"\n")!==this.#pt)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#yt=e}return this.#yt}getWord(e){const t=this.#gt();return Fe(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#gt().indexOf(e)}}let ay=null;class oy extends sy{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==ay&&(ay=new oy),ay}}let cy=!1;const uy=function(e,t,n,r,i){return function(e,t,n,r,i){const s={sha256:oo,sha512:po}[i];return Fe(null!=s,"invalid pbkdf2 algorithm","algorithm",i),Xa(s,e,t,{c:n,dkLen:r})}(e,t,n,r,i)};let ly=uy;function hy(e,t,n,r,i){const s=jt(e,"password"),a=jt(t,"salt");return Vt(ly(s,a,n,r,i))}function fy(e){return(1<<e)-1<<8-e&255}function dy(e,t){ze("NFKD"),null==t&&(t=oy.wordlist());const n=t.split(e);Fe(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*n.length/8));let i=0;for(let o=0;o<n.length;o++){let e=t.getWordIndex(n[o].normalize("NFKD"));Fe(e>=0,`invalid mnemonic word at index ${o}`,"mnemonic","[ REDACTED ]");for(let t=0;t<11;t++)e&1<<10-t&&(r[i>>3]|=1<<7-i%8),i++}const s=32*n.length/3,a=fy(n.length/3);return Fe((jt(So(r.slice(0,s/8)))[0]&a)===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Vt(r.slice(0,s/8))}function py(e,t){Fe(e.length%4===0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=oy.wordlist());const n=[0];let r=11;for(let a=0;a<e.length;a++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[a],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[a]>>8-r,n.push(e[a]&((1<<8-r)-1&255)),r+=3);const i=e.length/4,s=parseInt(So(e).substring(2,4),16)&fy(i);return n[n.length-1]<<=i,n[n.length-1]|=s>>8-i,t.join(n.map((e=>t.getWord(e))))}hy._=uy,hy.lock=function(){cy=!0},hy.register=function(e){if(cy)throw new Error("pbkdf2 is locked");ly=e},Object.freeze(hy);const yy={};class gy{phrase;password;wordlist;entropy;constructor(e,t,n,r,i){null==r&&(r=""),null==i&&(i=oy.wordlist()),He(e,yy,"Mnemonic"),De(this,{phrase:n,password:r,wordlist:i,entropy:t})}computeSeed(){const e=an("mnemonic"+this.password,"NFKD");return hy(an(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const r=dy(e,n);return e=py(jt(r),n),new gy(yy,r,e,t,n)}static fromEntropy(e,t,n){const r=jt(e,"entropy"),i=py(r,n);return new gy(yy,Vt(r),i,t,n)}static entropyToPhrase(e,t){return py(jt(e,"entropy"),t)}static phraseToEntropy(e,t){return dy(e,t)}static isValidMnemonic(e,t){try{return dy(e,t),!0}catch(n){}return!1}}var my,wy,by,vy=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Ay=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};const ky={16:10,24:12,32:14},Ey=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Sy=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Iy=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Cy=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],xy=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],By=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Py=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],_y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Ty=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Ny=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Ry=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Dy=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Uy=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Oy=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Ly=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function My(e){const t=[];for(let n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}class Ky{get key(){return vy(this,my,"f").slice()}constructor(e){if(my.set(this,void 0),wy.set(this,void 0),by.set(this,void 0),!(this instanceof Ky))throw Error("AES must be instanitated with `new`");Ay(this,my,new Uint8Array(e),"f");const t=ky[this.key.length];if(null==t)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Ay(this,by,[],"f"),Ay(this,wy,[],"f");for(let u=0;u<=t;u++)vy(this,by,"f").push([0,0,0,0]),vy(this,wy,"f").push([0,0,0,0]);const n=4*(t+1),r=this.key.length/4,i=My(this.key);let s;for(let u=0;u<r;u++)s=u>>2,vy(this,by,"f")[s][u%4]=i[u],vy(this,wy,"f")[t-s][u%4]=i[u];let a,o=0,c=r;for(;c<n;){if(a=i[r-1],i[0]^=Sy[a>>16&255]<<24^Sy[a>>8&255]<<16^Sy[255&a]<<8^Sy[a>>24&255]^Ey[o]<<24,o+=1,8!=r)for(let t=1;t<r;t++)i[t]^=i[t-1];else{for(let e=1;e<r/2;e++)i[e]^=i[e-1];a=i[r/2-1],i[r/2]^=Sy[255&a]^Sy[a>>8&255]<<8^Sy[a>>16&255]<<16^Sy[a>>24&255]<<24;for(let e=r/2+1;e<r;e++)i[e]^=i[e-1]}let e,s,u=0;for(;u<r&&c<n;)e=c>>2,s=c%4,vy(this,by,"f")[e][s]=i[u],vy(this,wy,"f")[t-e][s]=i[u++],c++}for(let u=1;u<t;u++)for(let e=0;e<4;e++)a=vy(this,wy,"f")[u][e],vy(this,wy,"f")[u][e]=Dy[a>>24&255]^Uy[a>>16&255]^Oy[a>>8&255]^Ly[255&a]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=vy(this,by,"f").length-1,n=[0,0,0,0];let r=My(e);for(let a=0;a<4;a++)r[a]^=vy(this,by,"f")[0][a];for(let a=1;a<t;a++){for(let e=0;e<4;e++)n[e]=Cy[r[e]>>24&255]^xy[r[(e+1)%4]>>16&255]^By[r[(e+2)%4]>>8&255]^Py[255&r[(e+3)%4]]^vy(this,by,"f")[a][e];r=n.slice()}const i=new Uint8Array(16);let s=0;for(let a=0;a<4;a++)s=vy(this,by,"f")[t][a],i[4*a]=255&(Sy[r[a]>>24&255]^s>>24),i[4*a+1]=255&(Sy[r[(a+1)%4]>>16&255]^s>>16),i[4*a+2]=255&(Sy[r[(a+2)%4]>>8&255]^s>>8),i[4*a+3]=255&(Sy[255&r[(a+3)%4]]^s);return i}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=vy(this,wy,"f").length-1,n=[0,0,0,0];let r=My(e);for(let a=0;a<4;a++)r[a]^=vy(this,wy,"f")[0][a];for(let a=1;a<t;a++){for(let e=0;e<4;e++)n[e]=_y[r[e]>>24&255]^Ty[r[(e+3)%4]>>16&255]^Ny[r[(e+2)%4]>>8&255]^Ry[255&r[(e+1)%4]]^vy(this,wy,"f")[a][e];r=n.slice()}const i=new Uint8Array(16);let s=0;for(let a=0;a<4;a++)s=vy(this,wy,"f")[t][a],i[4*a]=255&(Iy[r[a]>>24&255]^s>>24),i[4*a+1]=255&(Iy[r[(a+3)%4]>>16&255]^s>>16),i[4*a+2]=255&(Iy[r[(a+2)%4]>>8&255]^s>>8),i[4*a+3]=255&(Iy[255&r[(a+1)%4]]^s);return i}}my=new WeakMap,wy=new WeakMap,by=new WeakMap;class Fy{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Ky(t)},name:{enumerable:!0,value:e}})}}var jy,Qy,zy=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Hy=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Gy extends Fy{constructor(e,t){if(super("ECC",e,Gy),jy.set(this,void 0),Qy.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");zy(this,jy,new Uint8Array(t),"f")}else zy(this,jy,new Uint8Array(16),"f");zy(this,Qy,this.iv,"f")}get iv(){return new Uint8Array(Hy(this,jy,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let t=0;t<16;t++)Hy(this,Qy,"f")[t]^=e[n+t];zy(this,Qy,this.aes.encrypt(Hy(this,Qy,"f")),"f"),t.set(Hy(this,Qy,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const r=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=r[i]^Hy(this,Qy,"f")[i],Hy(this,Qy,"f")[i]=e[n+i]}return t}}jy=new WeakMap,Qy=new WeakMap;var Vy,qy=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};new WeakMap,Vy=new WeakMap,new WeakSet;var Jy,$y,Wy,Yy=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Zy=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Xy extends Fy{constructor(e,t){super("CTR",e,Xy),Jy.set(this,void 0),$y.set(this,void 0),Wy.set(this,void 0),Yy(this,Wy,new Uint8Array(16),"f"),Zy(this,Wy,"f").fill(0),Yy(this,Jy,Zy(this,Wy,"f"),"f"),Yy(this,$y,16,"f"),null==t&&(t=1),"number"===typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Zy(this,Wy,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Zy(this,Wy,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");Zy(this,Wy,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==Zy(this,Wy,"f")[e]){Zy(this,Wy,"f")[e]++;break}Zy(this,Wy,"f")[e]=0}}encrypt(e){var t,n;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)16===Zy(this,$y,"f")&&(Yy(this,Jy,this.aes.encrypt(Zy(this,Wy,"f")),"f"),Yy(this,$y,0,"f"),this.increment()),r[i]^=Zy(this,Jy,"f")[(Yy(this,$y,(n=Zy(this,$y,"f"),t=n++,n),"f"),t)];return r}decrypt(e){return this.encrypt(e)}}Jy=new WeakMap,$y=new WeakMap,Wy=new WeakMap;new WeakMap,new WeakMap,new WeakMap;const eg=(e,t)=>e<<t|e>>>32-t;function tg(e,t,n,r,i,s){let a=e[t++]^n[r++],o=e[t++]^n[r++],c=e[t++]^n[r++],u=e[t++]^n[r++],l=e[t++]^n[r++],h=e[t++]^n[r++],f=e[t++]^n[r++],d=e[t++]^n[r++],p=e[t++]^n[r++],y=e[t++]^n[r++],g=e[t++]^n[r++],m=e[t++]^n[r++],w=e[t++]^n[r++],b=e[t++]^n[r++],v=e[t++]^n[r++],A=e[t++]^n[r++],k=a,E=o,S=c,I=u,C=l,x=h,B=f,P=d,_=p,T=y,N=g,R=m,D=w,U=b,O=v,L=A;for(let M=0;M<8;M+=2)C^=eg(k+D|0,7),_^=eg(C+k|0,9),D^=eg(_+C|0,13),k^=eg(D+_|0,18),T^=eg(x+E|0,7),U^=eg(T+x|0,9),E^=eg(U+T|0,13),x^=eg(E+U|0,18),O^=eg(N+B|0,7),S^=eg(O+N|0,9),B^=eg(S+O|0,13),N^=eg(B+S|0,18),I^=eg(L+R|0,7),P^=eg(I+L|0,9),R^=eg(P+I|0,13),L^=eg(R+P|0,18),E^=eg(k+I|0,7),S^=eg(E+k|0,9),I^=eg(S+E|0,13),k^=eg(I+S|0,18),B^=eg(x+C|0,7),P^=eg(B+x|0,9),C^=eg(P+B|0,13),x^=eg(C+P|0,18),R^=eg(N+T|0,7),_^=eg(R+N|0,9),T^=eg(_+R|0,13),N^=eg(T+_|0,18),D^=eg(L+O|0,7),U^=eg(D+L|0,9),O^=eg(U+D|0,13),L^=eg(O+U|0,18);i[s++]=a+k|0,i[s++]=o+E|0,i[s++]=c+S|0,i[s++]=u+I|0,i[s++]=l+C|0,i[s++]=h+x|0,i[s++]=f+B|0,i[s++]=d+P|0,i[s++]=p+_|0,i[s++]=y+T|0,i[s++]=g+N|0,i[s++]=m+R|0,i[s++]=w+D|0,i[s++]=b+U|0,i[s++]=v+O|0,i[s++]=A+L|0}function ng(e,t,n,r,i){let s=r+0,a=r+16*i;for(let o=0;o<16;o++)n[a+o]=e[t+16*(2*i-1)+o];for(let o=0;o<i;o++,s+=16,t+=16)tg(n,a,e,t,n,s),o>0&&(a+=16),tg(n,s,e,t+=16,n,a)}function rg(e,t,n){const r=At({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:a,dkLen:o,asyncTick:c,maxmem:u,onProgress:l}=r;if(We(i),We(s),We(a),We(o),We(c),We(u),void 0!==l&&"function"!==typeof l)throw new Error("progressCb should be function");const h=128*s,f=h/4;if(i<=1||0!==(i&i-1)||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>137438953440/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const d=h*(i+a);if(d>u)throw new Error(`Scrypt: parameters too large, ${d} (128 * r * (N + p)) > ${u} (maxmem)`);const p=Xa(oo,e,t,{c:1,dkLen:h*a}),y=dt(p),g=dt(new Uint8Array(h*i)),m=dt(new Uint8Array(h));let w=()=>{};if(l){const e=2*i*a,t=Math.max(Math.floor(e/1e4),1);let n=0;w=()=>{n++,!l||n%t&&n!==e||l(n/e)}}return{N:i,r:s,p:a,dkLen:o,blockSize32:f,V:g,B32:y,B:p,tmp:m,blockMixCb:w,asyncTick:c}}function ig(e,t,n,r,i){const s=Xa(oo,e,n,{c:1,dkLen:t});return n.fill(0),r.fill(0),i.fill(0),s}let sg=!1,ag=!1;const og=async function(e,t,n,r,i,s,a){return await async function(e,t,n){const{N:r,r:i,p:s,dkLen:a,blockSize32:o,V:c,B32:u,B:l,tmp:h,blockMixCb:f,asyncTick:d}=rg(e,t,n);for(let p=0;p<s;p++){const e=o*p;for(let n=0;n<o;n++)c[n]=u[e+n];let t=0;await mt(r-1,d,(()=>{ng(c,t,c,t+=o,i),f()})),ng(c,(r-1)*o,u,e,i),f(),await mt(r,d,(()=>{const t=u[e+o-16]%r;for(let n=0;n<o;n++)h[n]=u[e+n]^c[t*o+n];ng(h,0,u,e,i),f()}))}return ig(e,a,l,c,h)}(e,t,{N:n,r:r,p:i,dkLen:s,onProgress:a})},cg=function(e,t,n,r,i,s){return function(e,t,n){const{N:r,r:i,p:s,dkLen:a,blockSize32:o,V:c,B32:u,B:l,tmp:h,blockMixCb:f}=rg(e,t,n);for(let d=0;d<s;d++){const e=o*d;for(let t=0;t<o;t++)c[t]=u[e+t];for(let t=0,n=0;t<r-1;t++)ng(c,n,c,n+=o,i),f();ng(c,(r-1)*o,u,e,i),f();for(let t=0;t<r;t++){const t=u[e+o-16]%r;for(let n=0;n<o;n++)h[n]=u[e+n]^c[t*o+n];ng(h,0,u,e,i),f()}}return ig(e,a,l,c,h)}(e,t,{N:n,r:r,p:i,dkLen:s})};let ug=og,lg=cg;async function hg(e,t,n,r,i,s,a){const o=jt(e,"passwd"),c=jt(t,"salt");return Vt(await ug(o,c,n,r,i,s,a))}function fg(e,t,n,r,i,s){const a=jt(e,"passwd"),o=jt(t,"salt");return Vt(lg(a,o,n,r,i,s))}function dg(e){const t=jt(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Vt(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}function pg(e){return"string"!==typeof e||e.startsWith("0x")||(e="0x"+e),Qt(e)}function yg(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function gg(e){return"string"===typeof e?an(e,"NFKC"):Qt(e)}function mg(e,t){const n=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);Fe(null!=n,"invalid path","path",t);const r=n[1],i=n[3],s="!"===n[4];let a=e;for(const o of r.toLowerCase().split(".")){if(Array.isArray(a)){if(!o.match(/^[0-9]+$/))break;a=a[parseInt(o)]}else if("object"===typeof a){let e=null;for(const t in a)if(t.toLowerCase()===o){e=a[t];break}a=e}else a=null;if(null==a)break}if(Fe(!s||null!=a,"missing required value","path",r),i&&null!=a){if("int"===i){if("string"===typeof a&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if("number"===i&&"string"===typeof a&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if("data"===i&&"string"===typeof a)return pg(a);if("array"===i&&Array.isArray(a))return a;if(i===typeof a)return a;Fe(!1,`wrong type found for ${i} `,"path",r)}return a}hg._=og,hg.lock=function(){ag=!0},hg.register=function(e){if(ag)throw new Error("scrypt is locked");ug=e},Object.freeze(hg),fg._=cg,fg.lock=function(){sg=!0},fg.register=function(e){if(sg)throw new Error("scryptSync is locked");lg=e},Object.freeze(fg);const wg="m/44'/60'/0'/0/0";function bg(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(t){}return!1}function vg(e,t){const n=jt(t),r=mg(e,"crypto.ciphertext:data!");Fe(Vt(tn(qt([n.slice(16,32),r]))).substring(2)===mg(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=function(e,t,n){if("aes-128-ctr"===mg(e,"crypto.cipher:string")){const r=mg(e,"crypto.cipherparams.iv:data!");return Vt(new Xy(t,r).decrypt(n))}Ke(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,n.slice(0,16),r),s=qc(i);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),Fe(zn(t)===s,"keystore address/privateKey mismatch","address",e.address)}const a={address:s,privateKey:i};if("0.1"===mg(e,"x-ethers.version:string")){const t=n.slice(32,64),r=mg(e,"x-ethers.mnemonicCiphertext:data!"),i=mg(e,"x-ethers.mnemonicCounter:data!"),s=new Xy(t,i);a.mnemonic={path:mg(e,"x-ethers.path:string")||wg,locale:mg(e,"x-ethers.locale:string")||"en",entropy:Vt(jt(s.decrypt(r)))}}return a}function Ag(e){const t=mg(e,"crypto.kdf:string");if(t&&"string"===typeof t){if("scrypt"===t.toLowerCase()){const n=mg(e,"crypto.kdfparams.salt:data!"),r=mg(e,"crypto.kdfparams.n:int!"),i=mg(e,"crypto.kdfparams.r:int!"),s=mg(e,"crypto.kdfparams.p:int!");Fe(r>0&&0===(r&r-1),"invalid kdf.N","kdf.N",r),Fe(i>0&&s>0,"invalid kdf","kdf",t);const a=mg(e,"crypto.kdfparams.dklen:int!");return Fe(32===a,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:n,N:r,r:i,p:s,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=mg(e,"crypto.kdfparams.salt:data!"),n=mg(e,"crypto.kdfparams.prf:string!"),r=n.split("-").pop();Fe("sha256"===r||"sha512"===r,"invalid kdf.pdf","kdf.pdf",n);const i=mg(e,"crypto.kdfparams.c:int!"),s=mg(e,"crypto.kdfparams.dklen:int!");return Fe(32===s,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:t,count:i,dkLen:s,algorithm:r}}}Fe(!1,"unsupported key-derivation function","kdf",t)}function kg(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function Eg(e){const t=null!=e.salt?jt(e.salt,"options.salt"):Xp(32);let n=1<<17,r=8,i=1;return e.scrypt&&(e.scrypt.N&&(n=e.scrypt.N),e.scrypt.r&&(r=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),Fe("number"===typeof n&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),Fe("number"===typeof r&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),Fe("number"===typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:n,r:r,p:i}}function Sg(e,t,n,r){const i=jt(n.privateKey,"privateKey"),s=null!=r.iv?jt(r.iv,"options.iv"):Xp(16);Fe(16===s.length,"invalid options.iv length","options.iv",r.iv);const a=null!=r.uuid?jt(r.uuid,"options.uuid"):Xp(16);Fe(16===a.length,"invalid options.uuid length","options.uuid",r.iv);const o=e.slice(0,16),c=e.slice(16,32),u=jt(new Xy(o,s).encrypt(i)),l=tn(qt([c,u])),h={address:n.address.substring(2).toLowerCase(),id:dg(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Vt(s).substring(2)},ciphertext:Vt(u).substring(2),kdf:"scrypt",kdfparams:{salt:Vt(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:l.substring(2)}};if(n.mnemonic){const t=null!=r.client?r.client:`ethers/${Te}`,i=n.mnemonic.path||wg,s=n.mnemonic.locale||"en",a=e.slice(32,64),o=jt(n.mnemonic.entropy,"account.mnemonic.entropy"),c=Xp(16),u=jt(new Xy(a,c).encrypt(o)),l=new Date,f="UTC--"+(l.getUTCFullYear()+"-"+yg(l.getUTCMonth()+1,2)+"-"+yg(l.getUTCDate(),2)+"T"+yg(l.getUTCHours(),2)+"-"+yg(l.getUTCMinutes(),2)+"-"+yg(l.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:t,gethFilename:f,path:i,locale:s,mnemonicCounter:Vt(c).substring(2),mnemonicCiphertext:Vt(u).substring(2),version:"0.1"}}return JSON.stringify(h)}function Ig(e,t,n){null==n&&(n={});const r=gg(t),i=Eg(n);return Sg(jt(fg(r,i.salt,i.N,i.r,i.p,64)),i,e,n)}async function Cg(e,t,n){null==n&&(n={});const r=gg(t),i=Eg(n);return Sg(jt(await hg(r,i.salt,i.N,i.r,i.p,64,n.progressCallback)),i,e,n)}const xg="m/44'/60'/0'/0/0",Bg=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Pg=2147483648,_g=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function Tg(e,t){let n="";for(;e;)n="0123456789abcdef"[e%16]+n,e=Math.trunc(e/16);for(;n.length<2*t;)n="0"+n;return"0x"+n}function Ng(e){const t=jt(e);return mu(qt([t,$t(So(So(t)),0,4)]))}const Rg={};function Dg(e,t,n,r){const i=new Uint8Array(37);e&Pg?(Ke(null!=r,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(jt(r),1)):i.set(jt(n));for(let a=24;a>=0;a-=8)i[33+(a>>3)]=e>>24-a&255;const s=jt(_p("sha512",t,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function Ug(e,t){const n=t.split("/");Fe(n.length>0,"invalid path","path",t),"m"===n[0]&&(Fe(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),n.shift());let r=e;for(let i=0;i<n.length;i++){const e=n[i];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));Fe(t<Pg,"invalid path index",`path[${i}]`,e),r=r.deriveChild(Pg+t)}else if(e.match(/^[0-9]+$/)){const t=parseInt(e);Fe(t<Pg,"invalid path index",`path[${i}]`,e),r=r.deriveChild(t)}else Fe(!1,"invalid path component",`path[${i}]`,e)}return r}class Og extends Cp{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,n,r,i,s,a,o,c){super(t,c),He(e,Rg,"HDNodeWallet"),De(this,{publicKey:t.compressedPublicKey});De(this,{parentFingerprint:n,fingerprint:$t($p(So(this.publicKey)),0,4),chainCode:r,path:i,index:s,depth:a}),De(this,{mnemonic:o})}connect(e){return new Og(Rg,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#mt(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await Cg(this.#mt(),e,{progressCallback:t})}encryptSync(e){return Ig(this.#mt(),e)}get extendedKey(){return Ke(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ng(qt(["0x0488ADE4",Tg(this.depth,1),this.parentFingerprint,Tg(this.index,4),this.chainCode,qt(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new Lg(Rg,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=bn(e,"index");Fe(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(2147483647&t),t&Pg&&(n+="'"));const{IR:r,IL:i}=Dg(t,this.chainCode,this.publicKey,this.privateKey),s=new Lc(vn((wn(i)+BigInt(this.privateKey))%_g,32));return new Og(Rg,s,this.fingerprint,Vt(r),n,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return Ug(this,e)}static#wt(e,t){Fe(Ht(e),"invalid seed","seed","[REDACTED]");const n=jt(e,"seed");Fe(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");const r=jt(_p("sha512",Bg,n)),i=new Lc(Vt(r.slice(0,32)));return new Og(Rg,i,"0x00000000",Vt(r.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=An(function(e){let t=yu;for(let n=0;n<e.length;n++)t*=gu,t+=pu(e[n]);return t}(e));Fe(82===t.length||Ng(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const n=t[4],r=Vt(t.slice(5,9)),i=parseInt(Vt(t.slice(9,13)).substring(2),16),s=Vt(t.slice(13,45)),a=t.slice(45,78);switch(Vt(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=Vt(a);return new Lg(Rg,qc(e),e,r,s,null,i,n,null)}case"0x0488ade4":case"0x04358394 ":if(0!==a[0])break;return new Og(Rg,new Lc(a.slice(1)),r,s,null,i,n,null,null)}Fe(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,n){null==e&&(e=""),null==t&&(t=xg),null==n&&(n=oy.wordlist());const r=gy.fromEntropy(Xp(16),e,n);return Og.#wt(r.computeSeed(),r).derivePath(t)}static fromMnemonic(e,t){return t||(t=xg),Og.#wt(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,n,r){null==t&&(t=""),null==n&&(n=xg),null==r&&(r=oy.wordlist());const i=gy.fromPhrase(e,t,r);return Og.#wt(i.computeSeed(),i).derivePath(n)}static fromSeed(e){return Og.#wt(e,null)}}class Lg extends yl{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,n,r,i,s,a,o,c){super(t,c),He(e,Rg,"HDNodeVoidWallet"),De(this,{publicKey:n});De(this,{publicKey:n,fingerprint:$t($p(So(n)),0,4),parentFingerprint:r,chainCode:i,path:s,index:a,depth:o})}connect(e){return new Lg(Rg,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return Ke(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ng(qt(["0x0488B21E",Tg(this.depth,1),this.parentFingerprint,Tg(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const t=bn(e,"index");Fe(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(2147483647&t),t&Pg&&(n+="'"));const{IR:r,IL:i}=Dg(t,this.chainCode,this.publicKey,null),s=Lc.addPoints(i,this.publicKey,!0),a=qc(s);return new Lg(Rg,a,s,this.fingerprint,Vt(r),n,t,this.depth+1,this.provider)}derivePath(e){return Ug(this,e)}}function Mg(e){try{if(JSON.parse(e).encseed)return!0}catch(t){}return!1}function Kg(e,t){const n=JSON.parse(e),r=gg(t),i=zn(mg(n,"ethaddr:string!")),s=pg(mg(n,"encseed:string!"));Fe(s&&s.length%16===0,"invalid encseed","json",e);const a=jt(hy(r,r,2e3,32,"sha256")).slice(0,16),o=s.slice(0,16),c=s.slice(16),u=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const n=e.length-t;for(let r=0;r<t;r++)if(e[n+r]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,n))}(jt(new Gy(a,o).decrypt(c)));let l="";for(let h=0;h<u.length;h++)l+=String.fromCharCode(u[h]);return{address:i,privateKey:cn(l)}}function Fg(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}class jg extends Cp{constructor(e,t){"string"!==typeof e||e.startsWith("0x")||(e="0x"+e),super("string"===typeof e?new Lc(e):e,t)}connect(e){return new jg(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await Cg(n,e,{progressCallback:t})}encryptSync(e){return Ig({address:this.address,privateKey:this.privateKey},e)}static#bt(e){if(Fe(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=gy.fromEntropy(e.mnemonic.entropy),n=Og.fromMnemonic(t,e.mnemonic.path);if(n.address===e.address&&n.privateKey===e.privateKey)return n;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new jg(e.privateKey);return Fe(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,n){let r=null;return bg(e)?r=await async function(e,t,n){const r=JSON.parse(e),i=gg(t),s=Ag(r);if("pbkdf2"===s.name){n&&(n(0),await kg(0));const{salt:e,count:t,dkLen:a,algorithm:o}=s,c=hy(i,e,t,a,o);return n&&(n(1),await kg(0)),vg(r,c)}Ke("scrypt"===s.name,"cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:a,N:o,r:c,p:u,dkLen:l}=s;return vg(r,await hg(i,a,o,c,u,l,n))}(e,t,n):Mg(e)&&(n&&(n(0),await Fg(0)),r=Kg(e,t),n&&(n(1),await Fg(0))),jg.#bt(r)}static fromEncryptedJsonSync(e,t){let n=null;return bg(e)?n=function(e,t){const n=JSON.parse(e),r=gg(t),i=Ag(n);if("pbkdf2"===i.name){const{salt:e,count:t,dkLen:s,algorithm:a}=i;return vg(n,hy(r,e,t,s,a))}Ke("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:a,r:o,p:c,dkLen:u}=i;return vg(n,fg(r,s,a,o,c,u))}(e,t):Mg(e)?n=Kg(e,t):Fe(!1,"invalid JSON wallet","json","[ REDACTED ]"),jg.#bt(n)}static createRandom(e){const t=Og.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=Og.fromPhrase(e);return t?n.connect(t):n}}const Qg="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function zg(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}const Hg=Symbol("doneWritingPromise"),Gg=Symbol("doneWritingResolve"),Vg=Symbol("doneWritingReject"),qg=Symbol("readingIndex");class Jg extends Array{constructor(){super(),Object.setPrototypeOf(this,Jg.prototype),this[Hg]=new Promise(((e,t)=>{this[Gg]=e,this[Vg]=t})),this[Hg].catch((()=>{}))}}function $g(e){return e&&e.getReader&&Array.isArray(e)}function Wg(e){if(!$g(e)){const t=e.getWriter(),n=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),n.call(t)},t}this.stream=e}function Yg(e){if($g(e))return"array";if(Qg.ReadableStream&&Qg.ReadableStream.prototype.isPrototypeOf(e))return"web";if(e&&!(Qg.ReadableStream&&e instanceof Qg.ReadableStream)&&"function"==typeof e._read&&"object"==typeof e._readableState)throw Error("Native Node streams are no longer supported: please manually convert the stream to a WebStream, using e.g. `stream.Readable.toWeb`");return!(!e||!e.getReader)&&"web-like"}function Zg(e){return Uint8Array.prototype.isPrototypeOf(e)}function Xg(e){if(1===e.length)return e[0];let t=0;for(let i=0;i<e.length;i++){if(!Zg(e[i]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[i].length}const n=new Uint8Array(t);let r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}Jg.prototype.getReader=function(){return void 0===this[qg]&&(this[qg]=0),{read:async()=>(await this[Hg],this[qg]===this.length?{value:void 0,done:!0}:{value:this[this[qg]++],done:!1})}},Jg.prototype.readToEnd=async function(e){await this[Hg];const t=e(this.slice(this[qg]));return this.length=0,t},Jg.prototype.clone=function(){const e=new Jg;return e[Hg]=this[Hg].then((()=>{e.push(...this)})),e},Wg.prototype.write=async function(e){this.stream.push(e)},Wg.prototype.close=async function(){this.stream[Gg]()},Wg.prototype.abort=async function(e){return this.stream[Vg](e),e},Wg.prototype.releaseLock=function(){},"object"==typeof Qg.process&&Qg.process.versions;const em=new WeakSet,tm=Symbol("externalBuffer");function nm(e){if(this.stream=e,e[tm]&&(this[tm]=e[tm].slice()),$g(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}if(Yg(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let t=!1;this._read=async()=>t||em.has(e)?{value:void 0,done:!0}:(t=!0,{value:e,done:!1}),this._releaseLock=()=>{if(t)try{em.add(e)}catch(e){}}}function rm(e){return Yg(e)?e:new ReadableStream({start(t){t.enqueue(e),t.close()}})}function im(e){if(Yg(e))return e;const t=new Jg;return(async()=>{const n=vm(t);await n.write(e),await n.close()})(),t}function sm(e){return e.some((e=>Yg(e)&&!$g(e)))?function(e){e=e.map(rm);const t=cm((async function(e){await Promise.all(r.map((t=>mm(t,e))))}));let n=Promise.resolve();const r=e.map(((r,i)=>lm(r,((r,s)=>(n=n.then((()=>am(r,t.writable,{preventClose:i!==e.length-1}))),n)))));return t.readable}(e):e.some((e=>$g(e)))?function(e){const t=new Jg;let n=Promise.resolve();return e.forEach(((r,i)=>(n=n.then((()=>am(r,t,{preventClose:i!==e.length-1}))),n))),t}(e):"string"==typeof e[0]?e.join(""):Xg(e)}async function am(e,t){let{preventClose:n=!1,preventAbort:r=!1,preventCancel:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Yg(e)&&!$g(e)){e=rm(e);try{if(e[tm]){const n=vm(t);for(let t=0;t<e[tm].length;t++)await n.ready,await n.write(e[tm][t]);n.releaseLock()}await e.pipeTo(t,{preventClose:n,preventAbort:r,preventCancel:i})}catch(e){}return}const s=bm(e=im(e)),a=vm(t);try{for(;;){await a.ready;const{done:e,value:t}=await s.read();if(e){n||await a.close();break}await a.write(t)}}catch(e){r||await a.abort(e)}finally{s.releaseLock(),a.releaseLock()}}function om(e,t){const n=new TransformStream(t);return am(e,n.writable),n.readable}function cm(e){let t,n,r,i=!1,s=!1;return{readable:new ReadableStream({start(e){r=e},pull(){t?t():i=!0},async cancel(t){s=!0,e&&await e(t),n&&n(t)}},{highWaterMark:0}),writable:new WritableStream({write:async function(e){if(s)throw Error("Stream is cancelled");r.enqueue(e),i?i=!1:(await new Promise(((e,r)=>{t=e,n=r})),t=null,n=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function um(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if($g(e)){const r=new Jg;return(async()=>{const i=vm(r);try{const r=await gm(e),s=t(r),a=n();let o;o=void 0!==s&&void 0!==a?sm([s,a]):void 0!==s?s:a,await i.write(o),await i.close()}catch(e){await i.abort(e)}})(),r}if(Yg(e))return om(e,{async transform(e,n){try{const r=await t(e);void 0!==r&&n.enqueue(r)}catch(e){n.error(e)}},async flush(e){try{const t=await n();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const r=t(e),i=n();return void 0!==r&&void 0!==i?sm([r,i]):void 0!==r?r:i}function lm(e,t){if(Yg(e)&&!$g(e)){let n;const r=new TransformStream({start(e){n=e}}),i=am(e,r.writable),s=cm((async function(e){n.error(e),await i,await new Promise(setTimeout)}));return t(r.readable,s.writable),s.readable}e=im(e);const n=new Jg;return t(e,n),n}function hm(e,t){let n;const r=lm(e,((e,i)=>{const s=bm(e);s.remainder=()=>(s.releaseLock(),am(e,i),r),n=t(s)}));return n}function fm(e){if($g(e))return e.clone();if(Yg(e)){const t=function(e){if($g(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(Yg(e)){const t=rm(e).tee();return t[0][tm]=t[1][tm]=e[tm],t}return[ym(e),ym(e)]}(e);return pm(e,t[0]),t[1]}return ym(e)}function dm(e){return $g(e)?fm(e):Yg(e)?new ReadableStream({start(t){const n=lm(e,(async(e,n)=>{const r=bm(e),i=vm(n);try{for(;;){await i.ready;const{done:n,value:s}=await r.read();if(n){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(s)}catch(e){}await i.write(s)}}catch(e){t.error(e),await i.abort(e)}}));pm(e,n)}}):ym(e)}function pm(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((n=>{let[r,i]=n;"constructor"!==r&&(i.value?i.value=i.value.bind(t):i.get=i.get.bind(t),Object.defineProperty(e,r,i))}))}function ym(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if($g(e))throw Error("Not implemented");if(Yg(e)){if(t>=0&&n>=0){let r=0;return om(e,{transform(e,i){r<n?(r+e.length>=t&&i.enqueue(ym(e,Math.max(t-r,0),n-r)),r+=e.length):i.terminate()}})}if(t<0&&(n<0||n===1/0)){let r=[];return um(e,(e=>{e.length>=-t?r=[e]:r.push(e)}),(()=>ym(sm(r),t,n)))}if(0===t&&n<0){let r;return um(e,(e=>{const i=r?sm([r,e]):e;if(i.length>=-n)return r=ym(i,n),ym(i,t,n);r=i}))}return console.warn(`stream.slice(input, ${t}, ${n}) not implemented efficiently.`),wm((async()=>ym(await gm(e),t,n)))}return e[tm]&&(e=sm(e[tm].concat([e]))),Zg(e)?e.subarray(t,n===1/0?e.length:n):e.slice(t,n)}async function gm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sm;return $g(e)?e.readToEnd(t):Yg(e)?bm(e).readToEnd(t):e}async function mm(e,t){if(Yg(e)){if(e.cancel){const n=await e.cancel(t);return await new Promise(setTimeout),n}if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function wm(e){const t=new Jg;return(async()=>{const n=vm(t);try{await n.write(await e()),await n.close()}catch(e){await n.abort(e)}})(),t}function bm(e){return new nm(e)}function vm(e){return new Wg(e)}nm.prototype.read=async function(){return this[tm]&&this[tm].length?{done:!1,value:this[tm].shift()}:this._read()},nm.prototype.releaseLock=function(){this[tm]&&(this.stream[tm]=this[tm]),this._releaseLock()},nm.prototype.cancel=function(e){return this._cancel(e)},nm.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:n,value:r}=await this.read();if(r+="",n)return t.length?sm(t):void 0;const i=r.indexOf("\n")+1;i&&(e=sm(t.concat(r.substr(0,i))),t=[]),i!==r.length&&t.push(r.substr(i))}return this.unshift(...t),e},nm.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const n=t[0];return this.unshift(ym(t,1)),n},nm.prototype.readBytes=async function(e){const t=[];let n=0;for(;;){const{done:r,value:i}=await this.read();if(r)return t.length?sm(t):void 0;if(t.push(i),n+=i.length,n>=e){const n=sm(t);return this.unshift(ym(n,e)),ym(n,0,e)}}},nm.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},nm.prototype.unshift=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[tm]||(this[tm]=[]),1===t.length&&Zg(t[0])&&this[tm].length&&t[0].length&&this[tm][0].byteOffset>=t[0].length?this[tm][0]=new Uint8Array(this[tm][0].buffer,this[tm][0].byteOffset-t[0].length,this[tm][0].byteLength+t[0].length):this[tm].unshift(...t.filter((e=>e&&e.length)))},nm.prototype.readToEnd=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sm;const t=[];for(;;){const{done:e,value:n}=await this.read();if(e)break;t.push(n)}return e(t)};const Am=Symbol("byValue");var km={curve:{nistP256:"nistP256",p256:"nistP256",nistP384:"nistP384",p384:"nistP384",nistP521:"nistP521",p521:"nistP521",secp256k1:"secp256k1",ed25519Legacy:"ed25519Legacy",ed25519:"ed25519Legacy",curve25519Legacy:"curve25519Legacy",curve25519:"curve25519Legacy",brainpoolP256r1:"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,argon2:4,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28},symmetric:{idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11,sha3_256:12,sha3_512:14},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,gcm:3,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20,padding:21},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuerKeyID:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34,preferredCipherSuites:39},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4,seipdv2:8},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[Am]||(e[Am]=[],Object.entries(e).forEach((t=>{let[n,r]=t;e[Am][r]=n}))),void 0!==e[Am][t])return e[Am][t];throw Error("Invalid enum value.")}},Em={preferredHashAlgorithm:km.hash.sha512,preferredSymmetricAlgorithm:km.symmetric.aes256,preferredCompressionAlgorithm:km.compression.uncompressed,aeadProtect:!1,parseAEADEncryptedV4KeysAsLegacy:!1,preferredAEADAlgorithm:km.aead.gcm,aeadChunkSizeByte:12,v6Keys:!1,enableParsingV5Entities:!1,s2kType:km.s2k.iterated,s2kIterationCountByte:224,s2kArgon2Params:{passes:3,parallelism:4,memoryExponent:16},allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,minRSABits:2047,passwordCollisionCheck:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,allowMissingKeyFlags:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([km.symmetric.aes128,km.symmetric.aes192,km.symmetric.aes256]),ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 6.0.1",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],nonDeterministicSignaturesViaNotation:!0,useEllipticFallback:!0,rejectHashAlgorithms:new Set([km.hash.md5,km.hash.ripemd]),rejectMessageHashAlgorithms:new Set([km.hash.md5,km.hash.ripemd,km.hash.sha1]),rejectPublicKeyAlgorithms:new Set([km.publicKey.elgamal,km.publicKey.dsa]),rejectCurves:new Set([km.curve.secp256k1])};const Sm=(()=>{try{return!1}catch(Qg){}return!1})(),Im={isString:function(e){return"string"==typeof e||e instanceof String},nodeRequire:()=>{},isArray:function(e){return e instanceof Array},isUint8Array:Zg,isStream:Yg,getNobleCurve:async(e,t)=>{if(!Em.useEllipticFallback)throw Error("This curve is only supported in the full build of OpenPGP.js");const{nobleCurves:n}=await Promise.resolve().then((function(){return bB}));switch(e){case km.publicKey.ecdh:case km.publicKey.ecdsa:{const e=n.get(t);if(!e)throw Error("Unsupported curve");return e}case km.publicKey.x448:return n.get("x448");case km.publicKey.ed448:return n.get("ed448");default:throw Error("Unsupported curve")}},readNumber:function(e){let t=0;for(let n=0;n<e.length;n++)t+=256**n*e[e.length-1-n];return t},writeNumber:function(e,t){const n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e>>8*(t-r-1)&255;return n},readDate:function(e){const t=Im.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return Im.writeNumber(t,4)},normalizeDate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=7+(e[0]<<8|e[1])>>>3;return Im.readExactSubarray(e,2,2+t)},readExactSubarray:function(e,t,n){if(e.length<n-t)throw Error("Input array too short");return e.subarray(t,n)},leftPad(e,t){if(e.length>t)throw Error("Input array too long");const n=new Uint8Array(t),r=t-e.length;return n.set(e,r),n},uint8ArrayToMPI:function(e){const t=Im.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");const n=e.subarray(e.length-Math.ceil(t/8)),r=new Uint8Array([(65280&t)>>8,255&t]);return Im.concatUint8Array([r,n])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;const n=e.subarray(t);return 8*(n.length-1)+Im.nbits(n[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let n=0;n<e.length>>1;n++)t[n]=parseInt(e.substr(n<<1,2),16);return t},uint8ArrayToHex:function(e){const t="0123456789abcdef";let n="";return e.forEach((e=>{n+=t[e>>4]+t[15&e]})),n},stringToUint8Array:function(e){return um(e,(e=>{if(!Im.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}))},uint8ArrayToString:function(e){const t=[],n=16384,r=(e=new Uint8Array(e)).length;for(let i=0;i<r;i+=n)t.push(String.fromCharCode.apply(String,e.subarray(i,i+n<r?i+n:r)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function n(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.encode(e,{stream:!n})}return um(e,n,(()=>n("",!0)))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function n(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.decode(e,{stream:!n})}return um(e,n,(()=>n(new Uint8Array,!0)))},concat:sm,concatUint8Array:Xg,equalsUint8Array:function(e,t){if(!Im.isUint8Array(e)||!Im.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},writeChecksum:function(e){let t=0;for(let n=0;n<e.length;n++)t=t+e[n]&65535;return Im.writeNumber(t,2)},printDebug:function(e){Sm&&console.log("[OpenPGP.js debug]",e)},printDebugError:function(e){Sm&&console.error("[OpenPGP.js debug]",e)},nbits:function(e){let t=1,n=e>>>16;return 0!==n&&(e=n,t+=16),n=e>>8,0!==n&&(e=n,t+=8),n=e>>4,0!==n&&(e=n,t+=4),n=e>>2,0!==n&&(e=n,t+=2),n=e>>1,0!==n&&(e=n,t+=1),t},double:function(e){const t=new Uint8Array(e.length),n=e.length-1;for(let r=0;r<n;r++)t[r]=e[r]<<1^e[r+1]>>7;return t[n]=e[n]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let n=e.length-1;n>=0;n--)e[n]>>=t,n>0&&(e[n]|=e[n-1]<<8-t);return e},getWebCrypto:function(){const e=void 0!==Qg&&Qg.crypto&&Qg.crypto.subtle||this.getNodeCrypto()?.webcrypto.subtle;if(!e)throw Error("The WebCrypto API is not available");return e},getNodeCrypto:function(){return this.nodeRequire("crypto")},getNodeZlib:function(){return this.nodeRequire("zlib")},getNodeBuffer:function(){return(this.nodeRequire("buffer")||{}).Buffer},getHardwareConcurrency:function(){return"undefined"!=typeof navigator?navigator.hardwareConcurrency||1:this.nodeRequire("os").cpus().length},isEmailAddress:function(e){return!!Im.isString(e)&&/^[^\p{C}\p{Z}@<>\\]+@[^\p{C}\p{Z}@<>\\]+[^\p{C}\p{Z}\p{P}]$/u.test(e)},canonicalizeEOL:function(e){let t=!1;return um(e,(e=>{let n;t&&(e=Im.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;const r=[];for(let t=0;n=e.indexOf(10,t)+1,n;t=n)13!==e[n-2]&&r.push(n);if(!r.length)return e;const i=new Uint8Array(e.length+r.length);let s=0;for(let t=0;t<r.length;t++){const n=e.subarray(r[t-1]||0,r[t]);i.set(n,s),s+=n.length,i[s-1]=13,i[s]=10,s++}return i.set(e.subarray(r[r.length-1]||0),s),i}),(()=>t?new Uint8Array([13]):void 0))},nativeEOL:function(e){let t=!1;return um(e,(e=>{let n;13===(e=t&&10!==e[0]?Im.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let r=0;for(let t=0;t!==e.length;t=n){n=e.indexOf(13,t)+1,n||(n=e.length);const i=n-(10===e[n]?1:0);t&&e.copyWithin(r,t,i),r+=i-t}return e.subarray(0,r)}),(()=>t?new Uint8Array([13]):void 0))},removeTrailingSpaces:function(e){return e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)})).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){const t={};return e.forEach((e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e})),t},anyPromise:function(e){return new Promise((async(t,n)=>{let r;await Promise.all(e.map((async e=>{try{t(await e)}catch(e){r=e}}))),n(r)}))},selectUint8Array:function(e,t,n){const r=Math.max(t.length,n.length),i=new Uint8Array(r);let s=0;for(let a=0;a<i.length;a++)i[a]=t[a]&256-e|n[a]&255+e,s+=e&a<t.length|1-e&a<n.length;return i.subarray(0,s)},selectUint8:function(e,t,n){return t&256-e|n&255+e},isAES:function(e){return e===km.symmetric.aes128||e===km.symmetric.aes192||e===km.symmetric.aes256}},Cm=Im.getNodeBuffer();let xm,Bm;function Pm(e){let t=new Uint8Array;return um(e,(e=>{t=Im.concatUint8Array([t,e]);const n=[],r=Math.floor(t.length/45),i=45*r,s=xm(t.subarray(0,i));for(let t=0;t<r;t++)n.push(s.substr(60*t,60)),n.push("\n");return t=t.subarray(i),n.join("")}),(()=>t.length?xm(t)+"\n":""))}function _m(e){let t="";return um(e,(e=>{t+=e;let n=0;const r=[" ","\t","\r","\n"];for(let a=0;a<r.length;a++){const e=r[a];for(let r=t.indexOf(e);-1!==r;r=t.indexOf(e,r+1))n++}let i=t.length;for(;i>0&&(i-n)%4!=0;i--)r.includes(t[i])&&n--;const s=Bm(t.substr(0,i));return t=t.substr(i),s}),(()=>Bm(t)))}function Tm(e){return _m(e.replace(/-/g,"+").replace(/_/g,"/"))}function Nm(e,t){let n=Pm(e).replace(/[\r\n]/g,"");return n=n.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,""),n}function Rm(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?km.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?km.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?km.armor.signed:/MESSAGE/.test(t[1])?km.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?km.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?km.armor.privateKey:/SIGNATURE/.test(t[1])?km.armor.signature:void 0}function Dm(e,t){let n="";return t.showVersion&&(n+="Version: "+t.versionString+"\n"),t.showComment&&(n+="Comment: "+t.commentString+"\n"),e&&(n+="Comment: "+e+"\n"),n+="\n",n}function Um(e){const t=function(e){let t=13501623;return um(e,(e=>{const n=Lm?Math.floor(e.length/4):0,r=new Uint32Array(e.buffer,e.byteOffset,n);for(let i=0;i<n;i++)t^=r[i],t=Om[0][t>>24&255]^Om[1][t>>16&255]^Om[2][t>>8&255]^Om[3][255&t];for(let i=4*n;i<e.length;i++)t=t>>8^Om[0][255&t^e[i]]}),(()=>new Uint8Array([t,t>>8,t>>16])))}(e);return Pm(t)}Cm?(xm=e=>Cm.from(e).toString("base64"),Bm=e=>{const t=Cm.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(xm=e=>btoa(Im.uint8ArrayToString(e)),Bm=e=>Im.stringToUint8Array(atob(e)));const Om=[Array(255),Array(255),Array(255),Array(255)];for(let n=0;n<=255;n++){let e=n<<16;for(let t=0;t<8;t++)e=e<<1^(8388608&e?8801531:0);Om[0][n]=(16711680&e)>>16|65280&e|(255&e)<<16}for(let n=0;n<=255;n++)Om[1][n]=Om[0][n]>>8^Om[0][255&Om[0][n]];for(let n=0;n<=255;n++)Om[2][n]=Om[1][n]>>8^Om[0][255&Om[1][n]];for(let n=0;n<=255;n++)Om[3][n]=Om[2][n]>>8^Om[0][255&Om[2][n]];const Lm=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function Mm(e){for(let t=0;t<e.length;t++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t])||Im.printDebugError(Error("Improperly formatted armor header: "+e[t])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||Im.printDebugError(Error("Unknown header: "+e[t]))}function Km(e){let t=e;const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n)),t}function Fm(e){return new Promise((async(t,n)=>{try{const r=/^-----[^-]+-----$/m,i=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let s;const a=[];let o,c,u=a,l=[];const h=_m(lm(e,(async(e,f)=>{const d=bm(e);try{for(;;){let e=await d.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=Im.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),s)if(o)c||s!==km.armor.signed||(r.test(e)?(l=l.join("\r\n"),c=!0,Mm(u),u=[],o=!1):l.push(e.replace(/^- /,"")));else if(r.test(e)&&n(Error("Mandatory blank line missing between armor headers and armor data")),i.test(e)){if(Mm(u),o=!0,c||s!==km.armor.signed){t({text:l,data:h,headers:a,type:s});break}}else u.push(e);else r.test(e)&&(s=Rm(e))}}catch(e){return void n(e)}const p=vm(f);try{for(;;){await p.ready;const{done:e,value:t}=await d.read();if(e)throw Error("Misformed armored text");const n=t+"";if(-1!==n.indexOf("=")||-1!==n.indexOf("-")){let e=await d.readToEnd();e.length||(e=""),e=n+e,e=Im.removeTrailingSpaces(e.replace(/\r/g,""));const t=e.split(r);if(1===t.length)throw Error("Misformed armored text");const i=Km(t[0].slice(0,-1));await p.write(i);break}await p.write(n)}await p.ready,await p.close()}catch(e){await p.abort(e)}})))}catch(e){n(e)}})).then((async e=>($g(e.data)&&(e.data=await gm(e.data)),e)))}function jm(e,t,n,r,i){let s,a,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Em;e===km.armor.signed&&(s=t.text,a=t.hash,t=t.data);const u=o&&dm(t),l=[];switch(e){case km.armor.multipartSection:l.push("-----BEGIN PGP MESSAGE, PART "+n+"/"+r+"-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP MESSAGE, PART "+n+"/"+r+"-----\n");break;case km.armor.multipartLast:l.push("-----BEGIN PGP MESSAGE, PART "+n+"-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP MESSAGE, PART "+n+"-----\n");break;case km.armor.signed:l.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),l.push(a?`Hash: ${a}\n\n`:"\n"),l.push(s.replace(/^-/gm,"- -")),l.push("\n-----BEGIN PGP SIGNATURE-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP SIGNATURE-----\n");break;case km.armor.message:l.push("-----BEGIN PGP MESSAGE-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP MESSAGE-----\n");break;case km.armor.publicKey:l.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case km.armor.privateKey:l.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case km.armor.signature:l.push("-----BEGIN PGP SIGNATURE-----\n"),l.push(Dm(i,c)),l.push(Pm(t)),u&&l.push("=",Um(u)),l.push("-----END PGP SIGNATURE-----\n")}return Im.concat(l)}async function Qm(e){switch(e){case km.symmetric.aes128:case km.symmetric.aes192:case km.symmetric.aes256:throw Error("Not a legacy cipher");case km.symmetric.cast5:case km.symmetric.blowfish:case km.symmetric.twofish:case km.symmetric.tripledes:{const{legacyCiphers:t}=await Promise.resolve().then((function(){return DB})),n=t.get(e);if(!n)throw Error("Unsupported cipher algorithm");return n}default:throw Error("Unsupported cipher algorithm")}}function zm(e){switch(e){case km.symmetric.aes128:case km.symmetric.aes192:case km.symmetric.aes256:case km.symmetric.twofish:return 16;case km.symmetric.blowfish:case km.symmetric.cast5:case km.symmetric.tripledes:return 8;default:throw Error("Unsupported cipher")}}function Hm(e){switch(e){case km.symmetric.aes128:case km.symmetric.blowfish:case km.symmetric.cast5:return 16;case km.symmetric.aes192:case km.symmetric.tripledes:return 24;case km.symmetric.aes256:case km.symmetric.twofish:return 32;default:throw Error("Unsupported cipher")}}function Gm(e){return{keySize:Hm(e),blockSize:zm(e)}}var Vm=Object.freeze({__proto__:null,getCipherParams:Gm,getLegacyCipher:Qm});function qm(e,t){let n=e[0],r=e[1],i=e[2],s=e[3];n=$m(n,r,i,s,t[0],7,-680876936),s=$m(s,n,r,i,t[1],12,-389564586),i=$m(i,s,n,r,t[2],17,606105819),r=$m(r,i,s,n,t[3],22,-1044525330),n=$m(n,r,i,s,t[4],7,-176418897),s=$m(s,n,r,i,t[5],12,1200080426),i=$m(i,s,n,r,t[6],17,-1473231341),r=$m(r,i,s,n,t[7],22,-45705983),n=$m(n,r,i,s,t[8],7,1770035416),s=$m(s,n,r,i,t[9],12,-1958414417),i=$m(i,s,n,r,t[10],17,-42063),r=$m(r,i,s,n,t[11],22,-1990404162),n=$m(n,r,i,s,t[12],7,1804603682),s=$m(s,n,r,i,t[13],12,-40341101),i=$m(i,s,n,r,t[14],17,-1502002290),r=$m(r,i,s,n,t[15],22,1236535329),n=Wm(n,r,i,s,t[1],5,-165796510),s=Wm(s,n,r,i,t[6],9,-1069501632),i=Wm(i,s,n,r,t[11],14,643717713),r=Wm(r,i,s,n,t[0],20,-373897302),n=Wm(n,r,i,s,t[5],5,-701558691),s=Wm(s,n,r,i,t[10],9,38016083),i=Wm(i,s,n,r,t[15],14,-660478335),r=Wm(r,i,s,n,t[4],20,-405537848),n=Wm(n,r,i,s,t[9],5,568446438),s=Wm(s,n,r,i,t[14],9,-1019803690),i=Wm(i,s,n,r,t[3],14,-187363961),r=Wm(r,i,s,n,t[8],20,1163531501),n=Wm(n,r,i,s,t[13],5,-1444681467),s=Wm(s,n,r,i,t[2],9,-51403784),i=Wm(i,s,n,r,t[7],14,1735328473),r=Wm(r,i,s,n,t[12],20,-1926607734),n=Ym(n,r,i,s,t[5],4,-378558),s=Ym(s,n,r,i,t[8],11,-2022574463),i=Ym(i,s,n,r,t[11],16,1839030562),r=Ym(r,i,s,n,t[14],23,-35309556),n=Ym(n,r,i,s,t[1],4,-1530992060),s=Ym(s,n,r,i,t[4],11,1272893353),i=Ym(i,s,n,r,t[7],16,-155497632),r=Ym(r,i,s,n,t[10],23,-1094730640),n=Ym(n,r,i,s,t[13],4,681279174),s=Ym(s,n,r,i,t[0],11,-358537222),i=Ym(i,s,n,r,t[3],16,-722521979),r=Ym(r,i,s,n,t[6],23,76029189),n=Ym(n,r,i,s,t[9],4,-640364487),s=Ym(s,n,r,i,t[12],11,-421815835),i=Ym(i,s,n,r,t[15],16,530742520),r=Ym(r,i,s,n,t[2],23,-995338651),n=Zm(n,r,i,s,t[0],6,-198630844),s=Zm(s,n,r,i,t[7],10,1126891415),i=Zm(i,s,n,r,t[14],15,-1416354905),r=Zm(r,i,s,n,t[5],21,-57434055),n=Zm(n,r,i,s,t[12],6,1700485571),s=Zm(s,n,r,i,t[3],10,-1894986606),i=Zm(i,s,n,r,t[10],15,-1051523),r=Zm(r,i,s,n,t[1],21,-2054922799),n=Zm(n,r,i,s,t[8],6,1873313359),s=Zm(s,n,r,i,t[15],10,-30611744),i=Zm(i,s,n,r,t[6],15,-1560198380),r=Zm(r,i,s,n,t[13],21,1309151649),n=Zm(n,r,i,s,t[4],6,-145523070),s=Zm(s,n,r,i,t[11],10,-1120210379),i=Zm(i,s,n,r,t[2],15,718787259),r=Zm(r,i,s,n,t[9],21,-343485551),e[0]=nw(n,e[0]),e[1]=nw(r,e[1]),e[2]=nw(i,e[2]),e[3]=nw(s,e[3])}function Jm(e,t,n,r,i,s){return t=nw(nw(t,e),nw(r,s)),nw(t<<i|t>>>32-i,n)}function $m(e,t,n,r,i,s,a){return Jm(t&n|~t&r,e,t,i,s,a)}function Wm(e,t,n,r,i,s,a){return Jm(t&r|n&~r,e,t,i,s,a)}function Ym(e,t,n,r,i,s,a){return Jm(t^n^r,e,t,i,s,a)}function Zm(e,t,n,r,i,s,a){return Jm(n^(t|~r),e,t,i,s,a)}function Xm(e){const t=[];let n;for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}const ew="0123456789abcdef".split("");function tw(e){let t="",n=0;for(;n<4;n++)t+=ew[e>>8*n+4&15]+ew[e>>8*n&15];return t}function nw(e,t){return e+t&4294967295}const rw=Im.getWebCrypto(),iw=Im.getNodeCrypto(),sw=iw&&iw.getHashes();function aw(e){if(iw&&sw.includes(e))return async function(t){const n=iw.createHash(e);return um(t,(e=>{n.update(e)}),(()=>new Uint8Array(n.digest())))}}function ow(e,t){const n=async()=>{const{nobleHashes:t}=await Promise.resolve().then((function(){return XB})),n=t.get(e);if(!n)throw Error("Unsupported hash");return n};return async function(e){if($g(e)&&(e=await gm(e)),Im.isStream(e)){const t=(await n()).create();return um(e,(e=>{t.update(e)}),(()=>t.digest()))}return rw&&t?new Uint8Array(await rw.digest(t,e)):(await n())(e)}}var cw={md5:aw("md5")||async function(e){const t=function(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let r;for(r=64;r<=e.length;r+=64)qm(n,Xm(e.substring(r-64,r)));e=e.substring(r-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(qm(n,i),r=0;r<16;r++)i[r]=0;return i[14]=8*t,qm(n,i),n}(Im.uint8ArrayToString(e));return Im.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=tw(e[t]);return e.join("")}(t))},sha1:aw("sha1")||ow("sha1","SHA-1"),sha224:aw("sha224")||ow("sha224"),sha256:aw("sha256")||ow("sha256","SHA-256"),sha384:aw("sha384")||ow("sha384","SHA-384"),sha512:aw("sha512")||ow("sha512","SHA-512"),ripemd:aw("ripemd160")||ow("ripemd160"),sha3_256:aw("sha3-256")||ow("sha3_256"),sha3_512:aw("sha3-512")||ow("sha3_512"),digest:function(e,t){switch(e){case km.hash.md5:return this.md5(t);case km.hash.sha1:return this.sha1(t);case km.hash.ripemd:return this.ripemd(t);case km.hash.sha256:return this.sha256(t);case km.hash.sha384:return this.sha384(t);case km.hash.sha512:return this.sha512(t);case km.hash.sha224:return this.sha224(t);case km.hash.sha3_256:return this.sha3_256(t);case km.hash.sha3_512:return this.sha3_512(t);default:throw Error("Unsupported hash function")}},getHashByteLength:function(e){switch(e){case km.hash.md5:return 16;case km.hash.sha1:case km.hash.ripemd:return 20;case km.hash.sha256:return 32;case km.hash.sha384:return 48;case km.hash.sha512:return 64;case km.hash.sha224:return 28;case km.hash.sha3_256:return 32;case km.hash.sha3_512:return 64;default:throw Error("Invalid hash algorithm.")}}};function uw(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function lw(e){if(!uw(e))throw Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw Error(`Uint8Array expected of length ${n}, not of length=${e.length}`)}function hw(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function fw(e,t){lw(e);const n=t.outputLen;if(e.length<n)throw Error("digestInto() expects output buffer of length at least "+n)}const dw=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),pw=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),yw=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function gw(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!uw(e))throw Error("Uint8Array expected, got "+typeof e);e=Aw(e)}return e}function mw(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const ww=(e,t)=>(Object.assign(t,e),t);function bw(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s);e.setUint32(t+0,a,r),e.setUint32(t+4,o,r)}function vw(e){return e.byteOffset%4==0}function Aw(e){return Uint8Array.from(e)}function kw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const Ew=16,Sw=new Uint8Array(16),Iw=pw(Sw),Cw=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class xw{constructor(e,t){this.blockLen=Ew,this.outputLen=Ew,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,lw(e=gw(e),16);const n=yw(e);let r=n.getUint32(0,!1),i=n.getUint32(4,!1),s=n.getUint32(8,!1),a=n.getUint32(12,!1);const o=[];for(let g=0;g<128;g++)o.push({s0:Cw(r),s1:Cw(i),s2:Cw(s),s3:Cw(a)}),({s0:r,s1:i,s2:s,s3:a}={s3:(l=s)<<31|(h=a)>>>1,s2:(u=i)<<31|l>>>1,s1:(c=r)<<31|u>>>1,s0:c>>>1^225<<24&-(1&h)});var c,u,l,h;const f=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(f))throw Error(`ghash: wrong window size=${f}, should be 2, 4 or 8`);this.W=f;const d=128/f,p=this.windowSize=2**f,y=[];for(let g=0;g<d;g++)for(let e=0;e<p;e++){let t=0,n=0,r=0,i=0;for(let s=0;s<f;s++){if(!(e>>>f-s-1&1))continue;const{s0:a,s1:c,s2:u,s3:l}=o[f*g+s];t^=a,n^=c,r^=u,i^=l}y.push({s0:t,s1:n,s2:r,s3:i})}this.t=y}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:s,windowSize:a}=this;let o=0,c=0,u=0,l=0;const h=(1<<i)-1;let f=0;for(const d of[e,t,n,r])for(let e=0;e<4;e++){const t=d>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&h,{s0:r,s1:d,s2:p,s3:y}=s[f*a+n];o^=r,c^=d,u^=p,l^=y,f+=1}}this.s0=o,this.s1=c,this.s2=u,this.s3=l}update(e){e=gw(e),hw(this);const t=pw(e),n=Math.floor(e.length/Ew),r=e.length%Ew;for(let i=0;i<n;i++)this._updateBlock(t[4*i+0],t[4*i+1],t[4*i+2],t[4*i+3]);return r&&(Sw.set(e.subarray(n*Ew)),this._updateBlock(Iw[0],Iw[1],Iw[2],Iw[3]),kw(Iw)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){hw(this),fw(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,s=pw(e);return s[0]=t,s[1]=n,s[2]=r,s[3]=i,e}digest(){const e=new Uint8Array(Ew);return this.digestInto(e),this.destroy(),e}}class Bw extends xw{constructor(e,t){const n=function(e){e.reverse();const t=1&e[15];let n=0;for(let r=0;r<e.length;r++){const t=e[r];e[r]=t>>>1|n,n=(1&t)<<7}return e[0]^=225&-t,e}(Aw(e=gw(e)));super(n,t),kw(n)}update(e){e=gw(e),hw(this);const t=pw(e),n=e.length%Ew,r=Math.floor(e.length/Ew);for(let i=0;i<r;i++)this._updateBlock(Cw(t[4*i+3]),Cw(t[4*i+2]),Cw(t[4*i+1]),Cw(t[4*i+0]));return n&&(Sw.set(e.subarray(r*Ew)),this._updateBlock(Cw(Iw[3]),Cw(Iw[2]),Cw(Iw[1]),Cw(Iw[0])),kw(Iw)),this}digestInto(e){hw(this),fw(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,s=pw(e);return s[0]=t,s[1]=n,s[2]=r,s[3]=i,e.reverse()}}function Pw(e){const t=(t,n)=>e(n,t.length).update(gw(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}const _w=Pw(((e,t)=>new xw(e,t)));Pw(((e,t)=>new Bw(e,t)));const Tw=16,Nw=new Uint8Array(Tw);function Rw(e){return e<<1^283&-(e>>7)}function Dw(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=Rw(e);return n}const Uw=(()=>{const e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Rw(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return kw(e),t})(),Ow=Uw.map(((e,t)=>Uw.indexOf(t))),Lw=e=>e<<24|e>>>8,Mw=e=>e<<8|e>>>24,Kw=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function Fw(e,t){if(256!==e.length)throw Error("Wrong sbox length");const n=new Uint32Array(256).map(((n,r)=>t(e[r]))),r=n.map(Mw),i=r.map(Mw),s=i.map(Mw),a=new Uint32Array(65536),o=new Uint32Array(65536),c=new Uint16Array(65536);for(let u=0;u<256;u++)for(let t=0;t<256;t++){const l=256*u+t;a[l]=n[u]^r[t],o[l]=i[u]^s[t],c[l]=e[u]<<8|e[t]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:i,T3:s,T01:a,T23:o}}const jw=Fw(Uw,(e=>Dw(e,3)<<24|e<<16|e<<8|Dw(e,2))),Qw=Fw(Ow,(e=>Dw(e,11)<<24|Dw(e,13)<<16|Dw(e,9)<<8|Dw(e,14))),zw=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Rw(n))e[t]=n;return e})();function Hw(e){lw(e);const t=e.length;if(![16,24,32].includes(t))throw Error("aes: wrong key size: should be 16, 24 or 32, got: "+t);const{sbox2:n}=jw,r=[];vw(e)||r.push(e=Aw(e));const i=pw(e),s=i.length,a=e=>qw(n,e,e,e,e),o=new Uint32Array(t+28);o.set(i);for(let c=s;c<o.length;c++){let e=o[c-1];c%s==0?e=a(Lw(e))^zw[c/s-1]:s>6&&c%s==4&&(e=a(e)),o[c]=o[c-s]^e}return kw(...r),o}function Gw(e){const t=Hw(e),n=t.slice(),r=t.length,{sbox2:i}=jw,{T0:s,T1:a,T2:o,T3:c}=Qw;for(let u=0;u<r;u+=4)for(let e=0;e<4;e++)n[u+e]=t[r-u-4+e];kw(t);for(let u=4;u<r-4;u++){const e=n[u],t=qw(i,e,e,e,e);n[u]=s[255&t]^a[t>>>8&255]^o[t>>>16&255]^c[t>>>24]}return n}function Vw(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function qw(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function Jw(e,t,n,r,i){const{sbox2:s,T01:a,T23:o}=jw;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const u=e.length/4-2;for(let l=0;l<u;l++){const s=e[c++]^Vw(a,o,t,n,r,i),u=e[c++]^Vw(a,o,n,r,i,t),l=e[c++]^Vw(a,o,r,i,t,n),h=e[c++]^Vw(a,o,i,t,n,r);t=s,n=u,r=l,i=h}return{s0:e[c++]^qw(s,t,n,r,i),s1:e[c++]^qw(s,n,r,i,t),s2:e[c++]^qw(s,r,i,t,n),s3:e[c++]^qw(s,i,t,n,r)}}function $w(e,t,n,r,i){const{sbox2:s,T01:a,T23:o}=Qw;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const u=e.length/4-2;for(let l=0;l<u;l++){const s=e[c++]^Vw(a,o,t,i,r,n),u=e[c++]^Vw(a,o,n,t,i,r),l=e[c++]^Vw(a,o,r,n,t,i),h=e[c++]^Vw(a,o,i,r,n,t);t=s,n=u,r=l,i=h}return{s0:e[c++]^qw(s,t,i,r,n),s1:e[c++]^qw(s,n,t,i,r),s2:e[c++]^qw(s,r,n,t,i),s3:e[c++]^qw(s,i,r,n,t)}}function Ww(e,t){if(void 0===t)return new Uint8Array(e);if(lw(t),t.length<e)throw Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);if(!vw(t))throw Error("unaligned dst");return t}function Yw(e,t,n,r){lw(t,Tw),lw(n);const i=n.length;r=Ww(i,r);const s=t,a=pw(s);let{s0:o,s1:c,s2:u,s3:l}=Jw(e,a[0],a[1],a[2],a[3]);const h=pw(n),f=pw(r);for(let p=0;p+4<=h.length;p+=4){f[p+0]=h[p+0]^o,f[p+1]=h[p+1]^c,f[p+2]=h[p+2]^u,f[p+3]=h[p+3]^l;let t=1;for(let e=s.length-1;e>=0;e--)t=t+(255&s[e])|0,s[e]=255&t,t>>>=8;({s0:o,s1:c,s2:u,s3:l}=Jw(e,a[0],a[1],a[2],a[3]))}const d=Tw*Math.floor(h.length/4);if(d<i){const e=new Uint32Array([o,c,u,l]),t=dw(e);for(let s=d,a=0;s<i;s++,a++)r[s]=n[s]^t[a];kw(e)}return r}function Zw(e,t,n,r,i){lw(n,Tw),lw(r),i=Ww(r.length,i);const s=n,a=pw(s),o=yw(s),c=pw(r),u=pw(i),l=t?0:12,h=r.length;let f=o.getUint32(l,t),{s0:d,s1:p,s2:y,s3:g}=Jw(e,a[0],a[1],a[2],a[3]);for(let w=0;w+4<=c.length;w+=4)u[w+0]=c[w+0]^d,u[w+1]=c[w+1]^p,u[w+2]=c[w+2]^y,u[w+3]=c[w+3]^g,f=f+1>>>0,o.setUint32(l,f,t),({s0:d,s1:p,s2:y,s3:g}=Jw(e,a[0],a[1],a[2],a[3]));const m=Tw*Math.floor(c.length/4);if(m<h){const e=new Uint32Array([d,p,y,g]),t=dw(e);for(let n=m,s=0;n<h;n++,s++)i[n]=r[n]^t[s];kw(e)}return i}const Xw=ww({blockSize:16,nonceLength:16},(function(e,t){function n(n,r){if(lw(n),void 0!==r&&(lw(r),!vw(r)))throw Error("unaligned destination");const i=Hw(e),s=Aw(t),a=[i,s];vw(n)||a.push(n=Aw(n));const o=Yw(i,s,n,r);return kw(...a),o}return lw(e),lw(t,Tw),{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}})),eb=ww({blockSize:16,nonceLength:16},(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lw(e),lw(t,16);const r=!n.disablePadding;return{encrypt(n,i){const s=Hw(e),{b:a,o:o,out:c}=function(e,t,n){lw(e);let r=e.length;const i=r%Tw;if(!t&&0!==i)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");vw(e)||(e=Aw(e));const s=pw(e);if(t){let e=Tw-i;e||(e=Tw),r+=e}const a=Ww(r,n);return{b:s,o:pw(a),out:a}}(n,r,i);let u=t;const l=[s];vw(u)||l.push(u=Aw(u));const h=pw(u);let f=h[0],d=h[1],p=h[2],y=h[3],g=0;for(;g+4<=a.length;)f^=a[g+0],d^=a[g+1],p^=a[g+2],y^=a[g+3],({s0:f,s1:d,s2:p,s3:y}=Jw(s,f,d,p,y)),o[g++]=f,o[g++]=d,o[g++]=p,o[g++]=y;if(r){const e=function(e){const t=new Uint8Array(16),n=pw(t);t.set(e);const r=Tw-e.length;for(let i=Tw-r;i<Tw;i++)t[i]=r;return n}(n.subarray(4*g));f^=e[0],d^=e[1],p^=e[2],y^=e[3],({s0:f,s1:d,s2:p,s3:y}=Jw(s,f,d,p,y)),o[g++]=f,o[g++]=d,o[g++]=p,o[g++]=y}return kw(...l),c},decrypt(n,i){!function(e){if(lw(e),e.length%Tw!=0)throw Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}(n);const s=Gw(e);let a=t;const o=[s];vw(a)||o.push(a=Aw(a));const c=pw(a),u=Ww(n.length,i);vw(n)||o.push(n=Aw(n));const l=pw(n),h=pw(u);let f=c[0],d=c[1],p=c[2],y=c[3];for(let e=0;e+4<=l.length;){const t=f,n=d,r=p,i=y;f=l[e+0],d=l[e+1],p=l[e+2],y=l[e+3];const{s0:a,s1:o,s2:c,s3:u}=$w(s,f,d,p,y);h[e++]=a^t,h[e++]=o^n,h[e++]=c^r,h[e++]=u^i}return kw(...o),function(e,t){if(!t)return e;const n=e.length;if(!n)throw Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw Error("aes/pcks5: wrong padding");const i=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw Error("aes/pcks5: wrong padding");return i}(u,r)}}})),tb=ww({blockSize:16,nonceLength:16},(function(e,t){function n(n,r,i){lw(n);const s=n.length;i=Ww(s,i);const a=Hw(e);let o=t;const c=[a];vw(o)||c.push(o=Aw(o)),vw(n)||c.push(n=Aw(n));const u=pw(n),l=pw(i),h=r?l:u,f=pw(o);let d=f[0],p=f[1],y=f[2],g=f[3];for(let e=0;e+4<=u.length;){const{s0:t,s1:n,s2:r,s3:i}=Jw(a,d,p,y,g);l[e+0]=u[e+0]^t,l[e+1]=u[e+1]^n,l[e+2]=u[e+2]^r,l[e+3]=u[e+3]^i,d=h[e++],p=h[e++],y=h[e++],g=h[e++]}const m=Tw*Math.floor(u.length/4);if(m<s){({s0:d,s1:p,s2:y,s3:g}=Jw(a,d,p,y,g));const e=dw(new Uint32Array([d,p,y,g]));for(let t=m,r=0;t<s;t++,r++)i[t]=n[t]^e[r];kw(e)}return kw(...c),i}return lw(e),lw(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}})),nb=ww({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){if(lw(e),lw(t),void 0!==n&&lw(n),t.length<8)throw Error("aes/gcm: invalid nonce length");function r(e,t,r){const i=function(e,t,n,r,i){const s=null==i?0:i.length,a=e.create(n,r.length+s);i&&a.update(i),a.update(r);const o=new Uint8Array(16),c=yw(o);i&&bw(c,0,BigInt(8*s),t),bw(c,8,BigInt(8*r.length),t),a.update(o);const u=a.digest();return kw(o),u}(_w,!1,e,r,n);for(let n=0;n<t.length;n++)i[n]^=t[n];return i}function i(){const n=Hw(e),r=Nw.slice(),i=Nw.slice();if(Zw(n,!1,i,i,r),12===t.length)i.set(t);else{const e=Nw.slice();bw(yw(e),8,BigInt(8*t.length),!1);const n=_w.create(r).update(t).update(e);n.digestInto(i),n.destroy()}return{xk:n,authKey:r,counter:i,tagMask:Zw(n,!1,i,Nw)}}return{encrypt(e){lw(e);const{xk:t,authKey:n,counter:s,tagMask:a}=i(),o=new Uint8Array(e.length+16),c=[t,n,s,a];vw(e)||c.push(e=Aw(e)),Zw(t,!1,s,e,o);const u=r(n,a,o.subarray(0,o.length-16));return c.push(u),o.set(u,e.length),kw(...c),o},decrypt(e){if(lw(e),e.length<16)throw Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:t,authKey:n,counter:s,tagMask:a}=i(),o=[t,n,a,s];vw(e)||o.push(e=Aw(e));const c=e.subarray(0,-16),u=e.subarray(-16),l=r(n,a,c);if(o.push(l),!mw(l,u))throw Error("aes/gcm: invalid ghash tag");const h=Zw(t,!1,s,c);return kw(...o),h}}}));function rb(e){return null!=e&&"object"==typeof e&&(e instanceof Uint32Array||"Uint32Array"===e.constructor.name)}function ib(e,t){if(lw(t,16),!rb(e))throw Error("_encryptBlock accepts result of expandKeyLE");const n=pw(t);let{s0:r,s1:i,s2:s,s3:a}=Jw(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=s,n[3]=a,t}function sb(e,t){if(lw(t,16),!rb(e))throw Error("_decryptBlock accepts result of expandKeyLE");const n=pw(t);let{s0:r,s1:i,s2:s,s3:a}=$w(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=s,n[3]=a,t}const ab={encrypt(e,t){if(t.length>=2**32)throw Error("plaintext should be less than 4gb");const n=Hw(e);if(16===t.length)ib(n,t);else{const e=pw(t);let r=e[0],i=e[1];for(let t=0,s=1;t<6;t++)for(let a=2;a<e.length;a+=2,s++){const{s0:t,s1:o,s2:c,s3:u}=Jw(n,r,i,e[a],e[a+1]);r=t,i=o^Kw(s),e[a]=c,e[a+1]=u}e[0]=r,e[1]=i}n.fill(0)},decrypt(e,t){if(t.length-8>=2**32)throw Error("ciphertext should be less than 4gb");const n=Gw(e),r=t.length/8-1;if(1===r)sb(n,t);else{const e=pw(t);let i=e[0],s=e[1];for(let t=0,a=6*r;t<6;t++)for(let o=2*r;o>=1;o-=2,a--){s^=Kw(a);const{s0:t,s1:r,s2:c,s3:u}=$w(n,i,s,e[o],e[o+1]);i=t,s=r,e[o]=c,e[o+1]=u}e[0]=i,e[1]=s}n.fill(0)}},ob=new Uint8Array(8).fill(166),cb=ww({blockSize:8},(e=>({encrypt(t){if(lw(t),!t.length||t.length%8!=0)throw Error("invalid plaintext length");if(8===t.length)throw Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];lw(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(ob,t);return ab.encrypt(e,n),n},decrypt(t){if(lw(t),t.length%8!=0||t.length<24)throw Error("invalid ciphertext length");const n=Aw(t);if(ab.decrypt(e,n),!mw(n.subarray(0,8),ob))throw Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}))),ub={expandKeyLE:Hw,expandKeyDecLE:Gw,encrypt:Jw,decrypt:$w,encryptBlock:ib,decryptBlock:sb,ctrCounter:Yw,ctr32:Zw},lb=Im.getWebCrypto(),hb=Im.getNodeCrypto(),fb=hb?hb.getCiphers():[],db={idea:fb.includes("idea-cfb")?"idea-cfb":void 0,tripledes:fb.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:fb.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:fb.includes("bf-cfb")?"bf-cfb":void 0,aes128:fb.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:fb.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:fb.includes("aes-256-cfb")?"aes-256-cfb":void 0};class pb{constructor(e,t,n){const{blockSize:r}=Gm(e);this.key=t,this.prevBlock=n,this.nextBlock=new Uint8Array(r),this.i=0,this.blockSize=r,this.zeroBlock=new Uint8Array(this.blockSize)}static async isSupported(e){const{keySize:t}=Gm(e);return lb.importKey("raw",new Uint8Array(t),"aes-cbc",!1,["encrypt"]).then((()=>!0),(()=>!1))}async _runCBC(e,t){const n="AES-CBC";this.keyRef=this.keyRef||await lb.importKey("raw",this.key,n,!1,["encrypt"]);const r=await lb.encrypt({name:n,iv:t||this.zeroBlock},this.keyRef,e);return new Uint8Array(r).subarray(0,e.length)}async encryptChunk(e){const t=this.nextBlock.length-this.i,n=e.subarray(0,t);if(this.nextBlock.set(n,this.i),this.i+e.length>=2*this.blockSize){const n=(e.length-t)%this.blockSize,r=Im.concatUint8Array([this.nextBlock,e.subarray(t,e.length-n)]),i=Im.concatUint8Array([this.prevBlock,r.subarray(0,r.length-this.blockSize)]),s=await this._runCBC(i);return gb(s,r),this.prevBlock=s.slice(-this.blockSize),n>0&&this.nextBlock.set(e.subarray(-n)),this.i=n,s}let r;if(this.i+=n.length,this.i===this.nextBlock.length){const t=this.nextBlock;r=await this._runCBC(this.prevBlock),gb(r,t),this.prevBlock=r.slice(),this.i=0;const i=e.subarray(n.length);this.nextBlock.set(i,this.i),this.i+=i.length}else r=new Uint8Array;return r}async finish(){let e;if(0===this.i)e=new Uint8Array;else{this.nextBlock=this.nextBlock.subarray(0,this.i);const t=this.nextBlock,n=await this._runCBC(this.prevBlock);gb(n,t),e=n.subarray(0,t.length)}return this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.keyRef=null,this.key=null}async encrypt(e){const t=(await this._runCBC(Im.concatUint8Array([new Uint8Array(this.blockSize),e]),this.iv)).subarray(0,e.length);return gb(t,e),this.clearSensitiveData(),t}}class yb{constructor(e,t,n,r){this.forEncryption=e;const{blockSize:i}=Gm(t);this.key=ub.expandKeyLE(n),r.byteOffset%4!=0&&(r=r.slice()),this.prevBlock=mb(r),this.nextBlock=new Uint8Array(i),this.i=0,this.blockSize=i}_runCFB(e){const t=mb(e),n=new Uint8Array(e.length),r=mb(n);for(let i=0;i+4<=r.length;i+=4){const{s0:e,s1:n,s2:s,s3:a}=ub.encrypt(this.key,this.prevBlock[0],this.prevBlock[1],this.prevBlock[2],this.prevBlock[3]);r[i+0]=t[i+0]^e,r[i+1]=t[i+1]^n,r[i+2]=t[i+2]^s,r[i+3]=t[i+3]^a,this.prevBlock=(this.forEncryption?r:t).slice(i,i+4)}return n}async processChunk(e){const t=this.nextBlock.length-this.i,n=e.subarray(0,t);if(this.nextBlock.set(n,this.i),this.i+e.length>=2*this.blockSize){const n=(e.length-t)%this.blockSize,r=Im.concatUint8Array([this.nextBlock,e.subarray(t,e.length-n)]),i=this._runCFB(r);return n>0&&this.nextBlock.set(e.subarray(-n)),this.i=n,i}let r;if(this.i+=n.length,this.i===this.nextBlock.length){r=this._runCFB(this.nextBlock),this.i=0;const t=e.subarray(n.length);this.nextBlock.set(t,this.i),this.i+=t.length}else r=new Uint8Array;return r}async finish(){let e;return e=0===this.i?new Uint8Array:this._runCFB(this.nextBlock).subarray(0,this.i),this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.key.fill(0)}}function gb(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)e[r]=e[r]^t[r]}const mb=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));var wb=Object.freeze({__proto__:null,decrypt:async function(e,t,n,r){const i=km.read(km.symmetric,e);if(hb&&db[i])return function(e,t,n,r){const i=km.read(km.symmetric,e),s=new hb.createDecipheriv(db[i],t,r);return um(n,(e=>new Uint8Array(s.update(e))))}(e,t,n,r);if(Im.isAES(e))return async function(e,t,n,r){if(Im.isStream(n)){const i=new yb(!1,e,t,r);return um(n,(e=>i.processChunk(e)),(()=>i.finish()))}return tb(t,r).decrypt(n)}(e,t,n,r);const s=new(await Qm(e))(t),a=s.blockSize;let o=r,c=new Uint8Array;const u=e=>{e&&(c=Im.concatUint8Array([c,e]));const t=new Uint8Array(c.length);let n,r=0;for(;e?c.length>=a:c.length;){const e=s.encrypt(o);for(o=c.subarray(0,a),n=0;n<a;n++)t[r++]=o[n]^e[n];c=c.subarray(a)}return t.subarray(0,r)};return um(n,u,u)},encrypt:async function(e,t,n,r,i){const s=km.read(km.symmetric,e);if(Im.getNodeCrypto()&&db[s])return function(e,t,n,r){const i=km.read(km.symmetric,e),s=new hb.createCipheriv(db[i],t,r);return um(n,(e=>new Uint8Array(s.update(e))))}(e,t,n,r);if(Im.isAES(e))return async function(e,t,n,r){if(lb&&await pb.isSupported(e)){const i=new pb(e,t,r);return Im.isStream(n)?um(n,(e=>i.encryptChunk(e)),(()=>i.finish())):i.encrypt(n)}if(Im.isStream(n)){const i=new yb(!0,e,t,r);return um(n,(e=>i.processChunk(e)),(()=>i.finish()))}return tb(t,r).encrypt(n)}(e,t,n,r);const a=new(await Qm(e))(t),o=a.blockSize,c=r.slice();let u=new Uint8Array;const l=e=>{e&&(u=Im.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let n,r=0;for(;e?u.length>=o:u.length;){const e=a.encrypt(c);for(n=0;n<o;n++)c[n]=u[n]^e[n],t[r++]=c[n];u=u.subarray(o)}return t.subarray(0,r)};return um(n,l,l)}});const bb=Im.getWebCrypto(),vb=Im.getNodeCrypto(),Ab=16;function kb(e,t){const n=e.length-Ab;for(let r=0;r<Ab;r++)e[r+n]^=t[r];return e}const Eb=new Uint8Array(Ab);async function Sb(e){const t=await async function(e){if(Im.getNodeCrypto())return async function(t){const n=new vb.createCipheriv("aes-"+8*e.length+"-cbc",e,Eb).update(t);return new Uint8Array(n)};if(Im.getWebCrypto())try{return e=await bb.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){const n=await bb.encrypt({name:"AES-CBC",iv:Eb,length:128},e,t);return new Uint8Array(n).subarray(0,n.byteLength-Ab)}}catch(t){if("NotSupportedError"!==t.name&&(24!==e.length||"OperationError"!==t.name))throw t;Im.printDebugError("Browser did not support operation: "+t.message)}return async function(t){return eb(e,Eb,{disablePadding:!0}).encrypt(t)}}(e),n=Im.double(await t(Eb)),r=Im.double(n);return async function(e){return(await t(function(e,t,n){if(e.length&&e.length%Ab==0)return kb(e,t);const r=new Uint8Array(e.length+(Ab-e.length%Ab));return r.set(e),r[e.length]=128,kb(r,n)}(e,n,r))).subarray(-16)}}const Ib=Im.getWebCrypto(),Cb=Im.getNodeCrypto(),xb=Im.getNodeBuffer(),Bb=16,Pb=Bb,_b=new Uint8Array(Bb),Tb=new Uint8Array(Bb);Tb[15]=1;const Nb=new Uint8Array(Bb);async function Rb(e){const t=await Sb(e);return function(e,n){return t(Im.concatUint8Array([e,n]))}}async function Db(e){if(Im.getNodeCrypto())return async function(t,n){const r=new Cb.createCipheriv("aes-"+8*e.length+"-ctr",e,n),i=xb.concat([r.update(t),r.final()]);return new Uint8Array(i)};if(Im.getWebCrypto())try{const t=await Ib.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]);return async function(e,n){const r=await Ib.encrypt({name:"AES-CTR",counter:n,length:128},t,e);return new Uint8Array(r)}}catch(zg){if("NotSupportedError"!==zg.name&&(24!==e.length||"OperationError"!==zg.name))throw zg;Im.printDebugError("Browser did not support operation: "+zg.message)}return async function(t,n){return Xw(e,n).encrypt(t)}}async function Ub(e,t){if(e!==km.symmetric.aes128&&e!==km.symmetric.aes192&&e!==km.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[n,r]=await Promise.all([Rb(t),Db(t)]);return{encrypt:async function(e,t,i){const[s,a]=await Promise.all([n(_b,t),n(Tb,i)]),o=await r(e,s),c=await n(Nb,o);for(let n=0;n<Pb;n++)c[n]^=a[n]^s[n];return Im.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<Pb)throw Error("Invalid EAX ciphertext");const s=e.subarray(0,-16),a=e.subarray(-16),[o,c,u]=await Promise.all([n(_b,t),n(Tb,i),n(Nb,s)]),l=u;for(let n=0;n<Pb;n++)l[n]^=c[n]^o[n];if(!Im.equalsUint8Array(a,l))throw Error("Authentication tag mismatch");return await r(s,o)}}}Nb[15]=2,Ub.getNonce=function(e,t){const n=e.slice();for(let r=0;r<t.length;r++)n[8+r]^=t[r];return n},Ub.blockLength=Bb,Ub.ivLength=16,Ub.tagLength=Pb;const Ob=16;function Lb(e){let t=0;for(let n=1;!(e&n);n<<=1)t++;return t}function Mb(e,t){for(let n=0;n<e.length;n++)e[n]^=t[n];return e}function Kb(e,t){return Mb(e.slice(),t)}const Fb=new Uint8Array(Ob),jb=new Uint8Array([1]);async function Qb(e,t){const{keySize:n}=Gm(e);if(!Im.isAES(e)||t.length!==n)throw Error("Unexpected algorithm or key size");let r=0;const i=eb(t,Fb,{disablePadding:!0}),s=e=>i.encrypt(e),a=e=>i.decrypt(e);let o;function c(e,t,n,i){const a=t.length/Ob|0;!function(e,t){const n=Im.nbits(Math.max(e.length,t.length)/Ob|0)-1;for(let i=r+1;i<=n;i++)o[i]=Im.double(o[i-1]);r=n}(t,i);const c=Im.concatUint8Array([Fb.subarray(0,15-n.length),jb,n]),u=63&c[15];c[15]&=192;const l=s(c),h=Im.concatUint8Array([l,Kb(l.subarray(0,8),l.subarray(1,9))]),f=Im.shiftRight(h.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),d=new Uint8Array(Ob),p=new Uint8Array(t.length+16);let y,g=0;for(y=0;y<a;y++)Mb(f,o[Lb(y+1)]),p.set(Mb(e(Kb(f,t)),f),g),Mb(d,e===s?t:p.subarray(g)),t=t.subarray(Ob),g+=Ob;if(t.length){Mb(f,o.x);const n=s(f);p.set(Kb(t,n),g);const r=new Uint8Array(Ob);r.set(e===s?t:p.subarray(g,-16),0),r[t.length]=128,Mb(d,r),g+=t.length}const m=Mb(s(Mb(Mb(d,f),o.$)),function(e){if(!e.length)return Fb;const t=e.length/Ob|0,n=new Uint8Array(Ob),r=new Uint8Array(Ob);for(let i=0;i<t;i++)Mb(n,o[Lb(i+1)]),Mb(r,s(Kb(n,e))),e=e.subarray(Ob);if(e.length){Mb(n,o.x);const t=new Uint8Array(Ob);t.set(e,0),t[e.length]=128,Mb(t,n),Mb(r,s(t))}return r}(i));return p.set(m,g),p}return function(){const e=s(Fb),t=Im.double(e);o=[],o[0]=Im.double(t),o.x=e,o.$=t}(),{encrypt:async function(e,t,n){return c(s,e,t,n)},decrypt:async function(e,t,n){if(e.length<16)throw Error("Invalid OCB ciphertext");const r=e.subarray(-16);e=e.subarray(0,-16);const i=c(a,e,t,n);if(Im.equalsUint8Array(r,i.subarray(-16)))return i.subarray(0,-16);throw Error("Authentication tag mismatch")}}}Qb.getNonce=function(e,t){const n=e.slice();for(let r=0;r<t.length;r++)n[7+r]^=t[r];return n},Qb.blockLength=Ob,Qb.ivLength=15,Qb.tagLength=16;const zb=Im.getWebCrypto(),Hb=Im.getNodeCrypto(),Gb=Im.getNodeBuffer(),Vb="AES-GCM";async function qb(e,t){if(e!==km.symmetric.aes128&&e!==km.symmetric.aes192&&e!==km.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(Im.getNodeCrypto())return{encrypt:async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uint8Array;const i=new Hb.createCipheriv("aes-"+8*t.length+"-gcm",t,n);i.setAAD(r);const s=Gb.concat([i.update(e),i.final(),i.getAuthTag()]);return new Uint8Array(s)},decrypt:async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uint8Array;const i=new Hb.createDecipheriv("aes-"+8*t.length+"-gcm",t,n);i.setAAD(r),i.setAuthTag(e.slice(e.length-16,e.length));const s=Gb.concat([i.update(e.slice(0,e.length-16)),i.final()]);return new Uint8Array(s)}};if(Im.getWebCrypto())try{const e=await zb.importKey("raw",t,{name:Vb},!1,["encrypt","decrypt"]),n=navigator.userAgent.match(/Version\/13\.\d(\.\d)* Safari/)||navigator.userAgent.match(/Version\/(13|14)\.\d(\.\d)* Mobile\/\S* Safari/);return{encrypt:async function(r,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uint8Array;if(n&&!r.length)return nb(t,i,s).encrypt(r);const a=await zb.encrypt({name:Vb,iv:i,additionalData:s,tagLength:128},e,r);return new Uint8Array(a)},decrypt:async function(r,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uint8Array;if(n&&16===r.length)return nb(t,i,s).decrypt(r);try{const t=await zb.decrypt({name:Vb,iv:i,additionalData:s,tagLength:128},e,r);return new Uint8Array(t)}catch(e){if("OperationError"===e.name)throw Error("Authentication tag mismatch")}}}}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;Im.printDebugError("Browser did not support operation: "+e.message)}return{encrypt:async function(e,n,r){return nb(t,n,r).encrypt(e)},decrypt:async function(e,n,r){return nb(t,n,r).decrypt(e)}}}qb.getNonce=function(e,t){const n=e.slice();for(let r=0;r<t.length;r++)n[4+r]^=t[r];return n},qb.blockLength=16,qb.ivLength=12,qb.tagLength=16;var Jb={cfb:wb,gcm:qb,experimentalGCM:qb,eax:Ub,ocb:Qb};const $b=BigInt(0),Wb=BigInt(1);function Yb(e){const t="0123456789ABCDEF";let n="";return e.forEach((e=>{n+=t[e>>4]+t[15&e]})),BigInt("0x0"+n)}function Zb(e,t){const n=e%t;return n<$b?n+t:n}function Xb(e,t,n){if(n===$b)throw Error("Modulo cannot be zero");if(n===Wb)return BigInt(0);if(t<$b)throw Error("Unsopported negative exponent");let r=t,i=e;i%=n;let s=BigInt(1);for(;r>$b;){const e=r&Wb;r>>=Wb,s=e?s*i%n:s,i=i*i%n}return s}function ev(e){return e>=$b?e:-e}function tv(e,t){const{gcd:n,x:r}=function(e,t){let n=BigInt(0),r=BigInt(1),i=BigInt(1),s=BigInt(0),a=ev(e),o=ev(t);const c=e<$b,u=t<$b;for(;o!==$b;){const e=a/o;let t=n;n=i-e*n,i=t,t=r,r=s-e*r,s=t,t=o,o=a%o,a=t}return{x:c?-i:i,y:u?-s:s,gcd:a}}(e,t);if(n!==Wb)throw Error("Inverse does not exist");return Zb(r+t,t)}function nv(e){const t=Number(e);if(t>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return t}function rv(e,t){return(e>>BigInt(t)&Wb)===$b?0:1}function iv(e){const t=e<$b?BigInt(-1):$b;let n=1,r=e;for(;(r>>=Wb)!==t;)n++;return n}function sv(e){const t=e<$b?BigInt(-1):$b,n=BigInt(8);let r=1,i=e;for(;(i>>=n)!==t;)r++;return r}function av(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"be",n=arguments.length>2?arguments[2]:void 0,r=e.toString(16);r.length%2==1&&(r="0"+r);const i=r.length/2,s=new Uint8Array(n||i),a=n?n-i:0;let o=0;for(;o<i;)s[o+a]=parseInt(r.slice(2*o,2*o+2),16),o++;return"be"!==t&&s.reverse(),s}const ov=Im.getNodeCrypto();function cv(e){const t="undefined"!=typeof crypto?crypto:ov?.webcrypto;if(t?.getRandomValues){const n=new Uint8Array(e);return t.getRandomValues(n)}throw Error("No secure random number generator available.")}function uv(e,t){if(t<e)throw Error("Illegal parameter value: max <= min");const n=t-e;return Zb(Yb(cv(sv(n)+8)),n)+e}var lv=Object.freeze({__proto__:null,getRandomBigInteger:uv,getRandomBytes:cv});const hv=BigInt(1);function fv(e,t,n){const r=BigInt(30),i=hv<<BigInt(e-1),s=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2];let a=uv(i,i<<hv),o=nv(Zb(a,r));do{a+=BigInt(s[o]),o=(o+s[o])%s.length,iv(a)>e&&(a=Zb(a,i<<hv),a+=i,o=nv(Zb(a,r)))}while(!dv(a,t,n));return a}function dv(e,t,n){return(!t||function(e,t){let n=e,r=t;for(;r!==$b;){const e=r;r=n%r,n=e}return n}(e-hv,t)===hv)&&!!function(e){const t=BigInt(0);return pv.every((n=>Zb(e,n)!==t))}(e)&&!!function(e){return Xb(arguments.length>1&&void 0!==arguments[1]?arguments[1]:BigInt(2),e-hv,e)===hv}(e)&&!!function(e,t){const n=iv(e);t||(t=Math.max(1,n/48|0));const r=e-hv;let i=0;for(;!rv(r,i);)i++;const s=e>>BigInt(i);for(;t>0;t--){let t,n=Xb(uv(BigInt(2),r),s,e);if(n!==hv&&n!==r){for(t=1;t<i;t++){if(n=Zb(n*n,e),n===hv)return!1;if(n===r)break}if(t===i)return!1}}return!0}(e,n)}const pv=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999].map((e=>BigInt(e))),yv=[];function gv(e,t){const n=e.length;if(n>t-11)throw Error("Message too long");const r=function(e){const t=new Uint8Array(e);let n=0;for(;n<e;){const r=cv(e-n);for(let e=0;e<r.length;e++)0!==r[e]&&(t[n++]=r[e])}return t}(t-n-3),i=new Uint8Array(t);return i[1]=2,i.set(r,2),i.set(e,t-n),i}function mv(e,t){let n=2,r=1;for(let o=n;o<e.length;o++)r&=0!==e[o],n+=r;const i=n-2,s=e.subarray(n+1),a=0===e[0]&2===e[1]&i>=8&!r;if(t)return Im.selectUint8Array(a,s,t);if(a)return s;throw Error("Decryption error")}function wv(e,t,n){let r;if(t.length!==cw.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(yv[e].length);for(r=0;r<yv[e].length;r++)i[r]=yv[e][r];const s=i.length+t.length;if(n<s+11)throw Error("Intended encoded message length too short");const a=new Uint8Array(n-s-3).fill(255),o=new Uint8Array(n);return o[1]=1,o.set(a,2),o.set(i,n-s),o.set(t,n-t.length),o}yv[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],yv[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],yv[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],yv[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],yv[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],yv[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],yv[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var bv=Object.freeze({__proto__:null,emeDecode:mv,emeEncode:gv,emsaEncode:wv});const vv=Im.getWebCrypto(),Av=Im.getNodeCrypto(),kv=BigInt(1);async function Ev(e,t,n,r,i,s){const a=Yb(r),o=Yb(i),c=Yb(n);let u=Zb(c,o-kv),l=Zb(c,a-kv);return l=av(l),u=av(u),{kty:"RSA",n:Nm(e),e:Nm(t),d:Nm(n),p:Nm(i),q:Nm(r),dp:Nm(u),dq:Nm(l),qi:Nm(s),ext:!0}}function Sv(e,t){return{kty:"RSA",n:Nm(e),e:Nm(t),ext:!0}}function Iv(e,t){return{n:Tm(e.n),e:av(t),d:Tm(e.d),p:Tm(e.q),q:Tm(e.p),u:Tm(e.qi)}}var Cv=Object.freeze({__proto__:null,decrypt:async function(e,t,n,r,i,s,a,o){if(Im.getNodeCrypto()&&!o)try{return await async function(e,t,n,r,i,s,a){const o={key:await Ev(t,n,r,i,s,a),format:"jwk",type:"pkcs1",padding:Av.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(Av.privateDecrypt(o,e))}catch(e){throw Error("Decryption error")}}(e,t,n,r,i,s,a)}catch(e){Im.printDebugError(e)}return async function(e,t,n,r,i,s,a,o){if(e=Yb(e),t=Yb(t),n=Yb(n),r=Yb(r),i=Yb(i),s=Yb(s),a=Yb(a),e>=t)throw Error("Data too large.");const c=Zb(r,s-kv),u=Zb(r,i-kv),l=uv(BigInt(2),t),h=Xb(tv(l,t),n,t),f=Xb(e=Zb(e*h,t),u,i);let d=Zb(a*(Xb(e,c,s)-f),s)*i+f;return d=Zb(d*l,t),mv(av(d,"be",sv(t)),o)}(e,t,n,r,i,s,a,o)},encrypt:async function(e,t,n){return Im.getNodeCrypto()?async function(e,t,n){const r={key:Sv(t,n),format:"jwk",type:"pkcs1",padding:Av.constants.RSA_PKCS1_PADDING};return new Uint8Array(Av.publicEncrypt(r,e))}(e,t,n):async function(e,t,n){if(t=Yb(t),e=Yb(gv(e,sv(t))),n=Yb(n),e>=t)throw Error("Message size cannot exceed modulus size");return av(Xb(e,n,t),"be",sv(t))}(e,t,n)},generate:async function(e,t){if(t=BigInt(t),Im.getWebCrypto()){const n={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:av(t),hash:{name:"SHA-1"}},r=await vv.generateKey(n,!0,["sign","verify"]);return Iv(await vv.exportKey("jwk",r.privateKey),t)}if(Im.getNodeCrypto()){const n={modulusLength:e,publicExponent:nv(t),publicKeyEncoding:{type:"pkcs1",format:"jwk"},privateKeyEncoding:{type:"pkcs1",format:"jwk"}},r=await new Promise(((e,t)=>{Av.generateKeyPair("rsa",n,((n,r,i)=>{n?t(n):e(i)}))}));return Iv(r,t)}let n,r,i;do{r=fv(e-(e>>1),t,40),n=fv(e>>1,t,40),i=n*r}while(iv(i)!==e);const s=(n-kv)*(r-kv);return r<n&&([n,r]=[r,n]),{n:av(i),e:av(t),d:av(tv(t,s)),p:av(n),q:av(r),u:av(tv(n,r))}},sign:async function(e,t,n,r,i,s,a,o,c){if(cw.getHashByteLength(e)>=n.length)throw Error("Digest size cannot exceed key modulus size");if(t&&!Im.isStream(t))if(Im.getWebCrypto())try{return await async function(e,t,n,r,i,s,a,o){const c=await Ev(n,r,i,s,a,o),u={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},l=await vv.importKey("jwk",c,u,!1,["sign"]);return new Uint8Array(await vv.sign("RSASSA-PKCS1-v1_5",l,t))}(km.read(km.webHash,e),t,n,r,i,s,a,o)}catch(e){Im.printDebugError(e)}else if(Im.getNodeCrypto())return async function(e,t,n,r,i,s,a,o){const c=Av.createSign(km.read(km.hash,e));c.write(t),c.end();const u=await Ev(n,r,i,s,a,o);return new Uint8Array(c.sign({key:u,format:"jwk",type:"pkcs1"}))}(e,t,n,r,i,s,a,o);return async function(e,t,n,r){t=Yb(t);return av(Xb(Yb(wv(e,r,sv(t))),n=Yb(n),t),"be",sv(t))}(e,n,i,c)},validateParams:async function(e,t,n,r,i,s){if(e=Yb(e),(r=Yb(r))*(i=Yb(i))!==e)return!1;const a=BigInt(2);if(Zb(r*(s=Yb(s)),i)!==BigInt(1))return!1;t=Yb(t),n=Yb(n);const o=uv(a,a<<BigInt(Math.floor(iv(e)/3))),c=o*n*t;return!(Zb(c,r-kv)!==o||Zb(c,i-kv)!==o)},verify:async function(e,t,n,r,i,s){if(t&&!Im.isStream(t))if(Im.getWebCrypto())try{return await async function(e,t,n,r,i){const s=Sv(r,i),a=await vv.importKey("jwk",s,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return vv.verify("RSASSA-PKCS1-v1_5",a,n,t)}(km.read(km.webHash,e),t,n,r,i)}catch(e){Im.printDebugError(e)}else if(Im.getNodeCrypto())return async function(e,t,n,r,i){const s={key:Sv(r,i),format:"jwk",type:"pkcs1"},a=Av.createVerify(km.read(km.hash,e));a.write(t),a.end();try{return a.verify(s,n)}catch(e){return!1}}(e,t,n,r,i);return async function(e,t,n,r,i){if(n=Yb(n),t=Yb(t),r=Yb(r),t>=n)throw Error("Signature size cannot exceed modulus size");const s=av(Xb(t,r,n),"be",sv(n)),a=wv(e,i,sv(n));return Im.equalsUint8Array(s,a)}(e,n,r,i,s)}});const xv=BigInt(1);var Bv=Object.freeze({__proto__:null,decrypt:async function(e,t,n,r,i){return e=Yb(e),t=Yb(t),n=Yb(n),mv(av(Zb(tv(Xb(e,r=Yb(r),n),n)*t,n),"be",sv(n)),i)},encrypt:async function(e,t,n,r){t=Yb(t),n=Yb(n),r=Yb(r);const i=Yb(gv(e,sv(t))),s=uv(xv,t-xv);return{c1:av(Xb(n,s,t)),c2:av(Zb(Xb(r,s,t)*i,t))}},validateParams:async function(e,t,n,r){if(e=Yb(e),t=Yb(t),n=Yb(n),t<=xv||t>=e)return!1;const i=BigInt(iv(e));if(i<BigInt(1023))return!1;if(Xb(t,e-xv,e)!==xv)return!1;let s=t,a=BigInt(1);const o=BigInt(2),c=o<<BigInt(17);for(;a<c;){if(s=Zb(s*t,e),s===xv)return!1;a++}r=Yb(r);const u=uv(o<<i-xv,o<<i);return n===Xb(t,(e-xv)*u+r,e)}});const Pv="object"==typeof Qg&&"crypto"in Qg?Qg.crypto:void 0,_v={};var Tv=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},Nv=function(){throw Error("no PRNG")},Rv=new Uint8Array(32);Rv[0]=9;var Dv=Tv(),Uv=Tv([1]),Ov=Tv([56129,1]),Lv=Tv([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Mv=Tv([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Kv=Tv([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Fv=Tv([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),jv=Tv([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Qv(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function zv(e,t,n,r){return function(e,t,n,r){var i,s=0;for(i=0;i<32;i++)s|=e[t+i]^n[r+i];return(1&s-1>>>8)-1}(e,t,n,r)}function Hv(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function Gv(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function Vv(e,t,n){for(var r,i=~(n-1),s=0;s<16;s++)r=i&(e[s]^t[s]),e[s]^=r,t[s]^=r}function qv(e,t){var n,r,i,s=Tv(),a=Tv();for(n=0;n<16;n++)a[n]=t[n];for(Gv(a),Gv(a),Gv(a),r=0;r<2;r++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,Vv(a,s,1-i)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function Jv(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return qv(n,e),qv(r,t),zv(n,0,r,0)}function $v(e){var t=new Uint8Array(32);return qv(t,e),1&t[0]}function Wv(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function Yv(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function Zv(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function Xv(e,t,n){var r,i,s=0,a=0,o=0,c=0,u=0,l=0,h=0,f=0,d=0,p=0,y=0,g=0,m=0,w=0,b=0,v=0,A=0,k=0,E=0,S=0,I=0,C=0,x=0,B=0,P=0,_=0,T=0,N=0,R=0,D=0,U=0,O=n[0],L=n[1],M=n[2],K=n[3],F=n[4],j=n[5],Q=n[6],z=n[7],H=n[8],G=n[9],V=n[10],q=n[11],J=n[12],$=n[13],W=n[14],Y=n[15];s+=(r=t[0])*O,a+=r*L,o+=r*M,c+=r*K,u+=r*F,l+=r*j,h+=r*Q,f+=r*z,d+=r*H,p+=r*G,y+=r*V,g+=r*q,m+=r*J,w+=r*$,b+=r*W,v+=r*Y,a+=(r=t[1])*O,o+=r*L,c+=r*M,u+=r*K,l+=r*F,h+=r*j,f+=r*Q,d+=r*z,p+=r*H,y+=r*G,g+=r*V,m+=r*q,w+=r*J,b+=r*$,v+=r*W,A+=r*Y,o+=(r=t[2])*O,c+=r*L,u+=r*M,l+=r*K,h+=r*F,f+=r*j,d+=r*Q,p+=r*z,y+=r*H,g+=r*G,m+=r*V,w+=r*q,b+=r*J,v+=r*$,A+=r*W,k+=r*Y,c+=(r=t[3])*O,u+=r*L,l+=r*M,h+=r*K,f+=r*F,d+=r*j,p+=r*Q,y+=r*z,g+=r*H,m+=r*G,w+=r*V,b+=r*q,v+=r*J,A+=r*$,k+=r*W,E+=r*Y,u+=(r=t[4])*O,l+=r*L,h+=r*M,f+=r*K,d+=r*F,p+=r*j,y+=r*Q,g+=r*z,m+=r*H,w+=r*G,b+=r*V,v+=r*q,A+=r*J,k+=r*$,E+=r*W,S+=r*Y,l+=(r=t[5])*O,h+=r*L,f+=r*M,d+=r*K,p+=r*F,y+=r*j,g+=r*Q,m+=r*z,w+=r*H,b+=r*G,v+=r*V,A+=r*q,k+=r*J,E+=r*$,S+=r*W,I+=r*Y,h+=(r=t[6])*O,f+=r*L,d+=r*M,p+=r*K,y+=r*F,g+=r*j,m+=r*Q,w+=r*z,b+=r*H,v+=r*G,A+=r*V,k+=r*q,E+=r*J,S+=r*$,I+=r*W,C+=r*Y,f+=(r=t[7])*O,d+=r*L,p+=r*M,y+=r*K,g+=r*F,m+=r*j,w+=r*Q,b+=r*z,v+=r*H,A+=r*G,k+=r*V,E+=r*q,S+=r*J,I+=r*$,C+=r*W,x+=r*Y,d+=(r=t[8])*O,p+=r*L,y+=r*M,g+=r*K,m+=r*F,w+=r*j,b+=r*Q,v+=r*z,A+=r*H,k+=r*G,E+=r*V,S+=r*q,I+=r*J,C+=r*$,x+=r*W,B+=r*Y,p+=(r=t[9])*O,y+=r*L,g+=r*M,m+=r*K,w+=r*F,b+=r*j,v+=r*Q,A+=r*z,k+=r*H,E+=r*G,S+=r*V,I+=r*q,C+=r*J,x+=r*$,B+=r*W,P+=r*Y,y+=(r=t[10])*O,g+=r*L,m+=r*M,w+=r*K,b+=r*F,v+=r*j,A+=r*Q,k+=r*z,E+=r*H,S+=r*G,I+=r*V,C+=r*q,x+=r*J,B+=r*$,P+=r*W,_+=r*Y,g+=(r=t[11])*O,m+=r*L,w+=r*M,b+=r*K,v+=r*F,A+=r*j,k+=r*Q,E+=r*z,S+=r*H,I+=r*G,C+=r*V,x+=r*q,B+=r*J,P+=r*$,_+=r*W,T+=r*Y,m+=(r=t[12])*O,w+=r*L,b+=r*M,v+=r*K,A+=r*F,k+=r*j,E+=r*Q,S+=r*z,I+=r*H,C+=r*G,x+=r*V,B+=r*q,P+=r*J,_+=r*$,T+=r*W,N+=r*Y,w+=(r=t[13])*O,b+=r*L,v+=r*M,A+=r*K,k+=r*F,E+=r*j,S+=r*Q,I+=r*z,C+=r*H,x+=r*G,B+=r*V,P+=r*q,_+=r*J,T+=r*$,N+=r*W,R+=r*Y,b+=(r=t[14])*O,v+=r*L,A+=r*M,k+=r*K,E+=r*F,S+=r*j,I+=r*Q,C+=r*z,x+=r*H,B+=r*G,P+=r*V,_+=r*q,T+=r*J,N+=r*$,R+=r*W,D+=r*Y,v+=(r=t[15])*O,a+=38*(k+=r*M),o+=38*(E+=r*K),c+=38*(S+=r*F),u+=38*(I+=r*j),l+=38*(C+=r*Q),h+=38*(x+=r*z),f+=38*(B+=r*H),d+=38*(P+=r*G),p+=38*(_+=r*V),y+=38*(T+=r*q),g+=38*(N+=r*J),m+=38*(R+=r*$),w+=38*(D+=r*W),b+=38*(U+=r*Y),s=(r=(s+=38*(A+=r*L))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=y,e[11]=g,e[12]=m,e[13]=w,e[14]=b,e[15]=v}function eA(e,t){Xv(e,t,t)}function tA(e,t){var n,r=Tv();for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)eA(r,r),2!==n&&4!==n&&Xv(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function nA(e,t,n){var r,i,s=new Uint8Array(32),a=new Float64Array(80),o=Tv(),c=Tv(),u=Tv(),l=Tv(),h=Tv(),f=Tv();for(i=0;i<31;i++)s[i]=t[i];for(s[31]=127&t[31]|64,s[0]&=248,Wv(a,n),i=0;i<16;i++)c[i]=a[i],l[i]=o[i]=u[i]=0;for(o[0]=l[0]=1,i=254;i>=0;--i)Vv(o,c,r=s[i>>>3]>>>(7&i)&1),Vv(u,l,r),Yv(h,o,u),Zv(o,o,u),Yv(u,c,l),Zv(c,c,l),eA(l,h),eA(f,o),Xv(o,u,o),Xv(u,c,h),Yv(h,o,u),Zv(o,o,u),eA(c,o),Zv(u,l,f),Xv(o,u,Ov),Yv(o,o,l),Xv(u,u,o),Xv(o,l,f),Xv(l,c,a),eA(c,h),Vv(o,c,r),Vv(u,l,r);for(i=0;i<16;i++)a[i+16]=o[i],a[i+32]=u[i],a[i+48]=c[i],a[i+64]=l[i];var d=a.subarray(32),p=a.subarray(16);return tA(d,d),Xv(p,p,d),qv(e,p),0}function rA(e,t){return nA(e,t,Rv)}var iA=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function sA(e,t,n,r){for(var i,s,a,o,c,u,l,h,f,d,p,y,g,m,w,b,v,A,k,E,S,I,C,x,B,P,_=new Int32Array(16),T=new Int32Array(16),N=e[0],R=e[1],D=e[2],U=e[3],O=e[4],L=e[5],M=e[6],K=e[7],F=t[0],j=t[1],Q=t[2],z=t[3],H=t[4],G=t[5],V=t[6],q=t[7],J=0;r>=128;){for(k=0;k<16;k++)E=8*k+J,_[k]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],T[k]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(k=0;k<80;k++)if(i=N,s=R,a=D,o=U,c=O,u=L,l=M,f=F,d=j,p=Q,y=z,g=H,m=G,w=V,C=65535&(I=q),x=I>>>16,B=65535&(S=K),P=S>>>16,C+=65535&(I=(H>>>14|O<<18)^(H>>>18|O<<14)^(O>>>9|H<<23)),x+=I>>>16,B+=65535&(S=(O>>>14|H<<18)^(O>>>18|H<<14)^(H>>>9|O<<23)),P+=S>>>16,C+=65535&(I=H&G^~H&V),x+=I>>>16,B+=65535&(S=O&L^~O&M),P+=S>>>16,C+=65535&(I=iA[2*k+1]),x+=I>>>16,B+=65535&(S=iA[2*k]),P+=S>>>16,S=_[k%16],x+=(I=T[k%16])>>>16,B+=65535&S,P+=S>>>16,B+=(x+=(C+=65535&I)>>>16)>>>16,C=65535&(I=A=65535&C|x<<16),x=I>>>16,B=65535&(S=v=65535&B|(P+=B>>>16)<<16),P=S>>>16,C+=65535&(I=(F>>>28|N<<4)^(N>>>2|F<<30)^(N>>>7|F<<25)),x+=I>>>16,B+=65535&(S=(N>>>28|F<<4)^(F>>>2|N<<30)^(F>>>7|N<<25)),P+=S>>>16,x+=(I=F&j^F&Q^j&Q)>>>16,B+=65535&(S=N&R^N&D^R&D),P+=S>>>16,h=65535&(B+=(x+=(C+=65535&I)>>>16)>>>16)|(P+=B>>>16)<<16,b=65535&C|x<<16,C=65535&(I=y),x=I>>>16,B=65535&(S=o),P=S>>>16,x+=(I=A)>>>16,B+=65535&(S=v),P+=S>>>16,R=i,D=s,U=a,O=o=65535&(B+=(x+=(C+=65535&I)>>>16)>>>16)|(P+=B>>>16)<<16,L=c,M=u,K=l,N=h,j=f,Q=d,z=p,H=y=65535&C|x<<16,G=g,V=m,q=w,F=b,k%16==15)for(E=0;E<16;E++)S=_[E],C=65535&(I=T[E]),x=I>>>16,B=65535&S,P=S>>>16,S=_[(E+9)%16],C+=65535&(I=T[(E+9)%16]),x+=I>>>16,B+=65535&S,P+=S>>>16,v=_[(E+1)%16],C+=65535&(I=((A=T[(E+1)%16])>>>1|v<<31)^(A>>>8|v<<24)^(A>>>7|v<<25)),x+=I>>>16,B+=65535&(S=(v>>>1|A<<31)^(v>>>8|A<<24)^v>>>7),P+=S>>>16,v=_[(E+14)%16],x+=(I=((A=T[(E+14)%16])>>>19|v<<13)^(v>>>29|A<<3)^(A>>>6|v<<26))>>>16,B+=65535&(S=(v>>>19|A<<13)^(A>>>29|v<<3)^v>>>6),P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,_[E]=65535&B|P<<16,T[E]=65535&C|x<<16;C=65535&(I=F),x=I>>>16,B=65535&(S=N),P=S>>>16,S=e[0],x+=(I=t[0])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[0]=N=65535&B|P<<16,t[0]=F=65535&C|x<<16,C=65535&(I=j),x=I>>>16,B=65535&(S=R),P=S>>>16,S=e[1],x+=(I=t[1])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[1]=R=65535&B|P<<16,t[1]=j=65535&C|x<<16,C=65535&(I=Q),x=I>>>16,B=65535&(S=D),P=S>>>16,S=e[2],x+=(I=t[2])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[2]=D=65535&B|P<<16,t[2]=Q=65535&C|x<<16,C=65535&(I=z),x=I>>>16,B=65535&(S=U),P=S>>>16,S=e[3],x+=(I=t[3])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[3]=U=65535&B|P<<16,t[3]=z=65535&C|x<<16,C=65535&(I=H),x=I>>>16,B=65535&(S=O),P=S>>>16,S=e[4],x+=(I=t[4])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[4]=O=65535&B|P<<16,t[4]=H=65535&C|x<<16,C=65535&(I=G),x=I>>>16,B=65535&(S=L),P=S>>>16,S=e[5],x+=(I=t[5])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[5]=L=65535&B|P<<16,t[5]=G=65535&C|x<<16,C=65535&(I=V),x=I>>>16,B=65535&(S=M),P=S>>>16,S=e[6],x+=(I=t[6])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[6]=M=65535&B|P<<16,t[6]=V=65535&C|x<<16,C=65535&(I=q),x=I>>>16,B=65535&(S=K),P=S>>>16,S=e[7],x+=(I=t[7])>>>16,B+=65535&S,P+=S>>>16,P+=(B+=(x+=(C+=65535&I)>>>16)>>>16)>>>16,e[7]=K=65535&B|P<<16,t[7]=q=65535&C|x<<16,J+=128,r-=128}return r}function aA(e,t,n){var r,i=new Int32Array(8),s=new Int32Array(8),a=new Uint8Array(256),o=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,sA(i,s,t,n),n%=128,r=0;r<n;r++)a[r]=t[o-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,Qv(a,n-8,o/536870912|0,o<<3),sA(i,s,a,n),r=0;r<8;r++)Qv(e,8*r,i[r],s[r]);return 0}function oA(e,t){var n=Tv(),r=Tv(),i=Tv(),s=Tv(),a=Tv(),o=Tv(),c=Tv(),u=Tv(),l=Tv();Zv(n,e[1],e[0]),Zv(l,t[1],t[0]),Xv(n,n,l),Yv(r,e[0],e[1]),Yv(l,t[0],t[1]),Xv(r,r,l),Xv(i,e[3],t[3]),Xv(i,i,Mv),Xv(s,e[2],t[2]),Yv(s,s,s),Zv(a,r,n),Zv(o,s,i),Yv(c,s,i),Yv(u,r,n),Xv(e[0],a,o),Xv(e[1],u,c),Xv(e[2],c,o),Xv(e[3],a,u)}function cA(e,t,n){var r;for(r=0;r<4;r++)Vv(e[r],t[r],n)}function uA(e,t){var n=Tv(),r=Tv(),i=Tv();tA(i,t[2]),Xv(n,t[0],i),Xv(r,t[1],i),qv(e,r),e[31]^=$v(n)<<7}function lA(e,t,n){var r,i;for(Hv(e[0],Dv),Hv(e[1],Uv),Hv(e[2],Uv),Hv(e[3],Dv),i=255;i>=0;--i)cA(e,t,r=n[i/8|0]>>(7&i)&1),oA(t,e),oA(e,e),cA(e,t,r)}function hA(e,t){var n=[Tv(),Tv(),Tv(),Tv()];Hv(n[0],Kv),Hv(n[1],Fv),Hv(n[2],Uv),Xv(n[3],Kv,Fv),lA(e,n,t)}function fA(e,t,n){var r,i=new Uint8Array(64),s=[Tv(),Tv(),Tv(),Tv()];for(n||Nv(t,32),aA(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,hA(s,i),uA(e,s),r=0;r<32;r++)t[r+32]=e[r];return 0}var dA=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function pA(e,t){var n,r,i,s;for(r=63;r>=32;--r){for(n=0,i=r-32,s=r-12;i<s;++i)t[i]+=n-16*t[r]*dA[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*dA[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*dA[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function yA(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;pA(e,n)}var gA=64;function mA(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}_v.scalarMult=function(e,t){if(mA(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var n=new Uint8Array(32);return nA(n,e,t),n},_v.box={},_v.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return function(e,t){Nv(t,32),rA(e,t)}(e,t),{publicKey:e,secretKey:t}},_v.box.keyPair.fromSecretKey=function(e){if(mA(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return rA(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},_v.sign=function(e,t){if(mA(e,t),64!==t.length)throw Error("bad secret key size");var n=new Uint8Array(gA+e.length);return function(e,t,n,r){var i,s,a=new Uint8Array(64),o=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),l=[Tv(),Tv(),Tv(),Tv()];aA(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;for(i=0;i<n;i++)e[64+i]=t[i];for(i=0;i<32;i++)e[32+i]=a[32+i];for(aA(c,e.subarray(32),n+32),yA(c),hA(l,c),uA(e,l),i=32;i<64;i++)e[i]=r[i];for(aA(o,e,n+64),yA(o),i=0;i<64;i++)u[i]=0;for(i=0;i<32;i++)u[i]=c[i];for(i=0;i<32;i++)for(s=0;s<32;s++)u[i+s]+=o[i]*a[s];pA(e.subarray(32),u)}(n,e,e.length,t),n},_v.sign.detached=function(e,t){for(var n=_v.sign(e,t),r=new Uint8Array(gA),i=0;i<r.length;i++)r[i]=n[i];return r},_v.sign.detached.verify=function(e,t,n){if(mA(e,t,n),t.length!==gA)throw Error("bad signature size");if(32!==n.length)throw Error("bad public key size");var r,i=new Uint8Array(gA+e.length),s=new Uint8Array(gA+e.length);for(r=0;r<gA;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+gA]=e[r];return function(e,t,n,r){var i,s=new Uint8Array(32),a=new Uint8Array(64),o=[Tv(),Tv(),Tv(),Tv()],c=[Tv(),Tv(),Tv(),Tv()];if(n<64)return-1;if(function(e,t){var n=Tv(),r=Tv(),i=Tv(),s=Tv(),a=Tv(),o=Tv(),c=Tv();return Hv(e[2],Uv),Wv(e[1],t),eA(i,e[1]),Xv(s,i,Lv),Zv(i,i,e[2]),Yv(s,e[2],s),eA(a,s),eA(o,a),Xv(c,o,a),Xv(n,c,i),Xv(n,n,s),function(e,t){var n,r=Tv();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)eA(r,r),1!==n&&Xv(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(n,n),Xv(n,n,i),Xv(n,n,s),Xv(n,n,s),Xv(e[0],n,s),eA(r,e[0]),Xv(r,r,s),Jv(r,i)&&Xv(e[0],e[0],jv),eA(r,e[0]),Xv(r,r,s),Jv(r,i)?-1:($v(e[0])===t[31]>>7&&Zv(e[0],Dv,e[0]),Xv(e[3],e[0],e[1]),0)}(c,r))return-1;for(i=0;i<n;i++)e[i]=t[i];for(i=0;i<32;i++)e[i+32]=r[i];if(aA(a,e,n),yA(a),lA(o,c,a),hA(c,t.subarray(32)),oA(o,c),uA(s,o),n-=64,zv(t,0,s,0)){for(i=0;i<n;i++)e[i]=0;return-1}for(i=0;i<n;i++)e[i]=t[i+64];return n}(s,i,i.length,n)>=0},_v.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return fA(e,t),{publicKey:e,secretKey:t}},_v.sign.keyPair.fromSecretKey=function(e){if(mA(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},_v.sign.keyPair.fromSeed=function(e){if(mA(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=e[r];return fA(t,n,!0),{publicKey:t,secretKey:n}},_v.setPRNG=function(e){Nv=e},Pv&&Pv.getRandomValues&&_v.setPRNG((function(e,t){var n,r=new Uint8Array(t);for(n=0;n<t;n+=65536)Pv.getRandomValues(r.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)e[n]=r[n];!function(e){for(var t=0;t<e.length;t++)e[t]=0}(r)}));const wA={"2a8648ce3d030107":km.curve.nistP256,"2b81040022":km.curve.nistP384,"2b81040023":km.curve.nistP521,"2b8104000a":km.curve.secp256k1,"2b06010401da470f01":km.curve.ed25519Legacy,"2b060104019755010501":km.curve.curve25519Legacy,"2b2403030208010107":km.curve.brainpoolP256r1,"2b240303020801010b":km.curve.brainpoolP384r1,"2b240303020801010d":km.curve.brainpoolP512r1};class bA{constructor(e){if(e instanceof bA)this.oid=e.oid;else if(Im.isArray(e)||Im.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return Im.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return Im.uint8ArrayToHex(this.oid)}getName(){const e=wA[this.toHex()];if(!e)throw Error("Unknown curve object identifier.");return e}}function vA(e){let t,n=0;const r=e[0];return r<192?([n]=e,t=1):r<255?(n=(e[0]-192<<8)+e[1]+192,t=2):255===r&&(n=Im.readNumber(e.subarray(1,5)),t=5),{len:n,offset:t}}function AA(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):Im.concatUint8Array([new Uint8Array([255]),Im.writeNumber(e,4)])}function kA(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function EA(e){return new Uint8Array([192|e])}function SA(e,t){return Im.concatUint8Array([EA(e),AA(t)])}function IA(e){return[km.packet.literalData,km.packet.compressedData,km.packet.symmetricallyEncryptedData,km.packet.symEncryptedIntegrityProtectedData,km.packet.aeadEncryptedData].includes(e)}async function CA(e,t){const n=bm(e);let r,i;try{const s=await n.peekBytes(2);if(!s||s.length<2||!(128&s[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const a=await n.readByte();let o,c,u=-1,l=-1;l=0,64&a&&(l=1),l?u=63&a:(u=(63&a)>>2,c=3&a);const h=IA(u);let f,d=null;if(h){if("array"===Im.isStream(e)){const e=new Jg;r=vm(e),d=e}else{const e=new TransformStream;r=vm(e.writable),d=e.readable}i=t({tag:u,packet:d})}else d=[];do{if(l){const e=await n.readByte();if(f=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await n.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),f=!0,!h)throw new TypeError("This packet type does not support partial lengths.")}else o=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte()}else switch(c){case 0:o=await n.readByte();break;case 1:o=await n.readByte()<<8|await n.readByte();break;case 2:o=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){r&&await r.ready;const{done:t,value:i}=await n.read();if(t){if(o===1/0)break;throw Error("Unexpected end of packet")}const s=o===1/0?i:i.subarray(0,o-e);if(r?await r.write(s):d.push(s),e+=i.length,e>=o){n.unshift(i.subarray(o-e+i.length));break}}}}while(f);const p=await n.peekBytes(h?1/0:2);return r?(await r.ready,await r.close()):(d=Im.concatUint8Array(d),await t({tag:u,packet:d})),!p||!p.length}catch(e){if(r)return await r.abort(e),!0;throw e}finally{r&&await i,n.releaseLock()}}class xA extends Error{constructor(){super(...arguments),Error.captureStackTrace&&Error.captureStackTrace(this,xA),this.name="UnsupportedError"}}class BA extends xA{constructor(){super(...arguments),Error.captureStackTrace&&Error.captureStackTrace(this,xA),this.name="UnknownPacketError"}}class PA{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}async function _A(e){switch(e){case km.publicKey.ed25519:try{const e=Im.getWebCrypto(),t=await e.generateKey("Ed25519",!0,["sign","verify"]),n=await e.exportKey("jwk",t.privateKey),r=await e.exportKey("jwk",t.publicKey);return{A:new Uint8Array(Tm(r.x)),seed:Tm(n.d)}}catch(zg){if("NotSupportedError"!==zg.name&&"OperationError"!==zg.name)throw zg;const n=cv(RA(e)),{publicKey:r}=_v.sign.keyPair.fromSeed(n);return{A:r,seed:n}}case km.publicKey.ed448:{const e=await Im.getNobleCurve(km.publicKey.ed448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),seed:t}}default:throw Error("Unsupported EdDSA algorithm")}}async function TA(e,t,n,r,i,s){if(cw.getHashByteLength(t)<cw.getHashByteLength(DA(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case km.publicKey.ed25519:try{const t=Im.getWebCrypto(),n=OA(e,r,i),a=await t.importKey("jwk",n,"Ed25519",!1,["sign"]);return{RS:new Uint8Array(await t.sign("Ed25519",a,s))}}catch(e){if("NotSupportedError"!==e.name)throw e;const t=Im.concatUint8Array([i,r]);return{RS:_v.sign.detached(s,t)}}case km.publicKey.ed448:return{RS:(await Im.getNobleCurve(km.publicKey.ed448)).sign(s,i)};default:throw Error("Unsupported EdDSA algorithm")}}async function NA(e,t,n,r,i,s){let{RS:a}=n;if(cw.getHashByteLength(t)<cw.getHashByteLength(DA(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case km.publicKey.ed25519:try{const t=Im.getWebCrypto(),n=UA(e,i),r=await t.importKey("jwk",n,"Ed25519",!1,["verify"]);return await t.verify("Ed25519",r,a,s)}catch(e){if("NotSupportedError"!==e.name)throw e;return _v.sign.detached.verify(s,a,i)}case km.publicKey.ed448:return(await Im.getNobleCurve(km.publicKey.ed448)).verify(a,s,i);default:throw Error("Unsupported EdDSA algorithm")}}function RA(e){switch(e){case km.publicKey.ed25519:return 32;case km.publicKey.ed448:return 57;default:throw Error("Unsupported EdDSA algorithm")}}function DA(e){switch(e){case km.publicKey.ed25519:return km.hash.sha256;case km.publicKey.ed448:return km.hash.sha512;default:throw Error("Unknown EdDSA algo")}}const UA=(e,t)=>{if(e===km.publicKey.ed25519)return{kty:"OKP",crv:"Ed25519",x:Nm(t),ext:!0};throw Error("Unsupported EdDSA algorithm")},OA=(e,t,n)=>{if(e===km.publicKey.ed25519){const r=UA(e,t);return r.d=Nm(n),r}throw Error("Unsupported EdDSA algorithm")};var LA=Object.freeze({__proto__:null,generate:_A,getPayloadSize:RA,getPreferredHashAlgo:DA,sign:TA,validateParams:async function(e,t,n){switch(e){case km.publicKey.ed25519:{const{publicKey:e}=_v.sign.keyPair.fromSeed(n);return Im.equalsUint8Array(t,e)}case km.publicKey.ed448:{const e=(await Im.getNobleCurve(km.publicKey.ed448)).getPublicKey(n);return Im.equalsUint8Array(t,e)}default:return!1}},verify:NA});const MA=Im.getWebCrypto();async function KA(e,t,n){const{keySize:r}=Gm(e);if(!Im.isAES(e)||t.length!==r)throw Error("Unexpected algorithm or key size");try{const e=await MA.importKey("raw",t,{name:"AES-KW"},!1,["wrapKey"]),r=await MA.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),i=await MA.wrapKey("raw",r,e,{name:"AES-KW"});return new Uint8Array(i)}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;Im.printDebugError("Browser did not support operation: "+e.message)}return cb(t).encrypt(n)}async function FA(e,t,n){const{keySize:r}=Gm(e);if(!Im.isAES(e)||t.length!==r)throw Error("Unexpected algorithm or key size");let i;try{i=await MA.importKey("raw",t,{name:"AES-KW"},!1,["unwrapKey"])}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;return Im.printDebugError("Browser did not support operation: "+e.message),cb(t).decrypt(n)}try{const e=await MA.unwrapKey("raw",n,i,{name:"AES-KW"},{name:"HMAC",hash:"SHA-256"},!0,["sign"]);return new Uint8Array(await MA.exportKey("raw",e))}catch(e){if("OperationError"===e.name)throw Error("Key Data Integrity failed");throw e}}var jA=Object.freeze({__proto__:null,unwrap:FA,wrap:KA});const QA=Im.getWebCrypto();async function zA(e,t,n,r,i){const s=km.read(km.webHash,e);if(!s)throw Error("Hash algo not supported with HKDF");const a=await QA.importKey("raw",t,"HKDF",!1,["deriveBits"]),o=await QA.deriveBits({name:"HKDF",hash:s,salt:n,info:r},a,8*i);return new Uint8Array(o)}const HA={x25519:Im.encodeUTF8("OpenPGP X25519"),x448:Im.encodeUTF8("OpenPGP X448")};async function GA(e){switch(e){case km.publicKey.x25519:{const e=cv(32),{publicKey:t}=_v.box.keyPair.fromSecretKey(e);return{A:t,k:e}}case km.publicKey.x448:{const e=await Im.getNobleCurve(km.publicKey.x448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),k:t}}default:throw Error("Unsupported ECDH algorithm")}}function VA(e){switch(e){case km.publicKey.x25519:return 32;case km.publicKey.x448:return 56;default:throw Error("Unsupported ECDH algorithm")}}async function qA(e,t){switch(e){case km.publicKey.x25519:{const n=cv(VA(e)),r=_v.scalarMult(n,t);$A(r);const{publicKey:i}=_v.box.keyPair.fromSecretKey(n);return{ephemeralPublicKey:i,sharedSecret:r}}case km.publicKey.x448:{const e=await Im.getNobleCurve(km.publicKey.x448),n=e.utils.randomPrivateKey(),r=e.getSharedSecret(n,t);return $A(r),{ephemeralPublicKey:e.getPublicKey(n),sharedSecret:r}}default:throw Error("Unsupported ECDH algorithm")}}async function JA(e,t,n,r){switch(e){case km.publicKey.x25519:{const e=_v.scalarMult(r,t);return $A(e),e}case km.publicKey.x448:{const e=(await Im.getNobleCurve(km.publicKey.x448)).getSharedSecret(r,t);return $A(e),e}default:throw Error("Unsupported ECDH algorithm")}}function $A(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n];if(0===t)throw Error("Unexpected low order point")}var WA=Object.freeze({__proto__:null,decrypt:async function(e,t,n,r,i){const s=await JA(e,t,0,i),a=Im.concatUint8Array([t,r,s]);switch(e){case km.publicKey.x25519:{const e=km.symmetric.aes128,{keySize:t}=Gm(e);return FA(e,await zA(km.hash.sha256,a,new Uint8Array,HA.x25519,t),n)}case km.publicKey.x448:{const e=km.symmetric.aes256,{keySize:t}=Gm(km.symmetric.aes256);return FA(e,await zA(km.hash.sha512,a,new Uint8Array,HA.x448,t),n)}default:throw Error("Unsupported ECDH algorithm")}},encrypt:async function(e,t,n){const{ephemeralPublicKey:r,sharedSecret:i}=await qA(e,n),s=Im.concatUint8Array([r,n,i]);switch(e){case km.publicKey.x25519:{const e=km.symmetric.aes128,{keySize:n}=Gm(e),i=await zA(km.hash.sha256,s,new Uint8Array,HA.x25519,n);return{ephemeralPublicKey:r,wrappedKey:await KA(e,i,t)}}case km.publicKey.x448:{const e=km.symmetric.aes256,{keySize:n}=Gm(km.symmetric.aes256),i=await zA(km.hash.sha512,s,new Uint8Array,HA.x448,n);return{ephemeralPublicKey:r,wrappedKey:await KA(e,i,t)}}default:throw Error("Unsupported ECDH algorithm")}},generate:GA,generateEphemeralEncryptionMaterial:qA,getPayloadSize:VA,recomputeSharedSecret:JA,validateParams:async function(e,t,n){switch(e){case km.publicKey.x25519:{const{publicKey:e}=_v.box.keyPair.fromSecretKey(n);return Im.equalsUint8Array(t,e)}case km.publicKey.x448:{const e=(await Im.getNobleCurve(km.publicKey.x448)).getPublicKey(n);return Im.equalsUint8Array(t,e)}default:return!1}}});const YA=Im.getWebCrypto(),ZA=Im.getNodeCrypto(),XA={[km.curve.nistP256]:"P-256",[km.curve.nistP384]:"P-384",[km.curve.nistP521]:"P-521"},ek=ZA?ZA.getCurves():[],tk=ZA?{[km.curve.secp256k1]:ek.includes("secp256k1")?"secp256k1":void 0,[km.curve.nistP256]:ek.includes("prime256v1")?"prime256v1":void 0,[km.curve.nistP384]:ek.includes("secp384r1")?"secp384r1":void 0,[km.curve.nistP521]:ek.includes("secp521r1")?"secp521r1":void 0,[km.curve.ed25519Legacy]:ek.includes("ED25519")?"ED25519":void 0,[km.curve.curve25519Legacy]:ek.includes("X25519")?"X25519":void 0,[km.curve.brainpoolP256r1]:ek.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,[km.curve.brainpoolP384r1]:ek.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,[km.curve.brainpoolP512r1]:ek.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},nk={[km.curve.nistP256]:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:km.publicKey.ecdsa,hash:km.hash.sha256,cipher:km.symmetric.aes128,node:tk[km.curve.nistP256],web:XA[km.curve.nistP256],payloadSize:32,sharedSize:256,wireFormatLeadingByte:4},[km.curve.nistP384]:{oid:[6,5,43,129,4,0,34],keyType:km.publicKey.ecdsa,hash:km.hash.sha384,cipher:km.symmetric.aes192,node:tk[km.curve.nistP384],web:XA[km.curve.nistP384],payloadSize:48,sharedSize:384,wireFormatLeadingByte:4},[km.curve.nistP521]:{oid:[6,5,43,129,4,0,35],keyType:km.publicKey.ecdsa,hash:km.hash.sha512,cipher:km.symmetric.aes256,node:tk[km.curve.nistP521],web:XA[km.curve.nistP521],payloadSize:66,sharedSize:528,wireFormatLeadingByte:4},[km.curve.secp256k1]:{oid:[6,5,43,129,4,0,10],keyType:km.publicKey.ecdsa,hash:km.hash.sha256,cipher:km.symmetric.aes128,node:tk[km.curve.secp256k1],payloadSize:32,wireFormatLeadingByte:4},[km.curve.ed25519Legacy]:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:km.publicKey.eddsaLegacy,hash:km.hash.sha512,node:!1,payloadSize:32,wireFormatLeadingByte:64},[km.curve.curve25519Legacy]:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:km.publicKey.ecdh,hash:km.hash.sha256,cipher:km.symmetric.aes128,node:!1,payloadSize:32,wireFormatLeadingByte:64},[km.curve.brainpoolP256r1]:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:km.publicKey.ecdsa,hash:km.hash.sha256,cipher:km.symmetric.aes128,node:tk[km.curve.brainpoolP256r1],payloadSize:32,wireFormatLeadingByte:4},[km.curve.brainpoolP384r1]:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:km.publicKey.ecdsa,hash:km.hash.sha384,cipher:km.symmetric.aes192,node:tk[km.curve.brainpoolP384r1],payloadSize:48,wireFormatLeadingByte:4},[km.curve.brainpoolP512r1]:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:km.publicKey.ecdsa,hash:km.hash.sha512,cipher:km.symmetric.aes256,node:tk[km.curve.brainpoolP512r1],payloadSize:64,wireFormatLeadingByte:4}};class rk{constructor(e){try{this.name=e instanceof bA?e.getName():km.write(km.curve,e)}catch(e){throw new xA("Unknown curve")}const t=nk[this.name];this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node,this.web=t.web,this.payloadSize=t.payloadSize,this.sharedSize=t.sharedSize,this.wireFormatLeadingByte=t.wireFormatLeadingByte,this.web&&Im.getWebCrypto()?this.type="web":this.node&&Im.getNodeCrypto()?this.type="node":this.name===km.curve.curve25519Legacy?this.type="curve25519Legacy":this.name===km.curve.ed25519Legacy&&(this.type="ed25519Legacy")}async genKeyPair(){switch(this.type){case"web":try{return await async function(e,t){const n=await YA.generateKey({name:"ECDSA",namedCurve:XA[e]},!0,["sign","verify"]),r=await YA.exportKey("jwk",n.privateKey);return{publicKey:ok(await YA.exportKey("jwk",n.publicKey),t),privateKey:Tm(r.d)}}(this.name,this.wireFormatLeadingByte)}catch(Qg){return Im.printDebugError("Browser did not support generating ec key "+Qg.message),ak(this.name)}case"node":return async function(e){const t=ZA.createECDH(tk[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519Legacy":{const{k:e,A:t}=await GA(km.publicKey.x25519),n=e.slice().reverse();return n[0]=127&n[0]|64,n[31]&=248,{publicKey:Im.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),t]),privateKey:n}}case"ed25519Legacy":{const{seed:e,A:t}=await _A(km.publicKey.ed25519);return{publicKey:Im.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),t]),privateKey:e}}default:return ak(this.name)}}}async function ik(e,t,n,r){const i={[km.curve.nistP256]:!0,[km.curve.nistP384]:!0,[km.curve.nistP521]:!0,[km.curve.secp256k1]:!0,[km.curve.curve25519Legacy]:e===km.publicKey.ecdh,[km.curve.brainpoolP256r1]:!0,[km.curve.brainpoolP384r1]:!0,[km.curve.brainpoolP512r1]:!0},s=t.getName();if(!i[s])return!1;if(s===km.curve.curve25519Legacy){r=r.slice().reverse();const{publicKey:e}=_v.box.keyPair.fromSecretKey(r);n=new Uint8Array(n);const t=new Uint8Array([64,...e]);return!!Im.equalsUint8Array(t,n)}const a=(await Im.getNobleCurve(km.publicKey.ecdsa,s)).getPublicKey(r,!1);return!!Im.equalsUint8Array(a,n)}function sk(e,t){const{payloadSize:n,wireFormatLeadingByte:r,name:i}=e,s=i===km.curve.curve25519Legacy||i===km.curve.ed25519Legacy?n:2*n;if(t[0]!==r||t.length!==s+1)throw Error("Invalid point encoding")}async function ak(e){const t=await Im.getNobleCurve(km.publicKey.ecdsa,e),n=t.utils.randomPrivateKey();return{publicKey:t.getPublicKey(n,!1),privateKey:n}}function ok(e,t){const n=Tm(e.x),r=Tm(e.y),i=new Uint8Array(n.length+r.length+1);return i[0]=t,i.set(n,1),i.set(r,n.length+1),i}function ck(e,t,n){const r=e,i=n.slice(1,r+1),s=n.slice(r+1,2*r+1);return{kty:"EC",crv:t,x:Nm(i),y:Nm(s),ext:!0}}function uk(e,t,n,r){const i=ck(e,t,n);return i.d=Nm(r),i}const lk=Im.getWebCrypto(),hk=Im.getNodeCrypto();async function fk(e,t,n,r,i,s){const a=new rk(e);if(sk(a,r),n&&!Im.isStream(n)){const s={publicKey:r,privateKey:i};switch(a.type){case"web":try{return await async function(e,t,n,r){const i=e.payloadSize,s=uk(e.payloadSize,XA[e.name],r.publicKey,r.privateKey),a=await lk.importKey("jwk",s,{name:"ECDSA",namedCurve:XA[e.name],hash:{name:km.read(km.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await lk.sign({name:"ECDSA",namedCurve:XA[e.name],hash:{name:km.read(km.webHash,t)}},a,n));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(a,t,n,s)}catch(e){if("nistP521"!==a.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Im.printDebugError("Browser did not support signing: "+e.message)}break;case"node":return async function(e,t,n,r){const i=Im.nodeRequire("eckey-utils"),s=Im.getNodeBuffer(),{privateKey:a}=i.generateDer({curveName:tk[e.name],privateKey:s.from(r)}),o=hk.createSign(km.read(km.hash,t));o.write(n),o.end();const c=new Uint8Array(o.sign({key:a,format:"der",type:"sec1",dsaEncoding:"ieee-p1363"})),u=e.payloadSize;return{r:c.subarray(0,u),s:c.subarray(u,u<<1)}}(a,t,n,i)}}const o=(await Im.getNobleCurve(km.publicKey.ecdsa,a.name)).sign(s,i,{lowS:!1});return{r:av(o.r,"be",a.payloadSize),s:av(o.s,"be",a.payloadSize)}}async function dk(e,t,n,r,i,s){const a=new rk(e);sk(a,i);const o=async()=>0===s[0]&&pk(a,n,s.subarray(1),i);if(r&&!Im.isStream(r))switch(a.type){case"web":try{const e=await async function(e,t,n,r,i){let{r:s,s:a}=n;const o=ck(e.payloadSize,XA[e.name],i),c=await lk.importKey("jwk",o,{name:"ECDSA",namedCurve:XA[e.name],hash:{name:km.read(km.webHash,e.hash)}},!1,["verify"]),u=Im.concatUint8Array([s,a]).buffer;return lk.verify({name:"ECDSA",namedCurve:XA[e.name],hash:{name:km.read(km.webHash,t)}},c,u,r)}(a,t,n,r,i);return e||o()}catch(e){if("nistP521"!==a.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Im.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":{const e=await async function(e,t,n,r,i){let{r:s,s:a}=n;const o=Im.nodeRequire("eckey-utils"),c=Im.getNodeBuffer(),{publicKey:u}=o.generateDer({curveName:tk[e.name],publicKey:c.from(i)}),l=hk.createVerify(km.read(km.hash,t));l.write(r),l.end();const h=Im.concatUint8Array([s,a]);try{return l.verify({key:u,format:"der",type:"spki",dsaEncoding:"ieee-p1363"},h)}catch(e){return!1}}(a,t,n,r,i);return e||o()}}return await pk(a,n,s,i)||o()}async function pk(e,t,n,r){return(await Im.getNobleCurve(km.publicKey.ecdsa,e.name)).verify(Im.concatUint8Array([t.r,t.s]),n,r,{lowS:!1})}var yk=Object.freeze({__proto__:null,sign:fk,validateParams:async function(e,t,n){const r=new rk(e);if(r.keyType!==km.publicKey.ecdsa)return!1;switch(r.type){case"web":case"node":{const r=cv(8),i=km.hash.sha256,s=await cw.digest(i,r);try{const a=await fk(e,i,r,t,n,s);return await dk(e,i,a,r,t,s)}catch(e){return!1}}default:return ik(km.publicKey.ecdsa,e,t,n)}},verify:dk}),gk=Object.freeze({__proto__:null,sign:async function(e,t,n,r,i,s){if(sk(new rk(e),r),cw.getHashByteLength(t)<cw.getHashByteLength(km.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const{RS:a}=await TA(km.publicKey.ed25519,t,0,r.subarray(1),i,s);return{r:a.subarray(0,32),s:a.subarray(32)}},validateParams:async function(e,t,n){if(e.getName()!==km.curve.ed25519Legacy)return!1;const{publicKey:r}=_v.sign.keyPair.fromSeed(n),i=new Uint8Array([64,...r]);return Im.equalsUint8Array(t,i)},verify:async function(e,t,n,r,i,s){let{r:a,s:o}=n;if(sk(new rk(e),i),cw.getHashByteLength(t)<cw.getHashByteLength(km.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const c=Im.concatUint8Array([a,o]);return NA(km.publicKey.ed25519,t,{RS:c},0,i.subarray(1),s)}});function mk(e){const t=8-e.length%8,n=new Uint8Array(e.length+t).fill(t);return n.set(e),n}function wk(e){const t=e.length;if(t>0){const n=e[t-1];if(n>=1){const r=e.subarray(t-n),i=new Uint8Array(n).fill(n);if(Im.equalsUint8Array(r,i))return e.subarray(0,t-n)}}throw Error("Invalid padding")}var bk=Object.freeze({__proto__:null,decode:wk,encode:mk});const vk=Im.getWebCrypto(),Ak=Im.getNodeCrypto();function kk(e,t,n,r){return Im.concatUint8Array([t.write(),new Uint8Array([e]),n.write(),Im.stringToUint8Array("Anonymous Sender    "),r])}async function Ek(e,t,n,r){let i,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(arguments.length>4&&void 0!==arguments[4]&&arguments[4]){for(i=0;i<t.length&&0===t[i];i++);t=t.subarray(i)}if(s){for(i=t.length-1;i>=0&&0===t[i];i--);t=t.subarray(0,i+1)}return(await cw.digest(e,Im.concatUint8Array([new Uint8Array([0,0,0,1]),t,r]))).subarray(0,n)}async function Sk(e,t,n){return{secretKey:n,sharedKey:(await Im.getNobleCurve(km.publicKey.ecdh,e.name)).getSharedSecret(n,t).subarray(1)}}async function Ik(e,t){const n=await Im.getNobleCurve(km.publicKey.ecdh,e.name),{publicKey:r,privateKey:i}=await e.genKeyPair();return{publicKey:r,sharedKey:n.getSharedSecret(i,t).subarray(1)}}var Ck=Object.freeze({__proto__:null,decrypt:async function(e,t,n,r,i,s,a){const o=new rk(e);sk(o,i),sk(o,n);const{sharedKey:c}=await async function(e,t,n,r){if(r.length!==e.payloadSize){const t=new Uint8Array(e.payloadSize);t.set(r,e.payloadSize-r.length),r=t}switch(e.type){case"curve25519Legacy":{const e=r.slice().reverse();return{secretKey:e,sharedKey:await JA(km.publicKey.x25519,t.subarray(1),n.subarray(1),e)}}case"web":if(e.web&&Im.getWebCrypto())try{return await async function(e,t,n,r){const i=uk(e.payloadSize,e.web,n,r);let s=vk.importKey("jwk",i,{name:"ECDH",namedCurve:e.web},!0,["deriveKey","deriveBits"]);const a=ck(e.payloadSize,e.web,t);let o=vk.importKey("jwk",a,{name:"ECDH",namedCurve:e.web},!0,[]);[s,o]=await Promise.all([s,o]);let c=vk.deriveBits({name:"ECDH",namedCurve:e.web,public:o},s,e.sharedSize),u=vk.exportKey("jwk",s);[c,u]=await Promise.all([c,u]);const l=new Uint8Array(c);return{secretKey:Tm(u.d),sharedKey:l}}(e,t,n,r)}catch(n){return Im.printDebugError(n),Sk(e,t,r)}break;case"node":return async function(e,t,n){const r=Ak.createECDH(e.node);r.setPrivateKey(n);const i=new Uint8Array(r.computeSecret(t));return{secretKey:new Uint8Array(r.getPrivateKey()),sharedKey:i}}(e,t,r);default:return Sk(e,t,r)}}(o,n,i,s),u=kk(km.publicKey.ecdh,e,t,a),{keySize:l}=Gm(t.cipher);let h;for(let f=0;f<3;f++)try{const e=await Ek(t.hash,c,l,u,1===f,2===f);return wk(await FA(t.cipher,e,r))}catch(e){h=e}throw h},encrypt:async function(e,t,n,r,i){const s=mk(n),a=new rk(e);sk(a,r);const{publicKey:o,sharedKey:c}=await async function(e,t){switch(e.type){case"curve25519Legacy":{const{sharedSecret:n,ephemeralPublicKey:r}=await qA(km.publicKey.x25519,t.subarray(1));return{publicKey:Im.concatUint8Array([new Uint8Array([e.wireFormatLeadingByte]),r]),sharedKey:n}}case"web":if(e.web&&Im.getWebCrypto())try{return await async function(e,t){const n=ck(e.payloadSize,e.web,t);let r=vk.generateKey({name:"ECDH",namedCurve:e.web},!0,["deriveKey","deriveBits"]),i=vk.importKey("jwk",n,{name:"ECDH",namedCurve:e.web},!1,[]);[r,i]=await Promise.all([r,i]);let s=vk.deriveBits({name:"ECDH",namedCurve:e.web,public:i},r.privateKey,e.sharedSize),a=vk.exportKey("jwk",r.publicKey);[s,a]=await Promise.all([s,a]);const o=new Uint8Array(s);return{publicKey:new Uint8Array(ok(a,e.wireFormatLeadingByte)),sharedKey:o}}(e,t)}catch(n){return Im.printDebugError(n),Ik(e,t)}break;case"node":return async function(e,t){const n=Ak.createECDH(e.node);n.generateKeys();const r=new Uint8Array(n.computeSecret(t));return{publicKey:new Uint8Array(n.getPublicKey()),sharedKey:r}}(e,t);default:return Ik(e,t)}}(a,r),u=kk(km.publicKey.ecdh,e,t,i),{keySize:l}=Gm(t.cipher),h=await Ek(t.hash,c,l,u);return{publicKey:o,wrappedKey:await KA(t.cipher,h,s)}},validateParams:async function(e,t,n){return ik(km.publicKey.ecdh,e,t,n)}}),xk=Object.freeze({__proto__:null,CurveWithOID:rk,ecdh:Ck,ecdhX:WA,ecdsa:yk,eddsa:LA,eddsaLegacy:gk,generate:async function(e){const t=new rk(e),{oid:n,hash:r,cipher:i}=t,s=await t.genKeyPair();return{oid:n,Q:s.publicKey,secret:Im.leftPad(s.privateKey,t.payloadSize),hash:r,cipher:i}},getPreferredHashAlgo:function(e){return nk[e.getName()].hash}});const Bk=BigInt(0),Pk=BigInt(1);var _k=Object.freeze({__proto__:null,sign:async function(e,t,n,r,i,s){const a=BigInt(0);let o,c,u,l;r=Yb(r),i=Yb(i),n=Yb(n),s=Yb(s),n=Zb(n,r),s=Zb(s,i);const h=Zb(Yb(t.subarray(0,sv(i))),i);for(;;){if(o=uv(Pk,i),c=Zb(Xb(n,o,r),i),c===a)continue;const e=Zb(s*c,i);if(l=Zb(h+e,i),u=Zb(tv(o,i)*l,i),u!==a)break}return{r:av(c,"be",sv(r)),s:av(u,"be",sv(r))}},validateParams:async function(e,t,n,r,i){if(e=Yb(e),t=Yb(t),n=Yb(n),r=Yb(r),n<=Pk||n>=e)return!1;if(Zb(e-Pk,t)!==Bk)return!1;if(Xb(n,t,e)!==Pk)return!1;const s=BigInt(iv(t));if(s<BigInt(150)||!dv(t,null,32))return!1;i=Yb(i);const a=BigInt(2);return r===Xb(n,t*uv(a<<s-Pk,a<<s)+i,e)},verify:async function(e,t,n,r,i,s,a,o){if(t=Yb(t),n=Yb(n),s=Yb(s),a=Yb(a),i=Yb(i),o=Yb(o),t<=Bk||t>=a||n<=Bk||n>=a)return Im.printDebug("invalid DSA Signature"),!1;const c=Zb(Yb(r.subarray(0,sv(a))),a),u=tv(n,a);if(u===Bk)return Im.printDebug("invalid DSA Signature"),!1;i=Zb(i,s),o=Zb(o,s);const l=Zb(c*u,a),h=Zb(t*u,a);return Zb(Zb(Xb(i,l,s)*Xb(o,h,s),s),a)===t}}),Tk={rsa:Cv,elgamal:Bv,elliptic:xk,dsa:_k},Nk=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let n=0;switch(e){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaEncrypt:case km.publicKey.rsaSign:{const e=Im.readMPI(t.subarray(n));return n+=e.length+2,{read:n,signatureParams:{s:e}}}case km.publicKey.dsa:case km.publicKey.ecdsa:{const e=Im.readMPI(t.subarray(n));n+=e.length+2;const r=Im.readMPI(t.subarray(n));return n+=r.length+2,{read:n,signatureParams:{r:e,s:r}}}case km.publicKey.eddsaLegacy:{const e=Im.readMPI(t.subarray(n));n+=e.length+2;const r=Im.readMPI(t.subarray(n));return n+=r.length+2,{read:n,signatureParams:{r:e,s:r}}}case km.publicKey.ed25519:case km.publicKey.ed448:{const r=2*Tk.elliptic.eddsa.getPayloadSize(e),i=Im.readExactSubarray(t,n,n+r);return n+=i.length,{read:n,signatureParams:{RS:i}}}default:throw new xA("Unknown signature algorithm.")}},sign:async function(e,t,n,r,i,s){if(!n||!r)throw Error("Missing key parameters");switch(e){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaEncrypt:case km.publicKey.rsaSign:{const{n:e,e:a}=n,{d:o,p:c,q:u,u:l}=r;return{s:await Tk.rsa.sign(t,i,e,a,o,c,u,l,s)}}case km.publicKey.dsa:{const{g:e,p:i,q:a}=n,{x:o}=r;return Tk.dsa.sign(t,s,e,i,a,o)}case km.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case km.publicKey.ecdsa:{const{oid:e,Q:a}=n,{d:o}=r;return Tk.elliptic.ecdsa.sign(e,t,i,a,o,s)}case km.publicKey.eddsaLegacy:{const{oid:e,Q:a}=n,{seed:o}=r;return Tk.elliptic.eddsaLegacy.sign(e,t,i,a,o,s)}case km.publicKey.ed25519:case km.publicKey.ed448:{const{A:a}=n,{seed:o}=r;return Tk.elliptic.eddsa.sign(e,t,i,a,o,s)}default:throw Error("Unknown signature algorithm.")}},verify:async function(e,t,n,r,i,s){switch(e){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaEncrypt:case km.publicKey.rsaSign:{const{n:e,e:a}=r,o=Im.leftPad(n.s,e.length);return Tk.rsa.verify(t,i,o,e,a,s)}case km.publicKey.dsa:{const{g:e,p:i,q:a,y:o}=r,{r:c,s:u}=n;return Tk.dsa.verify(t,c,u,s,e,i,a,o)}case km.publicKey.ecdsa:{const{oid:e,Q:a}=r,o=new Tk.elliptic.CurveWithOID(e).payloadSize,c=Im.leftPad(n.r,o),u=Im.leftPad(n.s,o);return Tk.elliptic.ecdsa.verify(e,t,{r:c,s:u},i,a,s)}case km.publicKey.eddsaLegacy:{const{oid:e,Q:a}=r,o=new Tk.elliptic.CurveWithOID(e).payloadSize,c=Im.leftPad(n.r,o),u=Im.leftPad(n.s,o);return Tk.elliptic.eddsaLegacy.verify(e,t,{r:c,s:u},i,a,s)}case km.publicKey.ed25519:case km.publicKey.ed448:{const{A:a}=r;return Tk.elliptic.eddsa.verify(e,t,n,i,a,s)}default:throw Error("Unknown signature algorithm.")}}});class Rk{constructor(e){e&&(this.data=e)}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return Im.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class Dk{constructor(e){if(e){const{hash:t,cipher:n}=e;this.hash=t,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw new xA("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}class Uk{static fromObject(e){let{wrappedKey:t,algorithm:n}=e;const r=new Uk;return r.wrappedKey=t,r.algorithm=n,r}read(e){let t=0,n=e[t++];this.algorithm=n%2?e[t++]:null,n-=n%2,this.wrappedKey=Im.readExactSubarray(e,t,t+n),t+=n}write(){return Im.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}}function Ok(e){try{e.getName()}catch(e){throw new xA("Unknown curve OID")}}function Lk(e,t){switch(e){case km.publicKey.ecdsa:case km.publicKey.ecdh:case km.publicKey.eddsaLegacy:return new Tk.elliptic.CurveWithOID(t).payloadSize;case km.publicKey.ed25519:case km.publicKey.ed448:return Tk.elliptic.eddsa.getPayloadSize(e);case km.publicKey.x25519:case km.publicKey.x448:return Tk.elliptic.ecdhX.getPayloadSize(e);default:throw Error("Unknown elliptic algo")}}var Mk=Object.freeze({__proto__:null,generateParams:function(e,t,n){switch(e){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:return Tk.rsa.generate(t,65537).then((e=>{let{n:t,e:n,d:r,p:i,q:s,u:a}=e;return{privateParams:{d:r,p:i,q:s,u:a},publicParams:{n:t,e:n}}}));case km.publicKey.ecdsa:return Tk.elliptic.generate(n).then((e=>{let{oid:t,Q:n,secret:r}=e;return{privateParams:{d:r},publicParams:{oid:new bA(t),Q:n}}}));case km.publicKey.eddsaLegacy:return Tk.elliptic.generate(n).then((e=>{let{oid:t,Q:n,secret:r}=e;return{privateParams:{seed:r},publicParams:{oid:new bA(t),Q:n}}}));case km.publicKey.ecdh:return Tk.elliptic.generate(n).then((e=>{let{oid:t,Q:n,secret:r,hash:i,cipher:s}=e;return{privateParams:{d:r},publicParams:{oid:new bA(t),Q:n,kdfParams:new Dk({hash:i,cipher:s})}}}));case km.publicKey.ed25519:case km.publicKey.ed448:return Tk.elliptic.eddsa.generate(e).then((e=>{let{A:t,seed:n}=e;return{privateParams:{seed:n},publicParams:{A:t}}}));case km.publicKey.x25519:case km.publicKey.x448:return Tk.elliptic.ecdhX.generate(e).then((e=>{let{A:t,k:n}=e;return{privateParams:{k:n},publicParams:{A:t}}}));case km.publicKey.dsa:case km.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},generateSessionKey:function(e){const{keySize:t}=Gm(e);return cv(t)},getAEADMode:function(e){const t=km.read(km.aead,e);return Jb[t]},getCipherParams:Gm,getCurvePayloadSize:Lk,getPreferredCurveHashAlgo:function(e,t){switch(e){case km.publicKey.ecdsa:case km.publicKey.eddsaLegacy:return Tk.elliptic.getPreferredHashAlgo(t);case km.publicKey.ed25519:case km.publicKey.ed448:return Tk.elliptic.eddsa.getPreferredHashAlgo(e);default:throw Error("Unknown elliptic signing algo")}},getPrefixRandom:async function(e){const{blockSize:t}=Gm(e),n=await cv(t),r=new Uint8Array([n[n.length-2],n[n.length-1]]);return Im.concat([n,r])},parseEncSessionKeyParams:function(e,t){let n=0;switch(e){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:return{c:Im.readMPI(t.subarray(n))};case km.publicKey.elgamal:{const e=Im.readMPI(t.subarray(n));return n+=e.length+2,{c1:e,c2:Im.readMPI(t.subarray(n))}}case km.publicKey.ecdh:{const e=Im.readMPI(t.subarray(n));n+=e.length+2;const r=new Rk;return r.read(t.subarray(n)),{V:e,C:r}}case km.publicKey.x25519:case km.publicKey.x448:{const r=Lk(e),i=Im.readExactSubarray(t,n,n+r);n+=i.length;const s=new Uk;return s.read(t.subarray(n)),{ephemeralPublicKey:i,C:s}}default:throw new xA("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,n){let r=0;switch(e){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:{const e=Im.readMPI(t.subarray(r));r+=e.length+2;const n=Im.readMPI(t.subarray(r));r+=n.length+2;const i=Im.readMPI(t.subarray(r));r+=i.length+2;const s=Im.readMPI(t.subarray(r));return r+=s.length+2,{read:r,privateParams:{d:e,p:n,q:i,u:s}}}case km.publicKey.dsa:case km.publicKey.elgamal:{const e=Im.readMPI(t.subarray(r));return r+=e.length+2,{read:r,privateParams:{x:e}}}case km.publicKey.ecdsa:case km.publicKey.ecdh:{const i=Lk(e,n.oid);let s=Im.readMPI(t.subarray(r));return r+=s.length+2,s=Im.leftPad(s,i),{read:r,privateParams:{d:s}}}case km.publicKey.eddsaLegacy:{const i=Lk(e,n.oid);if(n.oid.getName()!==km.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let s=Im.readMPI(t.subarray(r));return r+=s.length+2,s=Im.leftPad(s,i),{read:r,privateParams:{seed:s}}}case km.publicKey.ed25519:case km.publicKey.ed448:{const n=Lk(e),i=Im.readExactSubarray(t,r,r+n);return r+=i.length,{read:r,privateParams:{seed:i}}}case km.publicKey.x25519:case km.publicKey.x448:{const n=Lk(e),i=Im.readExactSubarray(t,r,r+n);return r+=i.length,{read:r,privateParams:{k:i}}}default:throw new xA("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let n=0;switch(e){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:{const e=Im.readMPI(t.subarray(n));n+=e.length+2;const r=Im.readMPI(t.subarray(n));return n+=r.length+2,{read:n,publicParams:{n:e,e:r}}}case km.publicKey.dsa:{const e=Im.readMPI(t.subarray(n));n+=e.length+2;const r=Im.readMPI(t.subarray(n));n+=r.length+2;const i=Im.readMPI(t.subarray(n));n+=i.length+2;const s=Im.readMPI(t.subarray(n));return n+=s.length+2,{read:n,publicParams:{p:e,q:r,g:i,y:s}}}case km.publicKey.elgamal:{const e=Im.readMPI(t.subarray(n));n+=e.length+2;const r=Im.readMPI(t.subarray(n));n+=r.length+2;const i=Im.readMPI(t.subarray(n));return n+=i.length+2,{read:n,publicParams:{p:e,g:r,y:i}}}case km.publicKey.ecdsa:{const e=new bA;n+=e.read(t),Ok(e);const r=Im.readMPI(t.subarray(n));return n+=r.length+2,{read:n,publicParams:{oid:e,Q:r}}}case km.publicKey.eddsaLegacy:{const e=new bA;if(n+=e.read(t),Ok(e),e.getName()!==km.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let r=Im.readMPI(t.subarray(n));return n+=r.length+2,r=Im.leftPad(r,33),{read:n,publicParams:{oid:e,Q:r}}}case km.publicKey.ecdh:{const e=new bA;n+=e.read(t),Ok(e);const r=Im.readMPI(t.subarray(n));n+=r.length+2;const i=new Dk;return n+=i.read(t.subarray(n)),{read:n,publicParams:{oid:e,Q:r,kdfParams:i}}}case km.publicKey.ed25519:case km.publicKey.ed448:case km.publicKey.x25519:case km.publicKey.x448:{const r=Im.readExactSubarray(t,n,n+Lk(e));return n+=r.length,{read:n,publicParams:{A:r}}}default:throw new xA("Unknown public key encryption algorithm.")}},publicKeyDecrypt:async function(e,t,n,r,i,s){switch(e){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaEncrypt:{const{c:e}=r,{n:i,e:a}=t,{d:o,p:c,q:u,u:l}=n;return Tk.rsa.decrypt(e,i,a,o,c,u,l,s)}case km.publicKey.elgamal:{const{c1:e,c2:i}=r,a=t.p,o=n.x;return Tk.elgamal.decrypt(e,i,a,o,s)}case km.publicKey.ecdh:{const{oid:e,Q:s,kdfParams:a}=t,{d:o}=n,{V:c,C:u}=r;return Tk.elliptic.ecdh.decrypt(e,a,c,u.data,s,o,i)}case km.publicKey.x25519:case km.publicKey.x448:{const{A:i}=t,{k:s}=n,{ephemeralPublicKey:a,C:o}=r;if(null!==o.algorithm&&!Im.isAES(o.algorithm))throw Error("AES session key expected");return Tk.elliptic.ecdhX.decrypt(e,a,o.wrappedKey,i,s)}default:throw Error("Unknown public key encryption algorithm.")}},publicKeyEncrypt:async function(e,t,n,r,i){switch(e){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:{const{n:e,e:t}=n;return{c:await Tk.rsa.encrypt(r,e,t)}}case km.publicKey.elgamal:{const{p:e,g:t,y:i}=n;return Tk.elgamal.encrypt(r,e,t,i)}case km.publicKey.ecdh:{const{oid:e,Q:t,kdfParams:s}=n,{publicKey:a,wrappedKey:o}=await Tk.elliptic.ecdh.encrypt(e,s,r,t,i);return{V:a,C:new Rk(o)}}case km.publicKey.x25519:case km.publicKey.x448:{if(t&&!Im.isAES(t))throw Error("X25519 and X448 keys can only encrypt AES session keys");const{A:i}=n,{ephemeralPublicKey:s,wrappedKey:a}=await Tk.elliptic.ecdhX.encrypt(e,r,i);return{ephemeralPublicKey:s,C:Uk.fromObject({algorithm:t,wrappedKey:a})}}default:return[]}},serializeParams:function(e,t){const n=new Set([km.publicKey.ed25519,km.publicKey.x25519,km.publicKey.ed448,km.publicKey.x448]),r=Object.keys(t).map((r=>{const i=t[r];return Im.isUint8Array(i)?n.has(e)?i:Im.uint8ArrayToMPI(i):i.write()}));return Im.concatUint8Array(r)},validateParams:async function(e,t,n){if(!t||!n)throw Error("Missing key parameters");switch(e){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:{const{n:e,e:r}=t,{d:i,p:s,q:a,u:o}=n;return Tk.rsa.validateParams(e,r,i,s,a,o)}case km.publicKey.dsa:{const{p:e,q:r,g:i,y:s}=t,{x:a}=n;return Tk.dsa.validateParams(e,r,i,s,a)}case km.publicKey.elgamal:{const{p:e,g:r,y:i}=t,{x:s}=n;return Tk.elgamal.validateParams(e,r,i,s)}case km.publicKey.ecdsa:case km.publicKey.ecdh:{const r=Tk.elliptic[km.read(km.publicKey,e)],{oid:i,Q:s}=t,{d:a}=n;return r.validateParams(i,s,a)}case km.publicKey.eddsaLegacy:{const{Q:e,oid:r}=t,{seed:i}=n;return Tk.elliptic.eddsaLegacy.validateParams(r,e,i)}case km.publicKey.ed25519:case km.publicKey.ed448:{const{A:r}=t,{seed:i}=n;return Tk.elliptic.eddsa.validateParams(e,r,i)}case km.publicKey.x25519:case km.publicKey.x448:{const{A:r}=t,{k:i}=n;return Tk.elliptic.ecdhX.validateParams(e,r,i)}default:throw Error("Unknown public key algorithm.")}}});const Kk={cipher:Vm,hash:cw,mode:Jb,publicKey:Tk,signature:Nk,random:lv,pkcs1:bv,pkcs5:bk,aesKW:jA};Object.assign(Kk,Mk);class Fk extends Error{constructor(){super(...arguments),Error.captureStackTrace&&Error.captureStackTrace(this,Fk),this.name="Argon2OutOfMemoryError"}}let jk,Qk;class zk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;const{passes:t,parallelism:n,memoryExponent:r}=e.s2kArgon2Params;this.type="argon2",this.salt=null,this.t=t,this.p=n,this.encodedM=r}generateSalt(){this.salt=Kk.random.getRandomBytes(16)}read(e){let t=0;return this.salt=e.subarray(t,t+16),t+=16,this.t=e[t++],this.p=e[t++],this.encodedM=e[t++],t}write(){const e=[new Uint8Array([km.write(km.s2k,this.type)]),this.salt,new Uint8Array([this.t,this.p,this.encodedM])];return Im.concatUint8Array(e)}async produceKey(e,t){const n=2<<this.encodedM-1;try{jk=jk||(await Promise.resolve().then((function(){return kP}))).default,Qk=Qk||jk();const r=(await Qk)({version:19,type:2,password:Im.encodeUTF8(e),salt:this.salt,tagLength:t,memorySize:n,parallelism:this.p,passes:this.t});return n>1048576&&(Qk=jk(),Qk.catch((()=>{}))),r}catch(e){throw e.message&&(e.message.includes("Unable to grow instance memory")||e.message.includes("failed to grow memory")||e.message.includes("WebAssembly.Memory.grow")||e.message.includes("Out of memory"))?new Fk("Could not allocate required memory for Argon2"):e}}}class Hk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;this.algorithm=km.hash.sha256,this.type=km.read(km.s2k,e),this.c=t.s2kIterationCountByte,this.salt=null}generateSalt(){switch(this.type){case"salted":case"iterated":this.salt=Kk.random.getRandomBytes(8)}}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==Im.uint8ArrayToString(e.subarray(t,t+3)))throw new xA("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw new xA("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new xA("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...Im.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([km.write(km.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return Im.concatUint8Array(e)}async produceKey(e,t){e=Im.encodeUTF8(e);const n=[];let r=0,i=0;for(;r<t;){let t;switch(this.type){case"simple":t=Im.concatUint8Array([new Uint8Array(i),e]);break;case"salted":t=Im.concatUint8Array([new Uint8Array(i),this.salt,e]);break;case"iterated":{const n=Im.concatUint8Array([this.salt,e]);let r=n.length;const s=Math.max(this.getCount(),r);t=new Uint8Array(i+s),t.set(n,i);for(let e=i+r;e<s;e+=r,r*=2)t.copyWithin(e,i,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const s=await Kk.hash.digest(this.algorithm,t);n.push(s),r+=s.length,i++}return Im.concatUint8Array(n).subarray(0,t)}}const Gk=new Set([km.s2k.argon2,km.s2k.iterated]);function Vk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;switch(e){case km.s2k.argon2:return new zk(t);case km.s2k.iterated:case km.s2k.gnu:case km.s2k.salted:case km.s2k.simple:return new Hk(e,t);default:throw new xA("Unsupported S2K type")}}function qk(e){const{s2kType:t}=e;if(!Gk.has(t))throw Error("The provided `config.s2kType` value is not allowed");return Vk(t,e)}var Jk=Uint8Array,$k=Uint16Array,Wk=Uint32Array,Yk=new Jk([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zk=new Jk([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xk=new Jk([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eE=function(e,t){for(var n=new $k(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Wk(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},tE=eE(Yk,2),nE=tE[0],rE=tE[1];nE[28]=258,rE[258]=28;for(var iE=eE(Zk,0),sE=iE[0],aE=iE[1],oE=new $k(32768),cE=0;cE<32768;++cE){var uE=(43690&cE)>>>1|(21845&cE)<<1;uE=(61680&(uE=(52428&uE)>>>2|(13107&uE)<<2))>>>4|(3855&uE)<<4,oE[cE]=((65280&uE)>>>8|(255&uE)<<8)>>>1}var lE=function(e,t,n){for(var r=e.length,i=0,s=new $k(t);i<r;++i)e[i]&&++s[e[i]-1];var a,o=new $k(t);for(i=0;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;if(n){a=new $k(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],h=o[e[i]-1]++<<l,f=h|(1<<l)-1;h<=f;++h)a[oE[h]>>>c]=u}else for(a=new $k(r),i=0;i<r;++i)e[i]&&(a[i]=oE[o[e[i]-1]++]>>>15-e[i]);return a},hE=new Jk(288);for(cE=0;cE<144;++cE)hE[cE]=8;for(cE=144;cE<256;++cE)hE[cE]=9;for(cE=256;cE<280;++cE)hE[cE]=7;for(cE=280;cE<288;++cE)hE[cE]=8;var fE=new Jk(32);for(cE=0;cE<32;++cE)fE[cE]=5;var dE=lE(hE,9,0),pE=lE(hE,9,1),yE=lE(fE,5,0),gE=lE(fE,5,1),mE=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},wE=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},bE=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},vE=function(e){return(e+7)/8|0},AE=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?$k:4==e.BYTES_PER_ELEMENT?Wk:Jk)(n-t);return r.set(e.subarray(t,n)),r},kE=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],EE=function(e,t,n){var r=Error(t||kE[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,EE),!n)throw r;return r},SE=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},IE=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},CE=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[RE,0];if(1==i){var a=new Jk(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,l=1,h=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};l!=i-1;)o=n[n[u].f<n[h].f?u++:h++],c=n[u!=l&&n[u].f<n[h].f?u++:h++],n[l++]={s:-1,f:o.f+c.f,l:o,r:c};var f=s[0].s;for(r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var d=new $k(f+1),p=xE(n[l-1],d,0);if(p>t){r=0;var y=0,g=p-t,m=1<<g;for(s.sort((function(e,t){return d[t.s]-d[e.s]||e.f-t.f}));r<i;++r){var w=s[r].s;if(!(d[w]>t))break;y+=m-(1<<p-d[w]),d[w]=t}for(y>>>=g;y>0;){var b=s[r].s;d[b]<t?y-=1<<t-d[b]++-1:++r}for(;r>=0&&y;--r){var v=s[r].s;d[v]==t&&(--d[v],++y)}p=t}return[new Jk(d),p]},xE=function(e,t,n){return-1==e.s?Math.max(xE(e.l,t,n+1),xE(e.r,t,n+1)):t[e.s]=n},BE=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new $k(++t),r=0,i=e[0],s=1,a=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return[n.subarray(0,r),t]},PE=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},_E=function(e,t,n){var r=n.length,i=vE(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},TE=function(e,t,n,r,i,s,a,o,c,u,l){SE(t,l++,n),++i[256];for(var h=CE(i,15),f=h[0],d=h[1],p=CE(s,15),y=p[0],g=p[1],m=BE(f),w=m[0],b=m[1],v=BE(y),A=v[0],k=v[1],E=new $k(19),S=0;S<w.length;++S)E[31&w[S]]++;for(S=0;S<A.length;++S)E[31&A[S]]++;for(var I=CE(E,7),C=I[0],x=I[1],B=19;B>4&&!C[Xk[B-1]];--B);var P,_,T,N,R=u+5<<3,D=PE(i,hE)+PE(s,fE)+a,U=PE(i,f)+PE(s,y)+a+14+3*B+PE(E,C)+(2*E[16]+3*E[17]+7*E[18]);if(R<=D&&R<=U)return _E(t,l,e.subarray(c,c+u));if(SE(t,l,1+(U<D)),l+=2,U<D){P=lE(f,d,0),_=f,T=lE(y,g,0),N=y;var O=lE(C,x,0);for(SE(t,l,b-257),SE(t,l+5,k-1),SE(t,l+10,B-4),l+=14,S=0;S<B;++S)SE(t,l+3*S,C[Xk[S]]);l+=3*B;for(var L=[w,A],M=0;M<2;++M){var K=L[M];for(S=0;S<K.length;++S){var F=31&K[S];SE(t,l,O[F]),l+=C[F],F>15&&(SE(t,l,K[S]>>>5&127),l+=K[S]>>>12)}}}else P=dE,_=hE,T=yE,N=fE;for(S=0;S<o;++S)if(r[S]>255){F=r[S]>>>18&31,IE(t,l,P[F+257]),l+=_[F+257],F>7&&(SE(t,l,r[S]>>>23&31),l+=Yk[F]);var j=31&r[S];IE(t,l,T[j]),l+=N[j],j>3&&(IE(t,l,r[S]>>>5&8191),l+=Zk[j])}else IE(t,l,P[r[S]]),l+=_[r[S]];return IE(t,l,P[256]),l+_[256]},NE=new Wk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RE=new Jk(0),DE=function(e,t,n,r,i){return function(e,t,n,r,i,s){var a=e.length,o=new Jk(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),u=0;if(!t||a<8)for(var l=0;l<=a;l+=65535){var h=l+65535;h>=a&&(c[u>>3]=s),u=_E(c,u+1,e.subarray(l,h))}else{for(var f=NE[t-1],d=f>>>13,p=8191&f,y=(1<<n)-1,g=new $k(32768),m=new $k(y+1),w=Math.ceil(n/3),b=2*w,v=function(t){return(e[t]^e[t+1]<<w^e[t+2]<<b)&y},A=new Wk(25e3),k=new $k(288),E=new $k(32),S=0,I=0,C=(l=0,0),x=0,B=0;l<a;++l){var P=v(l),_=32767&l,T=m[P];if(g[_]=T,m[P]=_,x<=l){var N=a-l;if((S>7e3||C>24576)&&N>423){u=TE(e,c,0,A,k,E,I,C,B,l-B,u),C=S=I=0,B=l;for(var R=0;R<286;++R)k[R]=0;for(R=0;R<30;++R)E[R]=0}var D=2,U=0,O=p,L=_-T&32767;if(N>2&&P==v(l-L))for(var M=Math.min(d,N)-1,K=Math.min(32767,l),F=Math.min(258,N);L<=K&&--O&&_!=T;){if(e[l+D]==e[l+D-L]){for(var j=0;j<F&&e[l+j]==e[l+j-L];++j);if(j>D){if(D=j,U=L,j>M)break;var Q=Math.min(L,j-2),z=0;for(R=0;R<Q;++R){var H=l-L+R+32768&32767,G=H-g[H]+32768&32767;G>z&&(z=G,T=H)}}}L+=(_=T)-(T=g[_])+32768&32767}if(U){A[C++]=268435456|rE[D]<<18|aE[U];var V=31&rE[D],q=31&aE[U];I+=Yk[V]+Zk[q],++k[257+V],++E[q],x=l+D,++S}else A[C++]=e[l],++k[e[l]]}}u=TE(e,c,s,A,k,E,I,C,B,l-B,u),!s&&7&u&&(u=_E(c,u+1,RE))}return AE(o,0,r+vE(u)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},UE=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(DE(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){this.ondata||EE(5),this.d&&EE(4),this.d=t,this.p(e,t||!1)},e}(),OE=function(){function e(e){this.s={},this.p=new Jk(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||EE(5),this.d&&EE(4);var t=this.p.length,n=new Jk(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new Jk(0);var i=!t||n,s=!n||n.i;n||(n={}),t||(t=new Jk(3*r));var a=function(e){var n=t.length;if(e>n){var r=new Jk(Math.max(2*n,e));r.set(t),t=r}},o=n.f||0,c=n.p||0,u=n.b||0,l=n.l,h=n.d,f=n.m,d=n.n,p=8*r;do{if(!l){o=wE(e,c,1);var y=wE(e,c+1,3);if(c+=3,!y){var g=e[(x=vE(c)+4)-4]|e[x-3]<<8,m=x+g;if(m>r){s&&EE(0);break}i&&a(u+g),t.set(e.subarray(x,m),u),n.b=u+=g,n.p=c=8*m,n.f=o;continue}if(1==y)l=pE,h=gE,f=9,d=5;else if(2==y){var w=wE(e,c,31)+257,b=wE(e,c+10,15)+4,v=w+wE(e,c+5,31)+1;c+=14;for(var A=new Jk(v),k=new Jk(19),E=0;E<b;++E)k[Xk[E]]=wE(e,c+3*E,7);c+=3*b;var S=mE(k),I=(1<<S)-1,C=lE(k,S,1);for(E=0;E<v;){var x,B=C[wE(e,c,I)];if(c+=15&B,(x=B>>>4)<16)A[E++]=x;else{var P=0,_=0;for(16==x?(_=3+wE(e,c,3),c+=2,P=A[E-1]):17==x?(_=3+wE(e,c,7),c+=3):18==x&&(_=11+wE(e,c,127),c+=7);_--;)A[E++]=P}}var T=A.subarray(0,w),N=A.subarray(w);f=mE(T),d=mE(N),l=lE(T,f,1),h=lE(N,d,1)}else EE(1);if(c>p){s&&EE(0);break}}i&&a(u+131072);for(var R=(1<<f)-1,D=(1<<d)-1,U=c;;U=c){var O=(P=l[bE(e,c)&R])>>>4;if((c+=15&P)>p){s&&EE(0);break}if(P||EE(2),O<256)t[u++]=O;else{if(256==O){U=c,l=null;break}var L=O-254;if(O>264){var M=Yk[E=O-257];L=wE(e,c,(1<<M)-1)+nE[E],c+=M}var K=h[bE(e,c)&D],F=K>>>4;if(K||EE(3),c+=15&K,N=sE[F],F>3&&(M=Zk[F],N+=bE(e,c)&(1<<M)-1,c+=M),c>p){s&&EE(0);break}i&&a(u+131072);for(var j=u+L;u<j;u+=4)t[u]=t[u-N],t[u+1]=t[u+1-N],t[u+2]=t[u+2-N],t[u+3]=t[u+3-N];u=j}}n.l=l,n.p=U,n.b=u,n.f=o,l&&(o=1,n.m=f,n.d=h,n.n=d)}while(!o);return u==t.length?t:AE(t,0,u)}(this.p,this.o,this.s);this.ondata(AE(n,t,this.s.b),this.d),this.o=AE(n,this.s.b-32768),this.s.b=this.o.length,this.p=AE(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),LE=function(){function e(e,t){var n,r;this.c=(n=1,r=0,{p:function(e){for(var t=n,i=r,s=0|e.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=t+=e[a];t=(65535&t)+15*(t>>16),i=(65535&i)+15*(i>>16)}n=t,r=i},d:function(){return(255&(n%=65521))<<24|n>>>8<<16|(255&(r%=65521))<<8|r>>>8}}),this.v=1,UE.call(this,e,t)}return e.prototype.push=function(e,t){UE.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var n=DE(e,this.o,this.v&&2,t&&4,!t);this.v&&(function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)}(n,this.o),this.v=0),t&&function(e,t,n){for(;n;++t)e[t]=n,n>>>=8}(n,n.length-4,this.c.d()),this.ondata(n,t)},e}(),ME=function(){function e(e){this.v=1,OE.call(this,e)}return e.prototype.push=function(e,t){if(OE.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&EE(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),OE.prototype.c.call(this,t)},e}(),KE="undefined"!=typeof TextDecoder&&new TextDecoder;try{KE.decode(RE,{stream:!0})}catch(Qg){}class FE{static get tag(){return km.packet.literalData}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;this.format=km.literal.utf8,this.date=Im.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:km.literal.utf8;this.format=t,this.text=e,this.data=null}getText(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null===this.text||Im.isStream(this.text))&&(this.text=Im.decodeUTF8(Im.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null===this.data&&(this.data=Im.canonicalizeEOL(Im.encodeUTF8(this.text))),e?dm(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await hm(e,(async e=>{const t=await e.readByte(),n=await e.readByte();this.filename=Im.decodeUTF8(await e.readBytes(n)),this.date=Im.readDate(await e.readBytes(4));let r=e.remainder();$g(r)&&(r=await gm(r)),this.setBytes(r,t)}))}writeHeader(){const e=Im.encodeUTF8(this.filename),t=new Uint8Array([e.length]),n=new Uint8Array([this.format]),r=Im.writeDate(this.date);return Im.concatUint8Array([n,t,e,r])}write(){const e=this.writeHeader(),t=this.getBytes();return Im.concat([e,t])}}class jE{constructor(){this.bytes=""}read(e){return this.bytes=Im.uint8ArrayToString(e.subarray(0,8)),this.bytes.length}write(){return Im.stringToUint8Array(this.bytes)}toHex(){return Im.uint8ArrayToHex(Im.stringToUint8Array(this.bytes))}equals(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new jE;return t.read(Im.hexToUint8Array(e)),t}static wildcard(){const e=new jE;return e.read(new Uint8Array(8)),e}}const QE=Symbol("verified"),zE="salt@notations.openpgpjs.org",HE=new Set([km.signatureSubpacket.issuerKeyID,km.signatureSubpacket.issuerFingerprint,km.signatureSubpacket.embeddedSignature]);class GE{static get tag(){return km.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.unknownSubpackets=[],this.signedHashValue=null,this.salt=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new jE,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.preferredCipherSuites=null,this.revoked=null,this[QE]=null}read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em,n=0;if(this.version=e[n++],5===this.version&&!t.enableParsingV5Entities)throw new xA("Support for v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(4!==this.version&&5!==this.version&&6!==this.version)throw new xA(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[n++],this.publicKeyAlgorithm=e[n++],this.hashAlgorithm=e[n++],n+=this.readSubPackets(e.subarray(n,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");if(this.signatureData=e.subarray(0,n),n+=this.readSubPackets(e.subarray(n,e.length),!1),this.signedHashValue=e.subarray(n,n+2),n+=2,6===this.version){const t=e[n++];this.salt=e.subarray(n,n+t),n+=t}const r=e.subarray(n,e.length),{read:i,signatureParams:s}=Kk.signature.parseSignatureParams(this.publicKeyAlgorithm,r);if(i<r.length)throw Error("Error reading MPIs");this.params=s}writeParams(){return this.params instanceof Promise?wm((async()=>Kk.serializeParams(this.publicKeyAlgorithm,await this.params))):Kk.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),6===this.version&&(e.push(new Uint8Array([this.salt.length])),e.push(this.salt)),e.push(this.writeParams()),Im.concat(e)}async sign(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;this.version=e.version,this.created=Im.normalizeDate(n),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID();const s=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];if(6===this.version){const e=qE(this.hashAlgorithm);if(null===this.salt)this.salt=Kk.random.getRandomBytes(e);else if(e!==this.salt.length)throw Error("Provided salt does not have the required length")}else if(i.nonDeterministicSignaturesViaNotation){if(0!==this.rawNotations.filter((e=>{let{name:t}=e;return t===zE})).length)throw Error("Unexpected existing salt notation");{const e=Kk.random.getRandomBytes(qE(this.hashAlgorithm));this.rawNotations.push({name:zE,value:e,humanReadable:!1,critical:!1})}}s.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=Im.concat(s);const a=this.toHash(this.signatureType,t,r),o=await this.hash(this.signatureType,t,a,r);this.signedHashValue=ym(fm(o),0,2);const c=async()=>Kk.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,a,await gm(o));Im.isStream(o)?this.params=c():(this.params=await c(),this[QE]=!0)}writeHashedSubPackets(){const e=km.signatureSubpacket,t=[];let n;if(null===this.created)throw Error("Missing signature creation time");t.push(VE(e.signatureCreationTime,!0,Im.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(VE(e.signatureExpirationTime,!0,Im.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(VE(e.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(VE(e.trustSignature,!0,n))),null!==this.regularExpression&&t.push(VE(e.regularExpression,!0,this.regularExpression)),null!==this.revocable&&t.push(VE(e.revocable,!0,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(VE(e.keyExpirationTime,!0,Im.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(VE(e.preferredSymmetricAlgorithms,!1,n))),null!==this.revocationKeyClass&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=Im.concat([n,this.revocationKeyFingerprint]),t.push(VE(e.revocationKey,!1,n))),!this.issuerKeyID.isNull()&&this.issuerKeyVersion<5&&t.push(VE(e.issuerKeyID,!0,this.issuerKeyID.write())),this.rawNotations.forEach((r=>{let{name:i,value:s,humanReadable:a,critical:o}=r;n=[new Uint8Array([a?128:0,0,0,0])];const c=Im.encodeUTF8(i);n.push(Im.writeNumber(c.length,2)),n.push(Im.writeNumber(s.length,2)),n.push(c),n.push(s),n=Im.concat(n),t.push(VE(e.notationData,o,n))})),null!==this.preferredHashAlgorithms&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(VE(e.preferredHashAlgorithms,!1,n))),null!==this.preferredCompressionAlgorithms&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(VE(e.preferredCompressionAlgorithms,!1,n))),null!==this.keyServerPreferences&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.keyServerPreferences)),t.push(VE(e.keyServerPreferences,!1,n))),null!==this.preferredKeyServer&&t.push(VE(e.preferredKeyServer,!1,Im.encodeUTF8(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(VE(e.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(VE(e.policyURI,!1,Im.encodeUTF8(this.policyURI))),null!==this.keyFlags&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.keyFlags)),t.push(VE(e.keyFlags,!0,n))),null!==this.signersUserID&&t.push(VE(e.signersUserID,!1,Im.encodeUTF8(this.signersUserID))),null!==this.reasonForRevocationFlag&&(n=Im.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(VE(e.reasonForRevocation,!0,n))),null!==this.features&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.features)),t.push(VE(e.features,!1,n))),null!==this.signatureTargetPublicKeyAlgorithm&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(Im.stringToUint8Array(this.signatureTargetHash)),n=Im.concat(n),t.push(VE(e.signatureTarget,!0,n))),null!==this.embeddedSignature&&t.push(VE(e.embeddedSignature,!0,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=Im.concat(n),t.push(VE(e.issuerFingerprint,this.version>=5,n))),null!==this.preferredAEADAlgorithms&&(n=Im.stringToUint8Array(Im.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(VE(e.preferredAEADAlgorithms,!1,n))),null!==this.preferredCipherSuites&&(n=new Uint8Array([].concat(...this.preferredCipherSuites)),t.push(VE(e.preferredCipherSuites,!1,n)));const r=Im.concat(t),i=Im.writeNumber(r.length,6===this.version?4:2);return Im.concat([i,r])}writeUnhashedSubPackets(){const e=this.unhashedSubpackets.map((e=>{let{type:t,critical:n,body:r}=e;return VE(t,n,r)})),t=Im.concat(e),n=Im.writeNumber(t.length,6===this.version?4:2);return Im.concat([n,t])}readSubPacket(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;const r=!!(128&e[n]),i=127&e[n];if(n++,t||(this.unhashedSubpackets.push({type:i,critical:r,body:e.subarray(n,e.length)}),HE.has(i)))switch(i){case km.signatureSubpacket.signatureCreationTime:this.created=Im.readDate(e.subarray(n,e.length));break;case km.signatureSubpacket.signatureExpirationTime:{const t=Im.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case km.signatureSubpacket.exportableCertification:this.exportable=1===e[n++];break;case km.signatureSubpacket.trustSignature:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case km.signatureSubpacket.regularExpression:this.regularExpression=e[n];break;case km.signatureSubpacket.revocable:this.revocable=1===e[n++];break;case km.signatureSubpacket.keyExpirationTime:{const t=Im.readNumber(e.subarray(n,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case km.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.revocationKey:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case km.signatureSubpacket.issuerKeyID:if(4===this.version)this.issuerKeyID.read(e.subarray(n,e.length));else if(t)throw Error("Unexpected Issuer Key ID subpacket");break;case km.signatureSubpacket.notationData:{const t=!!(128&e[n]);n+=4;const i=Im.readNumber(e.subarray(n,n+2));n+=2;const s=Im.readNumber(e.subarray(n,n+2));n+=2;const a=Im.decodeUTF8(e.subarray(n,n+i)),o=e.subarray(n+i,n+i+s);this.rawNotations.push({name:a,humanReadable:t,value:o,critical:r}),t&&(this.notations[a]=Im.decodeUTF8(o));break}case km.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=Im.decodeUTF8(e.subarray(n,e.length));break;case km.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[n++];break;case km.signatureSubpacket.policyURI:this.policyURI=Im.decodeUTF8(e.subarray(n,e.length));break;case km.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.signersUserID:this.signersUserID=Im.decodeUTF8(e.subarray(n,e.length));break;case km.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=Im.decodeUTF8(e.subarray(n,e.length));break;case km.signatureSubpacket.features:this.features=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];const t=Kk.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=Im.uint8ArrayToString(e.subarray(n,n+t));break}case km.signatureSubpacket.embeddedSignature:this.embeddedSignature=new GE,this.embeddedSignature.read(e.subarray(n,e.length));break;case km.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyVersion>=5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case km.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(n,e.length)];break;case km.signatureSubpacket.preferredCipherSuites:this.preferredCipherSuites=[];for(let t=n;t<e.length;t+=2)this.preferredCipherSuites.push([e[t],e[t+1]]);break;default:this.unknownSubpackets.push({type:i,critical:r,body:e.subarray(n,e.length)})}}readSubPackets(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=6===this.version?4:2,i=Im.readNumber(e.subarray(0,r));let s=r;for(;s<2+i;){const r=vA(e.subarray(s,e.length));s+=r.offset,this.readSubPacket(e.subarray(s,s+r.len),t,n),s+=r.len}return s}toSign(e,t){const n=km.signature;switch(e){case n.binary:return null!==t.text?Im.encodeUTF8(t.getText(!0)):t.getBytes(!0);case n.text:{const e=t.getBytes(!0);return Im.canonicalizeEOL(e)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let e,r;if(t.userID)r=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");r=209,e=t.userAttribute}const i=e.write();return Im.concat([this.toSign(n.key,t),new Uint8Array([r]),Im.writeNumber(i.length,4),i])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return Im.concat([this.toSign(n.key,t),this.toSign(n.key,{key:t.bind})]);case n.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,t);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let n=0;return um(fm(this.signatureData),(e=>{n+=e.length}),(()=>{const r=[];return 5!==this.version||this.signatureType!==km.signature.binary&&this.signatureType!==km.signature.text||(t?r.push(new Uint8Array(6)):r.push(e.writeHeader())),r.push(new Uint8Array([this.version,255])),5===this.version&&r.push(new Uint8Array(4)),r.push(Im.writeNumber(n,4)),Im.concat(r)}))}toHash(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.toSign(e,t);return Im.concat([this.salt||new Uint8Array,r,this.signatureData,this.calculateTrailer(t,n)])}async hash(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(6===this.version&&this.salt.length!==qE(this.hashAlgorithm))throw Error("Signature salt does not have the expected length");return n||(n=this.toHash(e,t,r)),Kk.hash.digest(this.hashAlgorithm,n)}async verify(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Em;if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const a=t===km.signature.binary||t===km.signature.text;if(!this[QE]||a){let r,s;if(this.hashed?s=await this.hashed:(r=this.toHash(t,n,i),s=await this.hash(t,n,r)),s=await gm(s),this.signedHashValue[0]!==s[0]||this.signedHashValue[1]!==s[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[QE]=await Kk.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,r,s),!this[QE])throw Error("Signature verification failed")}const o=Im.normalizeDate(r);if(o&&this.created>o)throw Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw Error("Signature is expired");if(s.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+km.read(km.hash,this.hashAlgorithm).toUpperCase());if(s.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[km.signature.binary,km.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+km.read(km.hash,this.hashAlgorithm).toUpperCase());if(this.unknownSubpackets.forEach((e=>{let{type:t,critical:n}=e;if(n)throw Error("Unknown critical signature subpacket type "+t)})),this.rawNotations.forEach((e=>{let{name:t,critical:n}=e;if(n&&s.knownNotations.indexOf(t)<0)throw Error("Unknown critical notation: "+t)})),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;const t=Im.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function VE(e,t,n){const r=[];return r.push(AA(n.length+1)),r.push(new Uint8Array([(t?128:0)|e])),r.push(n),Im.concat(r)}function qE(e){switch(e){case km.hash.sha256:return 16;case km.hash.sha384:return 24;case km.hash.sha512:return 32;case km.hash.sha224:case km.hash.sha3_256:return 16;case km.hash.sha3_512:return 32;default:throw Error("Unsupported hash function")}}class JE{static get tag(){return km.packet.onePassSignature}static fromSignaturePacket(e,t){const n=new JE;return n.version=6===e.version?6:3,n.signatureType=e.signatureType,n.hashAlgorithm=e.hashAlgorithm,n.publicKeyAlgorithm=e.publicKeyAlgorithm,n.issuerKeyID=e.issuerKeyID,n.salt=e.salt,n.issuerFingerprint=e.issuerFingerprint,n.flags=t?1:0,n}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.salt=null,this.issuerKeyID=null,this.issuerFingerprint=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version&&6!==this.version)throw new xA(`Version ${this.version} of the one-pass signature packet is unsupported.`);if(this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],6===this.version){const n=e[t++];this.salt=e.subarray(t,t+n),t+=n,this.issuerFingerprint=e.subarray(t,t+32),t+=32,this.issuerKeyID=new jE,this.issuerKeyID.read(this.issuerFingerprint)}else this.issuerKeyID=new jE,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8;return this.flags=e[t++],this}write(){const e=[new Uint8Array([this.version,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm])];return 6===this.version?e.push(new Uint8Array([this.salt.length]),this.salt,this.issuerFingerprint):e.push(this.issuerKeyID.write()),e.push(new Uint8Array([this.flags])),Im.concatUint8Array(e)}calculateTrailer(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wm((async()=>GE.prototype.calculateTrailer.apply(await this.correspondingSig,t)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==km.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID)||3===this.version&&6===e.version||6===this.version&&6!==e.version||6===this.version&&!Im.equalsUint8Array(e.issuerFingerprint,this.issuerFingerprint)||6===this.version&&!Im.equalsUint8Array(e.salt,this.salt))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function $E(e,t){if(!t[e]){let n;try{n=km.read(km.packet,e)}catch(t){throw new BA("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+n)}return new t[e]}JE.prototype.hash=GE.prototype.hash,JE.prototype.toHash=GE.prototype.toHash,JE.prototype.toSign=GE.prototype.toSign;class WE extends Array{static async fromBinary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=new WE;return await r.read(e,t,n),r}async read(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;n.additionalAllowedPackets.length&&(t={...t,...Im.constructAllowedPackets(n.additionalAllowedPackets)}),this.stream=lm(e,(async(e,r)=>{const i=vm(r);try{for(;;)if(await i.ready,await CA(e,(async e=>{try{if(e.tag===km.packet.marker||e.tag===km.packet.trust||e.tag===km.packet.padding)return;const r=$E(e.tag,t);r.packets=new WE,r.fromStream=Im.isStream(e.packet),await r.read(e.packet,n),await i.write(r)}catch(t){if(t instanceof BA){if(!(e.tag<=39))return;await i.abort(t)}const s=!n.ignoreUnsupportedPackets&&t instanceof xA,a=!(n.ignoreMalformedPackets||t instanceof xA);if(s||a||IA(e.tag))await i.abort(t);else{const t=new PA(e.tag,e.packet);await i.write(t)}Im.printDebugError(t)}})))return await i.ready,void await i.close()}catch(e){await i.abort(e)}}));const r=bm(this.stream);for(;;){const{done:e,value:t}=await r.read();if(e?this.stream=null:this.push(t),e||IA(t.constructor.tag))break}r.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const n=this[t]instanceof PA?this[t].tag:this[t].constructor.tag,r=this[t].write();if(Im.isStream(r)&&IA(this[t].constructor.tag)){let t=[],i=0;const s=512;e.push(EA(n)),e.push(um(r,(e=>{if(t.push(e),i+=e.length,i>=s){const e=Math.min(Math.log(i)/Math.LN2|0,30),n=2**e,r=Im.concat([kA(e)].concat(t));return t=[r.subarray(1+n)],i=t[0].length,r.subarray(0,1+n)}}),(()=>Im.concat([AA(i)].concat(t)))))}else{if(Im.isStream(r)){let t=0;e.push(um(fm(r),(e=>{t+=e.length}),(()=>SA(n,t))))}else e.push(SA(n,r.length));e.push(r)}}return Im.concat(e)}filterByTag(){const e=new WE,t=e=>t=>e===t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(let s=0;s<this.length;s++)r.some(t(this[s].constructor.tag))&&e.push(this[s]);return e}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(){const e=[],t=this,n=e=>t=>e===t;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(let a=0;a<this.length;a++)i.some(n(t[a].constructor.tag))&&e.push(a);return e}}const YE=Im.constructAllowedPackets([FE,JE,GE]);class ZE{static get tag(){return km.packet.compressedData}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null}async read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;await hm(e,(async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)}))}write(){return null===this.compressed&&this.compress(),Im.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;const t=km.read(km.compression,this.algorithm),n=rS[t];if(!n)throw Error(t+" decompression not supported");this.packets=await WE.fromBinary(await n(this.compressed),YE,e)}compress(){const e=km.read(km.compression,this.algorithm),t=nS[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write())}}function XE(e,t){return n=>{if(!Im.isStream(n)||$g(n))return wm((()=>gm(n).then((e=>new Promise(((n,r)=>{const i=new t;i.ondata=e=>{n(e)};try{i.push(e,!0)}catch(e){r(e)}}))))));if(e)try{const t=e();return n.pipeThrough(t)}catch(e){if("TypeError"!==e.name)throw e}const r=n.getReader(),i=new t;return new ReadableStream({async start(e){for(i.ondata=async(t,n)=>{e.enqueue(t),n&&e.close()};;){const{done:e,value:t}=await r.read();if(e)return void i.push(new Uint8Array,!0);t.length&&i.push(t)}}})}}function eS(){return async function(e){const{decode:t}=await Promise.resolve().then((function(){return jP}));return wm((async()=>t(await gm(e))))}}const tS=e=>({compressor:"undefined"!=typeof CompressionStream&&(()=>new CompressionStream(e)),decompressor:"undefined"!=typeof DecompressionStream&&(()=>new DecompressionStream(e))}),nS={zip:XE(tS("deflate-raw").compressor,UE),zlib:XE(tS("deflate").compressor,LE)},rS={uncompressed:e=>e,zip:XE(tS("deflate-raw").decompressor,OE),zlib:XE(tS("deflate").decompressor,ME),bzip2:eS()},iS=Im.constructAllowedPackets([FE,ZE,JE,GE]);class sS{static get tag(){return km.packet.symEncryptedIntegrityProtectedData}static fromObject(e){let{version:t,aeadAlgorithm:n}=e;if(1!==t&&2!==t)throw Error("Unsupported SEIPD version");const r=new sS;return r.version=t,2===t&&(r.aeadAlgorithm=n),r}constructor(){this.version=null,this.cipherAlgorithm=null,this.aeadAlgorithm=null,this.chunkSizeByte=null,this.salt=null,this.encrypted=null,this.packets=null}async read(e){await hm(e,(async e=>{if(this.version=await e.readByte(),1!==this.version&&2!==this.version)throw new xA(`Version ${this.version} of the SEIP packet is unsupported.`);2===this.version&&(this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte(),this.salt=await e.readBytes(32)),this.encrypted=e.remainder()}))}write(){return 2===this.version?Im.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.salt,this.encrypted]):Im.concat([new Uint8Array([this.version]),this.encrypted])}async encrypt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const{blockSize:r,keySize:i}=Kk.getCipherParams(e);if(t.length!==i)throw Error("Unexpected session key size");let s=this.packets.write();if($g(s)&&(s=await gm(s)),2===this.version)this.cipherAlgorithm=e,this.salt=Kk.random.getRandomBytes(32),this.chunkSizeByte=n.aeadChunkSizeByte,this.encrypted=await aS(this,"encrypt",t,s);else{const i=await Kk.getPrefixRandom(e),a=new Uint8Array([211,20]),o=Im.concat([i,s,a]),c=await Kk.hash.sha1(dm(o)),u=Im.concat([o,c]);this.encrypted=await Kk.mode.cfb.encrypt(e,t,u,new Uint8Array(r),n)}return!0}async decrypt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;if(t.length!==Kk.getCipherParams(e).keySize)throw Error("Unexpected session key size");let r,i=fm(this.encrypted);if($g(i)&&(i=await gm(i)),2===this.version){if(this.cipherAlgorithm!==e)throw Error("Unexpected session key algorithm");r=await aS(this,"decrypt",t,i)}else{const{blockSize:s}=Kk.getCipherParams(e),a=await Kk.mode.cfb.decrypt(e,t,i,new Uint8Array(s)),o=ym(dm(a),-20),c=ym(a,0,-20),u=Promise.all([gm(await Kk.hash.sha1(dm(c))),gm(o)]).then((e=>{let[t,n]=e;if(!Im.equalsUint8Array(t,n))throw Error("Modification detected.");return new Uint8Array})),l=ym(c,s+2);r=ym(l,0,-2),r=sm([r,wm((()=>u))]),Im.isStream(i)&&n.allowUnauthenticatedStream||(r=await gm(r))}return this.packets=await WE.fromBinary(r,iS,n),!0}}async function aS(e,t,n,r){const i=e instanceof sS&&2===e.version,s=!i&&e.constructor.tag===km.packet.aeadEncryptedData;if(!i&&!s)throw Error("Unexpected packet type");const a=Kk.getAEADMode(e.aeadAlgorithm),o="decrypt"===t?a.tagLength:0,c="encrypt"===t?a.tagLength:0,u=2**(e.chunkSizeByte+6)+o,l=s?8:0,h=new ArrayBuffer(13+l),f=new Uint8Array(h,0,5+l),d=new Uint8Array(h),p=new DataView(h),y=new Uint8Array(h,5,8);f.set([192|e.constructor.tag,e.version,e.cipherAlgorithm,e.aeadAlgorithm,e.chunkSizeByte],0);let g,m,w=0,b=Promise.resolve(),v=0,A=0;if(i){const{keySize:t}=Kk.getCipherParams(e.cipherAlgorithm),{ivLength:r}=a,i=new Uint8Array(h,0,5),s=await zA(km.hash.sha256,n,e.salt,i,t+r);n=s.subarray(0,t),g=s.subarray(t),g.fill(0,g.length-8),m=new DataView(g.buffer,g.byteOffset,g.byteLength)}else g=e.iv;const k=await a(e.cipherAlgorithm,n);return lm(r,(async(n,r)=>{if("array"!==Im.isStream(n)){const t=new TransformStream({},{highWaterMark:Im.getHardwareConcurrency()*2**(e.chunkSizeByte+6),size:e=>e.length});am(t.readable,r),r=t.writable}const s=bm(n),a=vm(r);try{for(;;){let e=await s.readBytes(u+o)||new Uint8Array;const n=e.subarray(e.length-o);let r,h,E;if(e=e.subarray(0,e.length-o),i)E=g;else{E=g.slice();for(let e=0;e<8;e++)E[g.length-8+e]^=y[e]}if(!w||e.length?(s.unshift(n),r=k[t](e,E,f),r.catch((()=>{})),A+=e.length-o+c):(p.setInt32(5+l+4,v),r=k[t](n,E,d),r.catch((()=>{})),A+=c,h=!0),v+=e.length-o,b=b.then((()=>r)).then((async e=>{await a.ready,await a.write(e),A-=e.length})).catch((e=>a.abort(e))),(h||A>a.desiredSize)&&await b,h){await a.close();break}i?m.setInt32(g.length-4,++w):p.setInt32(9,++w)}}catch(e){await a.ready.catch((()=>{})),await a.abort(e)}}))}class oS{static get tag(){return km.packet.publicKeyEncryptedSessionKey}constructor(){this.version=null,this.publicKeyID=new jE,this.publicKeyVersion=null,this.publicKeyFingerprint=null,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}static fromObject(e){let{version:t,encryptionKeyPacket:n,anonymousRecipient:r,sessionKey:i,sessionKeyAlgorithm:s}=e;const a=new oS;if(3!==t&&6!==t)throw Error("Unsupported PKESK version");return a.version=t,6===t&&(a.publicKeyVersion=r?null:n.version,a.publicKeyFingerprint=r?null:n.getFingerprintBytes()),a.publicKeyID=r?jE.wildcard():n.getKeyID(),a.publicKeyAlgorithm=n.algorithm,a.sessionKey=i,a.sessionKeyAlgorithm=s,a}read(e){let t=0;if(this.version=e[t++],3!==this.version&&6!==this.version)throw new xA(`Version ${this.version} of the PKESK packet is unsupported.`);if(6===this.version){const n=e[t++];if(n){this.publicKeyVersion=e[t++];const r=n-1;this.publicKeyFingerprint=e.subarray(t,t+r),t+=r,this.publicKeyVersion>=5?this.publicKeyID.read(this.publicKeyFingerprint):this.publicKeyID.read(this.publicKeyFingerprint.subarray(-8))}else this.publicKeyID=jE.wildcard()}else t+=this.publicKeyID.read(e.subarray(t,t+8));if(this.publicKeyAlgorithm=e[t++],this.encrypted=Kk.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(t)),this.publicKeyAlgorithm===km.publicKey.x25519||this.publicKeyAlgorithm===km.publicKey.x448)if(3===this.version)this.sessionKeyAlgorithm=km.write(km.symmetric,this.encrypted.C.algorithm);else if(null!==this.encrypted.C.algorithm)throw Error("Unexpected cleartext symmetric algorithm")}write(){const e=[new Uint8Array([this.version])];return 6===this.version?null!==this.publicKeyFingerprint?(e.push(new Uint8Array([this.publicKeyFingerprint.length+1,this.publicKeyVersion])),e.push(this.publicKeyFingerprint)):e.push(new Uint8Array([0])):e.push(this.publicKeyID.write()),e.push(new Uint8Array([this.publicKeyAlgorithm]),Kk.serializeParams(this.publicKeyAlgorithm,this.encrypted)),Im.concatUint8Array(e)}async encrypt(e){const t=km.write(km.publicKey,this.publicKeyAlgorithm),n=3===this.version?this.sessionKeyAlgorithm:null,r=5===e.version?e.getFingerprintBytes().subarray(0,20):e.getFingerprintBytes(),i=cS(this.version,t,n,this.sessionKey);this.encrypted=await Kk.publicKeyEncrypt(t,n,e.publicParams,i,r)}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");const n=t?cS(this.version,this.publicKeyAlgorithm,t.sessionKeyAlgorithm,t.sessionKey):null,r=5===e.version?e.getFingerprintBytes().subarray(0,20):e.getFingerprintBytes(),i=await Kk.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,r,n),{sessionKey:s,sessionKeyAlgorithm:a}=function(e,t,n,r){switch(t){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.elgamal:case km.publicKey.ecdh:{const t=n.subarray(0,n.length-2),i=n.subarray(n.length-2),s=Im.writeChecksum(t.subarray(t.length%8)),a=s[0]===i[0]&s[1]===i[1],o=6===e?{sessionKeyAlgorithm:null,sessionKey:t}:{sessionKeyAlgorithm:t[0],sessionKey:t.subarray(1)};if(r){const t=a&o.sessionKeyAlgorithm===r.sessionKeyAlgorithm&o.sessionKey.length===r.sessionKey.length;return{sessionKey:Im.selectUint8Array(t,o.sessionKey,r.sessionKey),sessionKeyAlgorithm:6===e?null:Im.selectUint8(t,o.sessionKeyAlgorithm,r.sessionKeyAlgorithm)}}if(a&&(6===e||km.read(km.symmetric,o.sessionKeyAlgorithm)))return o;throw Error("Decryption error")}case km.publicKey.x25519:case km.publicKey.x448:return{sessionKeyAlgorithm:null,sessionKey:n};default:throw Error("Unsupported public key algorithm")}}(this.version,this.publicKeyAlgorithm,i,t);if(3===this.version){const e=this.publicKeyAlgorithm!==km.publicKey.x25519&&this.publicKeyAlgorithm!==km.publicKey.x448;if(this.sessionKeyAlgorithm=e?a:this.sessionKeyAlgorithm,s.length!==Kk.getCipherParams(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}this.sessionKey=s}}function cS(e,t,n,r){switch(t){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.elgamal:case km.publicKey.ecdh:return Im.concatUint8Array([new Uint8Array(6===e?[]:[n]),r,Im.writeChecksum(r.subarray(r.length%8))]);case km.publicKey.x25519:case km.publicKey.x448:return r;default:throw Error("Unsupported public key algorithm")}}class uS{static get tag(){return km.packet.symEncryptedSessionKey}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;this.version=e.aeadProtect?6:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=null,this.aeadAlgorithm=km.write(km.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version&&6!==this.version)throw new xA(`Version ${this.version} of the SKESK packet is unsupported.`);6===this.version&&t++;const n=e[t++];this.version>=5&&(this.aeadAlgorithm=e[t++],6===this.version&&t++);const r=e[t++];if(this.s2k=Vk(r),t+=this.s2k.read(e.subarray(t,e.length)),this.version>=5){const n=Kk.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=n.ivLength)}this.version>=5||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;const n=this.s2k.write();if(6===this.version){const r=n.length,i=3+r+this.iv.length;t=Im.concatUint8Array([new Uint8Array([this.version,i,e,this.aeadAlgorithm,r]),n,this.iv,this.encrypted])}else 5===this.version?t=Im.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),n,this.iv,this.encrypted]):(t=Im.concatUint8Array([new Uint8Array([this.version,e]),n]),null!==this.encrypted&&(t=Im.concatUint8Array([t,this.encrypted])));return t}async decrypt(e){const t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:n,keySize:r}=Kk.getCipherParams(t),i=await this.s2k.produceKey(e,r);if(this.version>=5){const e=Kk.getAEADMode(this.aeadAlgorithm),n=new Uint8Array([192|uS.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),s=6===this.version?await zA(km.hash.sha256,i,new Uint8Array,n,r):i,a=await e(t,s);this.sessionKey=await a.decrypt(this.encrypted,this.iv,n)}else if(null!==this.encrypted){const e=await Kk.mode.cfb.decrypt(t,i,this.encrypted,new Uint8Array(n));if(this.sessionKeyAlgorithm=km.write(km.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length),this.sessionKey.length!==Kk.getCipherParams(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}else this.sessionKey=i}async encrypt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;const n=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=qk(t),this.s2k.generateSalt();const{blockSize:r,keySize:i}=Kk.getCipherParams(n),s=await this.s2k.produceKey(e,i);if(null===this.sessionKey&&(this.sessionKey=Kk.generateSessionKey(this.sessionKeyAlgorithm)),this.version>=5){const e=Kk.getAEADMode(this.aeadAlgorithm);this.iv=Kk.random.getRandomBytes(e.ivLength);const t=new Uint8Array([192|uS.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),r=6===this.version?await zA(km.hash.sha256,s,new Uint8Array,t,i):s,a=await e(n,r);this.encrypted=await a.encrypt(this.sessionKey,this.iv,t)}else{const e=Im.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await Kk.mode.cfb.encrypt(n,s,e,new Uint8Array(r),t)}}}class lS{static get tag(){return km.packet.publicKey}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;this.version=t.v6Keys?6:4,this.created=Im.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new lS,{version:n,created:r,algorithm:i,publicParams:s,keyID:a,fingerprint:o}=e;return t.version=n,t.created=r,t.algorithm=i,t.publicParams=s,t.keyID=a,t.fingerprint=o,t}async read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em,n=0;if(this.version=e[n++],5===this.version&&!t.enableParsingV5Entities)throw new xA("Support for parsing v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(4===this.version||5===this.version||6===this.version){this.created=Im.readDate(e.subarray(n,n+4)),n+=4,this.algorithm=e[n++],this.version>=5&&(n+=4);const{read:t,publicParams:r}=Kk.parsePublicKeyParams(this.algorithm,e.subarray(n));if(6===this.version&&r.oid&&(r.oid.getName()===km.curve.curve25519Legacy||r.oid.getName()===km.curve.ed25519Legacy))throw Error("Legacy curve25519 cannot be used with v6 keys");return this.publicParams=r,n+=t,await this.computeFingerprintAndKeyID(),n}throw new xA(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(Im.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const t=Kk.serializeParams(this.algorithm,this.publicParams);return this.version>=5&&e.push(Im.writeNumber(t.length,4)),e.push(t),Im.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey(),n=149+e,r=e>=5?4:2;return Im.concatUint8Array([new Uint8Array([n]),Im.writeNumber(t.length,r),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new jE,this.version>=5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(this.version>=5)this.fingerprint=await Kk.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await Kk.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return Im.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&Im.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=km.read(km.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?e.bits=Im.uint8ArrayBitLength(t):this.publicParams.oid&&(e.curve=this.publicParams.oid.getName()),e}}lS.prototype.readPublicKey=lS.prototype.read,lS.prototype.writePublicKey=lS.prototype.write;class hS extends lS{static get tag(){return km.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new hS,{version:n,created:r,algorithm:i,publicParams:s,keyID:a,fingerprint:o}=e;return t.version=n,t.created=r,t.algorithm=i,t.publicParams=s,t.keyID=a,t.fingerprint=o,t}}class fS{static get tag(){return km.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const n=vA(e.subarray(t,e.length));t+=n.offset,this.attributes.push(Im.uint8ArrayToString(e.subarray(t,t+n.len))),t+=n.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(AA(this.attributes[t].length)),e.push(Im.stringToUint8Array(this.attributes[t]));return Im.concatUint8Array(e)}equals(e){return!!(e&&e instanceof fS)&&this.attributes.every((function(t,n){return t===e.attributes[n]}))}}class dS extends lS{static get tag(){return km.packet.secretKey}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.isLegacyAEAD=null,this.privateParams=null,this.usedModernAEAD=null}async read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em,n=await this.readPublicKey(e,t);const r=n;this.s2kUsage=e[n++],5===this.version&&n++,6===this.version&&this.s2kUsage&&n++;try{if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){this.symmetric=e[n++],253===this.s2kUsage&&(this.aead=e[n++]),6===this.version&&n++;const t=e[n++];if(this.s2k=Vk(t),n+=this.s2k.read(e.subarray(n,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.isLegacyAEAD=253===this.s2kUsage&&(5===this.version||4===this.version&&t.parseAEADEncryptedV4KeysAsLegacy),253!==this.s2kUsage||this.isLegacyAEAD?(this.iv=e.subarray(n,n+Kk.getCipherParams(this.symmetric).blockSize),this.usedModernAEAD=!1):(this.iv=e.subarray(n,n+Kk.getAEADMode(this.aead).ivLength),this.usedModernAEAD=!0),n+=this.iv.length)}catch(t){if(!this.s2kUsage)throw t;this.unparseableKeyMaterial=e.subarray(r),this.isEncrypted=!0}if(5===this.version&&(n+=4),this.keyMaterial=e.subarray(n),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let t;if(6===this.version)t=this.keyMaterial;else if(t=this.keyMaterial.subarray(0,-2),!Im.equalsUint8Array(Im.writeChecksum(t),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{read:e,privateParams:n}=Kk.parsePrivateKeyParams(this.algorithm,t,this.publicParams);if(e<t.length)throw Error("Error reading MPIs");this.privateParams=n}catch(e){if(e instanceof xA)throw e;throw Error("Error reading MPIs")}}}write(){const e=this.writePublicKey();if(this.unparseableKeyMaterial)return Im.concatUint8Array([e,this.unparseableKeyMaterial]);const t=[e];t.push(new Uint8Array([this.s2kUsage]));const n=[];if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){n.push(this.symmetric),253===this.s2kUsage&&n.push(this.aead);const e=this.s2k.write();6===this.version&&n.push(e.length),n.push(...e)}return this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&n.push(...this.iv),(5===this.version||6===this.version&&this.s2kUsage)&&t.push(new Uint8Array([n.length])),t.push(new Uint8Array(n)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Kk.serializeParams(this.algorithm,this.privateParams)),5===this.version&&t.push(Im.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||6===this.version||t.push(Im.writeChecksum(this.keyMaterial))),Im.concatUint8Array(t)}isDecrypted(){return!1===this.isEncrypted}isMissingSecretKeyMaterial(){return void 0!==this.unparseableKeyMaterial||this.isDummy()}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=Vk(km.s2k.gnu,e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=km.symmetric.aes256,this.isLegacyAEAD=null,this.usedModernAEAD=null)}async encrypt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=qk(t),this.s2k.generateSalt();const n=Kk.serializeParams(this.algorithm,this.privateParams);this.symmetric=km.symmetric.aes256;const{blockSize:r}=Kk.getCipherParams(this.symmetric);if(t.aeadProtect){this.s2kUsage=253,this.aead=t.preferredAEADAlgorithm;const i=Kk.getAEADMode(this.aead);this.isLegacyAEAD=5===this.version,this.usedModernAEAD=!this.isLegacyAEAD;const s=EA(this.constructor.tag),a=await pS(this.version,this.s2k,e,this.symmetric,this.aead,s,this.isLegacyAEAD),o=await i(this.symmetric,a);this.iv=this.isLegacyAEAD?Kk.random.getRandomBytes(r):Kk.random.getRandomBytes(i.ivLength);const c=this.isLegacyAEAD?new Uint8Array:Im.concatUint8Array([s,this.writePublicKey()]);this.keyMaterial=await o.encrypt(n,this.iv.subarray(0,i.ivLength),c)}else{this.s2kUsage=254,this.usedModernAEAD=!1;const i=await pS(this.version,this.s2k,e,this.symmetric);this.iv=Kk.random.getRandomBytes(r),this.keyMaterial=await Kk.mode.cfb.encrypt(this.symmetric,i,Im.concatUint8Array([n,await Kk.hash.sha1(n,t)]),this.iv,t)}}async decrypt(e){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let t;const n=EA(this.constructor.tag);if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let r;if(t=await pS(this.version,this.s2k,e,this.symmetric,this.aead,n,this.isLegacyAEAD),253===this.s2kUsage){const i=Kk.getAEADMode(this.aead),s=await i(this.symmetric,t);try{const e=this.isLegacyAEAD?new Uint8Array:Im.concatUint8Array([n,this.writePublicKey()]);r=await s.decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),e)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{const e=await Kk.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);const n=await Kk.hash.sha1(r);if(!Im.equalsUint8Array(n,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:e}=Kk.parsePrivateKeyParams(this.algorithm,r,this.publicParams);this.privateParams=e}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0,this.aead=null,this.symmetric=null,this.isLegacyAEAD=null}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");if(this.usedModernAEAD)return;let e;try{e=await Kk.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(zg){e=!1}if(!e)throw Error("Key is invalid")}async generate(e,t){if(6===this.version&&(this.algorithm===km.publicKey.ecdh&&t===km.curve.curve25519Legacy||this.algorithm===km.publicKey.eddsaLegacy))throw Error(`Cannot generate v6 keys of type 'ecc' with curve ${t}. Generate a key of type 'curve25519' instead`);const{privateParams:n,publicParams:r}=await Kk.generateParams(this.algorithm,e,t);this.privateParams=n,this.publicParams=r,this.isEncrypted=!1}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function pS(e,t,n,r,i,s,a){if("argon2"===t.type&&!i)throw Error("Using Argon2 S2K without AEAD is not allowed");if("simple"===t.type&&6===e)throw Error("Using Simple S2K with version 6 keys is not allowed");const{keySize:o}=Kk.getCipherParams(r),c=await t.produceKey(n,o);if(!i||5===e||a)return c;const u=Im.concatUint8Array([s,new Uint8Array([e,r,i])]);return zA(km.hash.sha256,c,new Uint8Array,u,o)}class yS{static get tag(){return km.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(Im.isString(e)||e.name&&!Im.isString(e.name)||e.email&&!Im.isEmailAddress(e.email)||e.comment&&!Im.isString(e.comment))throw Error("Invalid user ID format");const t=new yS;Object.assign(t,e);const n=[];return t.name&&n.push(t.name),t.comment&&n.push(`(${t.comment})`),t.email&&n.push(`<${t.email}>`),t.userID=n.join(" "),t}read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;const n=Im.decodeUTF8(e);if(n.length>t.maxUserIDLength)throw Error("User ID string is too long");const r=/^(?<name>[^()]+\s+)?(?<comment>\([^()]+\)\s+)?(?<email><\S+@\S+>)$/.exec(n);if(null!==r){const{name:e,comment:t,email:n}=r.groups;this.comment=t?.replace(/^\(|\)|\s$/g,"").trim()||"",this.name=e?.trim()||"",this.email=n.substring(1,n.length-1)}else/^[^\s@]+@[^\s@]+$/.test(n)&&(this.email=n);this.userID=n}write(){return Im.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class gS extends dS{static get tag(){return km.packet.secretSubkey}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em)}}class mS{constructor(e){this.packets=e||new WE}write(){return this.packets.write()}armor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;const t=this.packets.some((e=>e.constructor.tag===GE.tag&&6!==e.version));return jm(km.armor.signature,this.write(),void 0,void 0,void 0,t,e)}getSigningKeyIDs(){return this.packets.map((e=>e.issuerKeyID))}}async function wS(e,t){const n=new gS(e.date,t);return n.packets=null,n.algorithm=km.write(km.publicKey,e.algorithm),await n.generate(e.rsaBits,e.curve),await n.computeFingerprintAndKeyID(),n}async function bS(e,t){const n=new dS(e.date,t);return n.packets=null,n.algorithm=km.write(km.publicKey,e.algorithm),await n.generate(e.rsaBits,e.curve,e.config),await n.computeFingerprintAndKeyID(),n}async function vS(e,t,n,r){let i,s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Date,o=arguments.length>5?arguments[5]:void 0;for(let c=e.length-1;c>=0;c--)try{(!i||e[c].created>=i.created)&&(await e[c].verify(t,n,r,a,void 0,o),i=e[c])}catch(e){s=e}if(!i)throw Im.wrapError(`Could not find valid ${km.read(km.signature,n)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((e,t,n)=>t+" "+n.toLowerCase())),s);return i}function AS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const r=Im.normalizeDate(n);if(null!==r){const n=CS(e,t);return!(e.created<=r&&r<n)}return!1}async function kS(e,t,n,r){const i={};i.key=t,i.bind=e;const s={signatureType:km.signature.subkeyBinding};return n.sign?(s.keyFlags=[km.keyFlags.signData],s.embeddedSignature=await ES(i,[],e,{signatureType:km.signature.keyBinding},n.date,void 0,void 0,void 0,r)):s.keyFlags=[km.keyFlags.encryptCommunication|km.keyFlags.encryptStorage],n.keyExpirationTime>0&&(s.keyExpirationTime=n.keyExpirationTime,s.keyNeverExpires=!1),await ES(i,[],t,s,n.date,void 0,void 0,void 0,r)}async function ES(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8?arguments[8]:void 0;if(n.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!n.isDecrypted())throw Error("Signing key is not decrypted.");const u=new GE;return Object.assign(u,r),u.publicKeyAlgorithm=n.algorithm,u.hashAlgorithm=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0;const s=km.hash.sha256,a=i.preferredHashAlgorithm,o=await Promise.all(e.map((async(e,t)=>(await e.getPrimarySelfSignature(n,r[t],i)).preferredHashAlgorithms))),c=new Map;for(const h of o)for(const e of h)try{const t=km.write(km.hash,e);c.set(t,c.has(t)?c.get(t)+1:1)}catch{}const u=t=>0===e.length||c.get(t)===e.length||t===s,l=()=>{if(0===c.size)return s;const e=Array.from(c.keys()).filter((e=>u(e))).sort(((e,t)=>Kk.hash.getHashByteLength(e)-Kk.hash.getHashByteLength(t)))[0];return Kk.hash.getHashByteLength(e)>=Kk.hash.getHashByteLength(s)?e:s};if(new Set([km.publicKey.ecdsa,km.publicKey.eddsaLegacy,km.publicKey.ed25519,km.publicKey.ed448]).has(t.algorithm)){const e=Kk.getPreferredCurveHashAlgo(t.algorithm,t.publicParams.oid),n=u(a),r=Kk.hash.getHashByteLength(a)>=Kk.hash.getHashByteLength(e);if(n&&r)return a;{const t=l();return Kk.hash.getHashByteLength(t)>=Kk.hash.getHashByteLength(e)?t:e}}return u(a)?a:l()}(t,n,i,s,c),u.rawNotations=[...a],await u.sign(n,e,i,o,c),u}async function SS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,i=arguments.length>4?arguments[4]:void 0;(e=e[n])&&(t[n].length?await Promise.all(e.map((async function(e){e.isExpired(r)||i&&!await i(e)||t[n].some((function(t){return Im.equalsUint8Array(t.writeParams(),e.writeParams())}))||t[n].push(e)}))):t[n]=e)}async function IS(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Date,o=arguments.length>7?arguments[7]:void 0;s=s||e;const c=[];return await Promise.all(r.map((async function(e){try{if(!i||e.issuerKeyID.equals(i.issuerKeyID)){const r=![km.reasonForRevocation.keyRetired,km.reasonForRevocation.keySuperseded,km.reasonForRevocation.userIDInvalid].includes(e.reasonForRevocationFlag);await e.verify(s,t,n,r?null:a,!1,o),c.push(e.issuerKeyID)}}catch(e){}}))),i?(i.revoked=!!c.some((e=>e.equals(i.issuerKeyID)))||i.revoked||!1,i.revoked):c.length>0}function CS(e,t){let n;return!1===t.keyNeverExpires&&(n=e.created.getTime()+1e3*t.keyExpirationTime),n?new Date(n):1/0}function xS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=Im.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.type){case"ecc":try{e.curve=km.write(km.curve,e.curve)}catch(e){throw Error("Unknown curve")}e.curve!==km.curve.ed25519Legacy&&e.curve!==km.curve.curve25519Legacy&&"ed25519"!==e.curve&&"curve25519"!==e.curve||(e.curve=e.sign?km.curve.ed25519Legacy:km.curve.curve25519Legacy),e.sign?e.algorithm=e.curve===km.curve.ed25519Legacy?km.publicKey.eddsaLegacy:km.publicKey.ecdsa:e.algorithm=km.publicKey.ecdh;break;case"curve25519":e.algorithm=e.sign?km.publicKey.ed25519:km.publicKey.x25519;break;case"curve448":e.algorithm=e.sign?km.publicKey.ed448:km.publicKey.x448;break;case"rsa":e.algorithm=km.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+e.type)}return e}function BS(e,t,n){switch(e.algorithm){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:case km.publicKey.dsa:case km.publicKey.ecdsa:case km.publicKey.eddsaLegacy:case km.publicKey.ed25519:case km.publicKey.ed448:if(!t.keyFlags&&!n.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!t.keyFlags||!!(t.keyFlags[0]&km.keyFlags.signData);default:return!1}}function PS(e,t,n){switch(e.algorithm){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaEncrypt:case km.publicKey.elgamal:case km.publicKey.ecdh:case km.publicKey.x25519:case km.publicKey.x448:if(!t.keyFlags&&!n.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!t.keyFlags||!!(t.keyFlags[0]&km.keyFlags.encryptCommunication)||!!(t.keyFlags[0]&km.keyFlags.encryptStorage);default:return!1}}function _S(e,t,n){if(!t.keyFlags&&!n.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");switch(e.algorithm){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaEncrypt:case km.publicKey.elgamal:case km.publicKey.ecdh:case km.publicKey.x25519:case km.publicKey.x448:return!(t.keyFlags&&!(t.keyFlags[0]&km.keyFlags.signData)||!n.allowInsecureDecryptionWithSigningKeys)||!t.keyFlags||!!(t.keyFlags[0]&km.keyFlags.encryptCommunication)||!!(t.keyFlags[0]&km.keyFlags.encryptStorage);default:return!1}}function TS(e,t){const n=km.write(km.publicKey,e.algorithm),r=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(n))throw Error(r.algorithm+" keys are considered too weak.");switch(n){case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:case km.publicKey.rsaEncrypt:if(r.bits<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case km.publicKey.ecdsa:case km.publicKey.eddsaLegacy:case km.publicKey.ecdh:if(t.rejectCurves.has(r.curve))throw Error(`Support for ${r.algorithm} keys using curve ${r.curve} is disabled.`)}}class NS{constructor(e,t){this.userID=e.constructor.tag===km.packet.userID?e:null,this.userAttribute=e.constructor.tag===km.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new WE;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new NS(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,n){const r=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:r},s=new NS(i.userID||i.userAttribute,this.mainKey);return s.otherCertifications=await Promise.all(e.map((async function(e){if(!e.isPrivate())throw Error("Need private key for signing");if(e.hasSameFingerprintAs(r))throw Error("The user's own key can only be used for self-certifications");const s=await e.getSigningKey(void 0,t,void 0,n);return ES(i,[e],s.keyPacket,{signatureType:km.signature.certGeneric,keyFlags:[km.keyFlags.certifyKeys|km.keyFlags.signData]},t,void 0,void 0,void 0,n)}))),await s.update(this,t,n),s}async isRevoked(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=this.mainKey.keyPacket;return IS(i,km.signature.certRevocation,{key:i,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,n,r)}async verifyCertificate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3?arguments[3]:void 0;const i=this,s=this.mainKey.keyPacket,a={userID:this.userID,userAttribute:this.userAttribute,key:s},{issuerKeyID:o}=e,c=t.filter((e=>e.getKeys(o).length>0));return 0===c.length?null:(await Promise.all(c.map((async t=>{const s=await t.getSigningKey(o,e.created,void 0,r);if(e.revoked||await i.isRevoked(e,s.keyPacket,n,r))throw Error("User certificate is revoked");try{await e.verify(s.keyPacket,km.signature.certGeneric,a,n,void 0,r)}catch(e){throw Im.wrapError("User certificate is invalid",e)}}))),!0)}async verifyAllCertifications(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2?arguments[2]:void 0;const r=this,i=this.selfCertifications.concat(this.otherCertifications);return Promise.all(i.map((async i=>({keyID:i.issuerKeyID,valid:await r.verifyCertificate(i,e,t,n).catch((()=>!1))}))))}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1?arguments[1]:void 0;if(!this.selfCertifications.length)throw Error("No self-certifications found");const n=this,r=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:r};let s;for(let a=this.selfCertifications.length-1;a>=0;a--)try{const s=this.selfCertifications[a];if(s.revoked||await n.isRevoked(s,void 0,e,t))throw Error("Self-certification is revoked");try{await s.verify(r,km.signature.certGeneric,i,e,void 0,t)}catch(e){throw Im.wrapError("Self-certification is invalid",e)}return!0}catch(e){s=e}throw s}async update(e,t,n){const r=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:r};await SS(e,this,"selfCertifications",t,(async function(e){try{return await e.verify(r,km.signature.certGeneric,i,t,!1,n),!0}catch(e){return!1}})),await SS(e,this,"otherCertifications",t),await SS(e,this,"revocationSignatures",t,(function(e){return IS(r,km.signature.certRevocation,i,[e],void 0,void 0,t,n)}))}async revoke(e){let{flag:t=km.reasonForRevocation.noReason,string:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const s={userID:this.userID,userAttribute:this.userAttribute,key:e},a=new NS(s.userID||s.userAttribute,this.mainKey);return a.revocationSignatures.push(await ES(s,[],e,{signatureType:km.signature.certRevocation,reasonForRevocationFlag:km.write(km.reasonForRevocation,t),reasonForRevocationString:n},r,void 0,void 0,!1,i)),await a.update(this),a}}class RS{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new WE;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new RS(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=this.mainKey.keyPacket;return IS(i,km.signature.subkeyRevocation,{key:i,bind:this.keyPacket},this.revocationSignatures,e,t,n,r)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;const n=this.mainKey.keyPacket,r={key:n,bind:this.keyPacket},i=await vS(this.bindingSignatures,n,km.signature.subkeyBinding,r,e,t);if(i.revoked||await this.isRevoked(i,null,e,t))throw Error("Subkey is revoked");if(AS(this.keyPacket,i,e))throw Error("Subkey is expired");return i}async getExpirationTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;const n=this.mainKey.keyPacket,r={key:n,bind:this.keyPacket};let i;try{i=await vS(this.bindingSignatures,n,km.signature.subkeyBinding,r,e,t)}catch(e){return null}const s=CS(this.keyPacket,i),a=i.getExpirationTime();return s<a?s:a}async update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===km.packet.publicSubkey&&e.keyPacket.constructor.tag===km.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const i=this,s={key:r,bind:i.keyPacket};await SS(e,this,"bindingSignatures",t,(async function(e){for(let t=0;t<i.bindingSignatures.length;t++)if(i.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>i.bindingSignatures[t].created&&(i.bindingSignatures[t]=e),!1;try{return await e.verify(r,km.signature.subkeyBinding,s,t,void 0,n),!0}catch(e){return!1}})),await SS(e,this,"revocationSignatures",t,(function(e){return IS(r,km.signature.subkeyRevocation,s,[e],void 0,void 0,t,n)}))}async revoke(e){let{flag:t=km.reasonForRevocation.noReason,string:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const s={key:e,bind:this.keyPacket},a=new RS(this.keyPacket,this.mainKey);return a.revocationSignatures.push(await ES(s,[],e,{signatureType:km.signature.subkeyRevocation,reasonForRevocationFlag:km.write(km.reasonForRevocation,t),reasonForRevocationString:n},r,void 0,void 0,!1,i)),await a.update(this),a}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((e=>{RS.prototype[e]=function(){return this.keyPacket[e]()}}));const DS=Im.constructAllowedPackets([GE]),US=new Set([km.packet.publicKey,km.packet.privateKey]),OS=new Set([km.packet.publicKey,km.packet.privateKey,km.packet.publicSubkey,km.packet.privateSubkey]);class LS{packetListToStructure(e){let t,n,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;for(const a of e){if(a instanceof PA){OS.has(a.tag)&&!i&&(i=US.has(a.tag)?US:OS);continue}const e=a.constructor.tag;if(i){if(!i.has(e))continue;i=null}if(s.has(e))throw Error("Unexpected packet type: "+e);switch(e){case km.packet.publicKey:case km.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,n=this.getKeyID(),!n)throw Error("Missing Key ID");break;case km.packet.userID:case km.packet.userAttribute:t=new NS(a,this),this.users.push(t);break;case km.packet.publicSubkey:case km.packet.secretSubkey:t=null,r=new RS(a,this),this.subkeys.push(r);break;case km.packet.signature:switch(a.signatureType){case km.signature.certGeneric:case km.signature.certPersona:case km.signature.certCasual:case km.signature.certPositive:if(!t){Im.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(n)?t.selfCertifications.push(a):t.otherCertifications.push(a);break;case km.signature.certRevocation:t?t.revocationSignatures.push(a):this.directSignatures.push(a);break;case km.signature.key:this.directSignatures.push(a);break;case km.signature.subkeyBinding:if(!r){Im.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}r.bindingSignatures.push(a);break;case km.signature.keyRevocation:this.revocationSignatures.push(a);break;case km.signature.subkeyRevocation:if(!r){Im.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}r.revocationSignatures.push(a)}}}}toPacketList(){const e=new WE;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subkeys.map((t=>e.push(...t.toPacketList()))),e}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;const t={};Object.keys(e.keyPacket.privateParams).forEach((n=>{t[n]=new Uint8Array(e.keyPacket.privateParams[n])})),e.keyPacket.privateParams=t})),t}getSubkeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.subkeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>null!==e))}write(){return this.toPacketList().write()}async getSigningKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;await this.verifyPrimaryKey(t,n,r);const i=this.keyPacket;try{TS(i,r)}catch(e){throw Im.wrapError("Could not verify primary key",e)}const s=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let a;for(const o of s)if(!e||o.getKeyID().equals(e))try{await o.verify(t,r);const e={key:i,bind:o.keyPacket},n=await vS(o.bindingSignatures,i,km.signature.subkeyBinding,e,t,r);if(!BS(o.keyPacket,n,r))continue;if(!n.embeddedSignature)throw Error("Missing embedded signature");return await vS([n.embeddedSignature],o.keyPacket,km.signature.keyBinding,e,t,r),TS(o.keyPacket,r),o}catch(e){a=e}try{const s=await this.getPrimarySelfSignature(t,n,r);if((!e||i.getKeyID().equals(e))&&BS(i,s,r))return TS(i,r),this}catch(e){a=e}throw Im.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),a)}async getEncryptionKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;await this.verifyPrimaryKey(t,n,r);const i=this.keyPacket;try{TS(i,r)}catch(e){throw Im.wrapError("Could not verify primary key",e)}const s=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let a;for(const o of s)if(!e||o.getKeyID().equals(e))try{await o.verify(t,r);const e={key:i,bind:o.keyPacket},n=await vS(o.bindingSignatures,i,km.signature.subkeyBinding,e,t,r);if(PS(o.keyPacket,n,r))return TS(o.keyPacket,r),o}catch(e){a=e}try{const s=await this.getPrimarySelfSignature(t,n,r);if((!e||i.getKeyID().equals(e))&&PS(i,s,r))return TS(i,r),this}catch(e){a=e}throw Im.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),a)}async isRevoked(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;return IS(this.keyPacket,km.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,n,r)}async verifyPrimaryKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.keyPacket;if(await this.isRevoked(null,null,e,n))throw Error("Primary key is revoked");if(AS(r,await this.getPrimarySelfSignature(e,t,n),e))throw Error("Primary key is expired");if(6!==r.version){const t=await vS(this.directSignatures,r,km.signature.key,{key:r},e,n).catch((()=>{}));if(t&&AS(r,t,e))throw Error("Primary key is expired")}}async getExpirationTime(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;try{const r=await this.getPrimarySelfSignature(null,e,n),i=CS(this.keyPacket,r),s=r.getExpirationTime(),a=6!==this.keyPacket.version&&await vS(this.directSignatures,this.keyPacket,km.signature.key,{key:this.keyPacket},null,n).catch((()=>{}));if(a){const e=CS(this.keyPacket,a);t=Math.min(i,s,e)}else t=i<s?i:s}catch(e){t=null}return Im.normalizeDate(t)}async getPrimarySelfSignature(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.keyPacket;if(6===r.version)return vS(this.directSignatures,r,km.signature.key,{key:r},e,n);const{selfCertification:i}=await this.getPrimaryUser(e,t,n);return i}async getPrimaryUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.keyPacket,i=[];let s;for(let u=0;u<this.users.length;u++)try{const s=this.users[u];if(!s.userID)continue;if(void 0!==t.name&&s.userID.name!==t.name||void 0!==t.email&&s.userID.email!==t.email||void 0!==t.comment&&s.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const a={userID:s.userID,key:r},o=await vS(s.selfCertifications,r,km.signature.certGeneric,a,e,n);i.push({index:u,user:s,selfCertification:o})}catch(e){s=e}if(!i.length)throw s||Error("Could not find primary user");await Promise.all(i.map((async function(t){return t.selfCertification.revoked||t.user.isRevoked(t.selfCertification,null,e,n)})));const a=i.sort((function(e,t){const n=e.selfCertification,r=t.selfCertification;return r.revoked-n.revoked||n.isPrimaryUserID-r.isPrimaryUserID||n.created-r.created})).pop(),{user:o,selfCertification:c}=a;if(c.revoked||await o.isRevoked(c,null,e,n))throw Error("Primary user is revoked");return a}async update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(this.subkeys.length!==e.subkeys.length||!this.subkeys.every((t=>e.subkeys.some((e=>t.hasSameFingerprintAs(e))))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,n)}const r=this.clone();return await SS(e,r,"revocationSignatures",t,(i=>IS(r.keyPacket,km.signature.keyRevocation,r,[i],null,e.keyPacket,t,n))),await SS(e,r,"directSignatures",t),await Promise.all(e.users.map((async e=>{const i=r.users.filter((t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute)));if(i.length>0)await Promise.all(i.map((r=>r.update(e,t,n))));else{const t=e.clone();t.mainKey=r,r.users.push(t)}}))),await Promise.all(e.subkeys.map((async e=>{const i=r.subkeys.filter((t=>t.hasSameFingerprintAs(e)));if(i.length>0)await Promise.all(i.map((r=>r.update(e,t,n))));else{const t=e.clone();t.mainKey=r,r.subkeys.push(t)}}))),r}async getRevocationCertificate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;const n={key:this.keyPacket},r=await vS(this.revocationSignatures,this.keyPacket,km.signature.keyRevocation,n,e,t),i=new WE;i.push(r);const s=6!==this.keyPacket.version;return jm(km.armor.publicKey,i.write(),null,null,"This is a revocation certificate",s,t)}async applyRevocationCertificate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=await Fm(e),i=(await WE.fromBinary(r.data,DS,n)).findPacket(km.packet.signature);if(!i||i.signatureType!==km.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!i.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await i.verify(this.keyPacket,km.signature.keyRevocation,{key:this.keyPacket},t,void 0,n)}catch(e){throw Im.wrapError("Could not verify revocation signature",e)}const s=this.clone();return s.revocationSignatures.push(i),s}async signPrimaryUser(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const{index:i,user:s}=await this.getPrimaryUser(t,n,r),a=await s.certify(e,t,r),o=this.clone();return o.users[i]=a,o}async signAllUsers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.clone();return r.users=await Promise.all(this.users.map((function(r){return r.certify(e,t,n)}))),r}async verifyPrimaryUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=this.keyPacket,{user:s}=await this.getPrimaryUser(t,n,r);return e?await s.verifyAllCertifications(e,t,r):[{keyID:i.getKeyID(),valid:await s.verify(t,r).catch((()=>!1))}]}async verifyAllUsers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.keyPacket,i=[];return await Promise.all(this.users.map((async s=>{const a=e?await s.verifyAllCertifications(e,t,n):[{keyID:r.getKeyID(),valid:await s.verify(t,n).catch((()=>!1))}];i.push(...a.map((e=>({userID:s.userID?s.userID.userID:null,userAttribute:s.userAttribute,keyID:e.keyID,valid:e.valid}))))}))),i}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((e=>{LS.prototype[e]=RS.prototype[e]}));class MS extends LS{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([km.packet.secretKey,km.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;const t=6!==this.keyPacket.version;return jm(km.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,t,e)}}class KS extends MS{constructor(e){if(super(),this.packetListToStructure(e,new Set([km.packet.publicKey,km.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new WE,t=this.toPacketList();for(const n of t)switch(n.constructor.tag){case km.packet.secretKey:{const t=lS.fromSecretKeyPacket(n);e.push(t);break}case km.packet.secretSubkey:{const t=hS.fromSecretSubkeyPacket(n);e.push(t);break}default:e.push(n)}return new MS(e)}armor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;const t=6!==this.keyPacket.version;return jm(km.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,t,e)}async getDecryptionKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=this.keyPacket,s=[];let a=null;for(let c=0;c<this.subkeys.length;c++)if(!e||this.subkeys[c].getKeyID().equals(e,!0)){if(this.subkeys[c].keyPacket.isDummy()){a=a||Error("Gnu-dummy key packets cannot be used for decryption");continue}try{const e={key:i,bind:this.subkeys[c].keyPacket},n=await vS(this.subkeys[c].bindingSignatures,i,km.signature.subkeyBinding,e,t,r);_S(this.subkeys[c].keyPacket,n,r)&&s.push(this.subkeys[c])}catch(e){a=e}}const o=await this.getPrimarySelfSignature(t,n,r);if(e&&!i.getKeyID().equals(e,!0)||!_S(i,o,r)||(i.isDummy()?a=a||Error("Gnu-dummy key packets cannot be used for decryption"):s.push(this)),0===s.length)throw a||Error("No decryption key packets found");return s}isDecrypted(){return this.getKeys().some((e=>{let{keyPacket:t}=e;return t.isDecrypted()}))}async validate(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;if(!this.isPrivate())throw Error("Cannot validate a public key");if(this.keyPacket.isDummy()){const n=await this.getSigningKey(null,null,void 0,{...t,rejectPublicKeyAlgorithms:new Set,minRSABits:0});n&&!n.keyPacket.isDummy()&&(e=n.keyPacket)}else e=this.keyPacket;if(e)return e.validate();{const e=this.getKeys();if(e.map((e=>e.keyPacket.isDummy())).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map((async e=>e.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((e=>{let{keyPacket:t}=e;t.isDecrypted()&&t.clearPrivateParams()}))}async revoke(){let{flag:e=km.reasonForRevocation.noReason,string:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;if(!this.isPrivate())throw Error("Need private key for revoking");const i={key:this.keyPacket},s=this.clone();return s.revocationSignatures.push(await ES(i,[],this.keyPacket,{signatureType:km.signature.keyRevocation,reasonForRevocationFlag:km.write(km.reasonForRevocation,e),reasonForRevocationString:t},n,void 0,void 0,void 0,r)),s}async addSubkey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...Em,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const n=this.keyPacket;if(n.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!n.isDecrypted())throw Error("Key is not decrypted");const r=n.getAlgorithmInfo();r.type=function(e){switch(km.write(km.publicKey,e)){case km.publicKey.rsaEncrypt:case km.publicKey.rsaEncryptSign:case km.publicKey.rsaSign:case km.publicKey.dsa:return"rsa";case km.publicKey.ecdsa:case km.publicKey.eddsaLegacy:return"ecc";case km.publicKey.ed25519:return"curve25519";case km.publicKey.ed448:return"curve448";default:throw Error("Unsupported algorithm")}}(r.algorithm),r.rsaBits=r.bits||4096,r.curve=r.curve||"curve25519Legacy",e=xS(e,r);const i=await wS(e,{...t,v6Keys:6===this.keyPacket.version});TS(i,t);const s=await kS(i,n,e,t),a=this.toPacketList();return a.push(i,s),new KS(a)}}const FS=Im.constructAllowedPackets([lS,hS,dS,gS,yS,fS,GE]);function jS(e){for(const t of e)switch(t.constructor.tag){case km.packet.secretKey:return new KS(e);case km.packet.publicKey:return new MS(e)}throw Error("No key packet found")}async function QS(e,t,n,r){n.passphrase&&await e.encrypt(n.passphrase,r),await Promise.all(t.map((async function(e,t){const i=n.subkeys[t].passphrase;i&&await e.encrypt(i,r)})));const i=new WE;function s(e,t){return[t,...e.filter((e=>e!==t))]}function a(){const e={};e.keyFlags=[km.keyFlags.certifyKeys|km.keyFlags.signData];const t=s([km.symmetric.aes256,km.symmetric.aes128],r.preferredSymmetricAlgorithm);if(e.preferredSymmetricAlgorithms=t,r.aeadProtect){const n=s([km.aead.gcm,km.aead.eax,km.aead.ocb],r.preferredAEADAlgorithm);e.preferredCipherSuites=n.flatMap((e=>t.map((t=>[t,e]))))}return e.preferredHashAlgorithms=s([km.hash.sha512,km.hash.sha256,km.hash.sha3_512,km.hash.sha3_256],r.preferredHashAlgorithm),e.preferredCompressionAlgorithms=s([km.compression.uncompressed,km.compression.zlib,km.compression.zip],r.preferredCompressionAlgorithm),e.features=[0],e.features[0]|=km.features.modificationDetection,r.aeadProtect&&(e.features[0]|=km.features.seipdv2),n.keyExpirationTime>0&&(e.keyExpirationTime=n.keyExpirationTime,e.keyNeverExpires=!1),e}if(i.push(e),6===e.version){const t={key:e},s=a();s.signatureType=km.signature.key;const o=await ES(t,[],e,s,n.date,void 0,void 0,void 0,r);i.push(o)}await Promise.all(n.userIDs.map((async function(t,i){const s=yS.fromObject(t),o={userID:s,key:e},c=6!==e.version?a():{};return c.signatureType=km.signature.certPositive,0===i&&(c.isPrimaryUserID=!0),{userIDPacket:s,signaturePacket:await ES(o,[],e,c,n.date,void 0,void 0,void 0,r)}}))).then((e=>{e.forEach((e=>{let{userIDPacket:t,signaturePacket:n}=e;i.push(t),i.push(n)}))})),await Promise.all(t.map((async function(t,i){const s=n.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await kS(t,e,s,r)}}))).then((e=>{e.forEach((e=>{let{secretSubkeyPacket:t,subkeySignaturePacket:n}=e;i.push(t),i.push(n)}))}));const o={key:e};return i.push(await ES(o,[],e,{signatureType:km.signature.keyRevocation,reasonForRevocationFlag:km.reasonForRevocation.noReason,reasonForRevocationString:""},n.date,void 0,void 0,void 0,r)),n.passphrase&&e.clearPrivateParams(),await Promise.all(t.map((async function(e,t){n.subkeys[t].passphrase&&e.clearPrivateParams()}))),new KS(i)}async function zS(e){let{armoredKey:t,binaryKey:n,config:r,...i}=e;if(r={...Em,...r},!t&&!n)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(t&&!Im.isString(t))throw Error("readKey: options.armoredKey must be a string");if(n&&!Im.isUint8Array(n))throw Error("readKey: options.binaryKey must be a Uint8Array");const s=Object.keys(i);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let a;if(t){const{type:e,data:n}=await Fm(t);if(e!==km.armor.publicKey&&e!==km.armor.privateKey)throw Error("Armored text not of type key");a=n}else a=n;const o=await WE.fromBinary(a,FS,r),c=o.indexOfTag(km.packet.publicKey,km.packet.secretKey);if(0===c.length)throw Error("No key packet found");return jS(o.slice(c[0],c[1]))}const HS=Im.constructAllowedPackets([uS]),GS=Im.constructAllowedPackets([GE]);class VS{constructor(e){this.packets=e||new WE}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(km.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),t=e.packets.filterByTag(km.packet.onePassSignature);return t.length>0?t.map((e=>e.issuerKeyID)):e.packets.filterByTag(km.packet.signature).map((e=>e.issuerKeyID))}async decrypt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Em;const s=this.packets.filterByTag(km.packet.symmetricallyEncryptedData,km.packet.symEncryptedIntegrityProtectedData,km.packet.aeadEncryptedData);if(0===s.length)throw Error("No encrypted data found");const a=s[0],o=a.cipherAlgorithm,c=n||await this.decryptSessionKeys(e,t,o,r,i);let u=null;const l=Promise.all(c.map((async e=>{let{algorithm:t,data:n}=e;if(!Im.isUint8Array(n)||!a.cipherAlgorithm&&!Im.isString(t))throw Error("Invalid session key for decryption.");try{const e=a.cipherAlgorithm||km.write(km.symmetric,t);await a.decrypt(e,n,i)}catch(t){Im.printDebugError(t),u=t}})));if(mm(a.encrypted),a.encrypted=null,await l,!a.packets||!a.packets.length)throw u||Error("Decryption failed.");const h=new VS(a.packets);return a.packets=new WE,h}async decryptSessionKeys(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Em,a=[];if(t){const e=this.packets.filterByTag(km.packet.symEncryptedSessionKey);if(0===e.length)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(t,n){let i;i=n?await WE.fromBinary(e.write(),HS,s):e,await Promise.all(i.map((async function(e){try{await e.decrypt(t),a.push(e)}catch(e){Im.printDebugError(e),e instanceof Fk&&(r=e)}})))})))}else{if(!e)throw Error("No key or password specified.");{const t=this.packets.filterByTag(km.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw Error("No public key encrypted session key packet found.");await Promise.all(t.map((async function(t){await Promise.all(e.map((async function(e){let o;try{o=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,s)).map((e=>e.keyPacket))}catch(e){return void(r=e)}let c=[km.symmetric.aes256,km.symmetric.aes128,km.symmetric.tripledes,km.symmetric.cast5];try{const t=await e.getPrimarySelfSignature(i,void 0,s);t.preferredSymmetricAlgorithms&&(c=c.concat(t.preferredSymmetricAlgorithms))}catch(e){}await Promise.all(o.map((async function(e){if(!e.isDecrypted())throw Error("Decryption key is not decrypted.");if(!s.constantTimePKCS1Decryption||t.publicKeyAlgorithm!==km.publicKey.rsaEncrypt&&t.publicKeyAlgorithm!==km.publicKey.rsaEncryptSign&&t.publicKeyAlgorithm!==km.publicKey.rsaSign&&t.publicKeyAlgorithm!==km.publicKey.elgamal)try{await t.decrypt(e);const r=n||t.sessionKeyAlgorithm;if(r&&!c.includes(km.write(km.symmetric,r)))throw Error("A non-preferred symmetric algorithm was used.");a.push(t)}catch(e){Im.printDebugError(e),r=e}else{const i=t.write();await Promise.all((n?[n]:Array.from(s.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms)).map((async t=>{const n=new oS;n.read(i);const s={sessionKeyAlgorithm:t,sessionKey:Kk.generateSessionKey(t)};try{await n.decrypt(e,s),a.push(n)}catch(e){Im.printDebugError(e),r=e}})))}})))}))),mm(t.encrypted),t.encrypted=null})))}}if(a.length>0){if(a.length>1){const e=new Set;a=a.filter((t=>{const n=t.sessionKeyAlgorithm+Im.uint8ArrayToString(t.sessionKey);return!e.has(n)&&(e.add(n),!0)}))}return a.map((e=>({data:e.sessionKey,algorithm:e.sessionKeyAlgorithm&&km.read(km.symmetric,e.sessionKeyAlgorithm)})))}throw r||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(km.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(km.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(km.packet.literalData);return e?e.getText():null}static async generateSessionKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const{symmetricAlgo:i,aeadAlgo:s}=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=await Promise.all(e.map(((e,i)=>e.getPrimarySelfSignature(t,n[i],r))));if(e.length?i.every((e=>e.features&&e.features[0]&km.features.seipdv2)):r.aeadProtect){const e={symmetricAlgo:km.symmetric.aes128,aeadAlgo:km.aead.ocb},t=[{symmetricAlgo:r.preferredSymmetricAlgorithm,aeadAlgo:r.preferredAEADAlgorithm},{symmetricAlgo:r.preferredSymmetricAlgorithm,aeadAlgo:km.aead.ocb},{symmetricAlgo:km.symmetric.aes128,aeadAlgo:r.preferredAEADAlgorithm}];for(const n of t)if(i.every((e=>e.preferredCipherSuites&&e.preferredCipherSuites.some((e=>e[0]===n.symmetricAlgo&&e[1]===n.aeadAlgo)))))return n;return e}const s=km.symmetric.aes128,a=r.preferredSymmetricAlgorithm;return{symmetricAlgo:i.every((e=>e.preferredSymmetricAlgorithms&&e.preferredSymmetricAlgorithms.includes(a)))?a:s,aeadAlgo:void 0}}(e,t,n,r),a=km.read(km.symmetric,i),o=s?km.read(km.aead,s):void 0;return await Promise.all(e.map((e=>e.getEncryptionKey().catch((()=>null)).then((e=>{if(e&&(e.keyPacket.algorithm===km.publicKey.x25519||e.keyPacket.algorithm===km.publicKey.x448)&&!o&&!Im.isAES(i))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 and X448 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))))),{data:Kk.generateSessionKey(i),algorithm:a,aeadAlgorithm:o}}async encrypt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Date,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Em;if(n){if(!Im.isUint8Array(n.data)||!Im.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)n=await VS.generateSessionKey(e,s,a,o);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");n=await VS.generateSessionKey(void 0,void 0,void 0,o)}const{data:c,algorithm:u,aeadAlgorithm:l}=n,h=await VS.encryptSessionKey(c,u,l,e,t,r,i,s,a,o),f=sS.fromObject({version:l?2:1,aeadAlgorithm:l?km.write(km.aead,l):null});f.packets=this.packets;const d=km.write(km.symmetric,u);return await f.encrypt(d,c,o),h.packets.push(f),f.packets=new WE,h}static async encryptSessionKey(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Date,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Em;const l=new WE,h=km.write(km.symmetric,t),f=n&&km.write(km.aead,n);if(r){const t=await Promise.all(r.map((async function(t,n){const r=await t.getEncryptionKey(a[n],o,c,u),i=oS.fromObject({version:f?6:3,encryptionKeyPacket:r.keyPacket,anonymousRecipient:s,sessionKey:e,sessionKeyAlgorithm:h});return await i.encrypt(r.keyPacket),delete i.sessionKey,i})));l.push(...t)}if(i){const t=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},n=(e,t)=>e+t,r=async function(e,s,a,o){const c=new uS(u);return c.sessionKey=e,c.sessionKeyAlgorithm=s,a&&(c.aeadAlgorithm=a),await c.encrypt(o,u),u.passwordCollisionCheck&&1!==(await Promise.all(i.map((e=>t(c,e))))).reduce(n)?r(e,s,o):(delete c.sessionKey,c)},s=await Promise.all(i.map((t=>r(e,h,f,t))));l.push(...s)}return new VS(l)}async sign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Date,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Em;const u=new WE,l=this.packets.findPacket(km.packet.literalData);if(!l)throw Error("No literal data packet to sign.");const h=await qS(l,e,t,n,r,i,s,a,o,!1,c),f=h.map(((e,t)=>JE.fromSignaturePacket(e,0===t))).reverse();return u.push(...f),u.push(l),u.push(...h),new VS(u)}compress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;if(e===km.compression.uncompressed)return this;const n=new ZE(t);n.algorithm=e,n.packets=this.packets;const r=new WE;return r.push(n),new VS(r)}async signDetached(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Date,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Em;const u=this.packets.findPacket(km.packet.literalData);if(!u)throw Error("No literal data packet to sign.");return new mS(await qS(u,e,t,n,r,i,s,a,o,!0,c))}async verify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Em;const r=this.unwrapCompressed(),i=r.packets.filterByTag(km.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");$g(r.packets.stream)&&r.packets.push(...await gm(r.packets.stream,(e=>e||[])));const s=r.packets.filterByTag(km.packet.onePassSignature).reverse(),a=r.packets.filterByTag(km.packet.signature);return s.length&&!a.length&&Im.isStream(r.packets.stream)&&!$g(r.packets.stream)?(await Promise.all(s.map((async e=>{e.correspondingSig=new Promise(((t,n)=>{e.correspondingSigResolve=t,e.correspondingSigReject=n})),e.signatureData=wm((async()=>(await e.correspondingSig).signatureData)),e.hashed=gm(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch((()=>{}))}))),r.packets.stream=lm(r.packets.stream,(async(e,t)=>{const n=bm(e),r=vm(t);try{for(let e=0;e<s.length;e++){const{value:t}=await n.read();s[e].correspondingSigResolve(t)}await n.readToEnd(),await r.ready,await r.close()}catch(e){s.forEach((t=>{t.correspondingSigReject(e)})),await r.abort(e)}})),JS(s,i,e,t,!1,n)):JS(a,i,e,t,!1,n)}verifyDetached(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=this.unwrapCompressed().packets.filterByTag(km.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");return JS(e.packets.filterByTag(km.packet.signature),i,t,n,!0,r)}unwrapCompressed(){const e=this.packets.filterByTag(km.packet.compressedData);return e.length?new VS(e[0].packets):this}async appendSignature(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em;await this.packets.read(Im.isUint8Array(e)?e:(await Fm(e)).data,GS,t)}write(){return this.packets.write()}armor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em;const t=this.packets[this.packets.length-1],n=t.constructor.tag===sS.tag?2!==t.version:this.packets.some((e=>e.constructor.tag===GE.tag&&6!==e.version));return jm(km.armor.message,this.write(),null,null,null,n,e)}}async function qS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Date,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Em;const h=new WE,f=null===e.text?km.signature.binary:km.signature.text;if(await Promise.all(t.map((async(t,r)=>{const h=a[r];if(!t.isPrivate())throw Error("Need private key for signing");const d=await t.getSigningKey(i[r],s,h,l);return ES(e,n.length?n:[t],d.keyPacket,{signatureType:f},s,o,c,u,l)}))).then((e=>{h.push(...e)})),r){const e=r.packets.filterByTag(km.packet.signature);h.push(...e)}return h}async function JS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Em;return Promise.all(e.filter((function(e){return["text","binary"].includes(km.read(km.signature,e.signatureType))})).map((async function(e){return async function(e,t,n){let r,i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Em;for(const l of n){const t=l.getKeys(e.issuerKeyID);if(t.length>0){r=l,i=t[0];break}}const c=e instanceof JE?e.correspondingSig:e,u={keyID:e.issuerKeyID,verified:(async()=>{if(!i)throw Error("Could not find signing key with key ID "+e.issuerKeyID.toHex());await e.verify(i.keyPacket,e.signatureType,t[0],s,a,o);const n=await c;if(i.getCreationTime()>n.created)throw Error("Key is newer than the signature");try{await r.getSigningKey(i.getKeyID(),n.created,void 0,o)}catch(e){if(!o.allowInsecureVerificationWithReformattedKeys||!e.message.match(/Signature creation time is in the future/))throw e;await r.getSigningKey(i.getKeyID(),s,void 0,o)}return!0})(),signature:(async()=>{const e=await c,t=new WE;return e&&t.push(e),new mS(t)})()};return u.signature.catch((()=>{})),u.verified.catch((()=>{})),u}(e,t,n,r,i,s)})))}async function $S(e){let{text:t,binary:n,filename:r,date:i=new Date,format:s=(void 0!==t?"utf8":"binary"),...a}=e;const o=void 0!==t?t:n;if(void 0===o)throw Error("createMessage: must pass options object containing `text` or `binary`");if(t&&!Im.isString(t)&&!Im.isStream(t))throw Error("createMessage: options.text must be a string or stream");if(n&&!Im.isUint8Array(n)&&!Im.isStream(n))throw Error("createMessage: options.binary must be a Uint8Array or stream");const c=Object.keys(a);if(c.length>0)throw Error("Unknown option: "+c.join(", "));const u=Im.isStream(o),l=new FE(i);void 0!==t?l.setText(o,km.write(km.literal,s)):l.setBytes(o,km.write(km.literal,s)),void 0!==r&&l.setFilename(r);const h=new WE;h.push(l);const f=new VS(h);return f.fromStream=u,f}async function WS(e){let{userIDs:t=[],passphrase:n,type:r,curve:i,rsaBits:s=4096,keyExpirationTime:a=0,date:o=new Date,subkeys:c=[{}],format:u="armored",config:l,...h}=e;eI(l={...Em,...l}),r||i?(r=r||"ecc",i=i||"curve25519Legacy"):(r=l.v6Keys?"curve25519":"ecc",i="curve25519Legacy"),t=tI(t);const f=Object.keys(h);if(f.length>0)throw Error("Unknown option: "+f.join(", "));if(0===t.length&&!l.v6Keys)throw Error("UserIDs are required for V4 keys");if("rsa"===r&&s<l.minRSABits)throw Error(`rsaBits should be at least ${l.minRSABits}, got: ${s}`);const d={userIDs:t,passphrase:n,type:r,rsaBits:s,curve:i,keyExpirationTime:a,date:o,subkeys:c};try{const{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=xS(e)).subkeys=e.subkeys.map(((t,n)=>xS(e.subkeys[n],e)));let n=[bS(e,t)];n=n.concat(e.subkeys.map((e=>wS(e,t))));const r=await Promise.all(n),i=await QS(r[0],r.slice(1),e,t),s=await i.getRevocationCertificate(e.date,t);return i.revocationSignatures=[],{key:i,revocationCertificate:s}}(d,l);return e.getKeys().forEach((e=>{let{keyPacket:t}=e;return TS(t,l)})),{privateKey:rI(e,u,l),publicKey:rI(e.toPublic(),u,l),revocationCertificate:t}}catch(t){throw Im.wrapError("Error generating keypair",t)}}function YS(e){if(!(e instanceof VS))throw Error("Parameter [message] needs to be of type Message")}function ZS(e){if("armored"!==e&&"binary"!==e&&"object"!==e)throw Error("Unsupported format "+e)}const XS=Object.keys(Em).length;function eI(e){const t=Object.keys(e);if(t.length!==XS)for(const n of t)if(void 0===Em[n])throw Error("Unknown config property: "+n)}function tI(e){return e&&!Im.isArray(e)&&(e=[e]),e}async function nI(e){return"array"===Im.isStream(e)?gm(e):e}function rI(e,t,n){switch(t){case"object":return e;case"armored":return e.armor(n);case"binary":return e.write();default:throw Error("Unsupported format "+t)}}function iI(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, not "+e)}function sI(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name))throw Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function aI(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function oI(e,t){sI(e);const n=t.outputLen;if(e.length<n)throw Error("digestInto() expects output buffer of length at least "+n)}const cI="object"==typeof Qg&&"crypto"in Qg?Qg.crypto:void 0,uI=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),lI=(e,t)=>e<<32-t|e>>>t,hI=(e,t)=>e<<t|e>>>32-t>>>0,fI=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function dI(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function pI(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function yI(e){return"string"==typeof e&&(e=pI(e)),sI(e),e}function gI(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];sI(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class mI{clone(){return this._cloneInto()}}function wI(e){const t=t=>e().update(yI(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function bI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(cI&&"function"==typeof cI.getRandomValues)return cI.getRandomValues(new Uint8Array(e));if(cI&&"function"==typeof cI.randomBytes)return cI.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}const vI=(e,t,n)=>e&t^~e&n,AI=(e,t,n)=>e&t^e&n^t&n;class kI extends mI{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=uI(this.buffer)}update(e){aI(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=yI(e)).length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a!==r)n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=uI(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){aI(this),oI(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let l=s;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,o,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=uI(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)a.setUint32(4*l,u[l],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const EI=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SI=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),II=new Uint32Array(64);class CI extends kI{constructor(){super(64,32,8,!1),this.A=0|SI[0],this.B=0|SI[1],this.C=0|SI[2],this.D=0|SI[3],this.E=0|SI[4],this.F=0|SI[5],this.G=0|SI[6],this.H=0|SI[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:a,H:o}=this;return[e,t,n,r,i,s,a,o]}set(e,t,n,r,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let l=0;l<16;l++,t+=4)II[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const e=II[l-15],t=II[l-2],n=lI(e,7)^lI(e,18)^e>>>3,r=lI(t,17)^lI(t,19)^t>>>10;II[l]=r+II[l-7]+n+II[l-16]|0}let{A:n,B:r,C:i,D:s,E:a,F:o,G:c,H:u}=this;for(let l=0;l<64;l++){const e=u+(lI(a,6)^lI(a,11)^lI(a,25))+vI(a,o,c)+EI[l]+II[l]|0,t=(lI(n,2)^lI(n,13)^lI(n,22))+AI(n,r,i)|0;u=c,c=o,o=a,a=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,s,a,o,c,u)}roundClean(){II.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class xI extends CI{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const BI=wI((()=>new CI)),PI=wI((()=>new xI));class _I extends mI{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");iI(e.outputLen),iI(e.blockLen)}(e);const n=yI(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return aI(this),this.iHash.update(e),this}digestInto(e){aI(this),sI(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const TI=(e,t,n)=>new _I(e,t).update(n).digest();TI.create=(e,t)=>new _I(e,t);const NI=BigInt(0),RI=BigInt(1),DI=BigInt(2);function UI(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function OI(e){if(!UI(e))throw Error("Uint8Array expected")}function LI(e,t){if("boolean"!=typeof t)throw Error(`${e} must be valid boolean, got "${t}".`)}const MI=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function KI(e){OI(e);let t="";for(let n=0;n<e.length;n++)t+=MI[e[n]];return t}function FI(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function jI(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x"+e)}const QI=48,zI=57,HI=65,GI=70,VI=97,qI=102;function JI(e){return e>=QI&&e<=zI?e-QI:e>=HI&&e<=GI?e-(HI-10):e>=VI&&e<=qI?e-(VI-10):void 0}function $I(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=JI(e.charCodeAt(s)),n=JI(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function WI(e){return jI(KI(e))}function YI(e){return OI(e),jI(KI(Uint8Array.from(e).reverse()))}function ZI(e,t){return $I(e.toString(16).padStart(2*t,"0"))}function XI(e,t){return ZI(e,t).reverse()}function eC(e,t,n){let r;if("string"==typeof t)try{r=$I(t)}catch(n){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!UI(t))throw Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw Error(`${e} expected ${n} bytes, got ${i}`);return r}function tC(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];OI(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const nC=e=>"bigint"==typeof e&&NI<=e;function rC(e,t,n){return nC(e)&&nC(t)&&nC(n)&&t<=e&&e<n}function iC(e,t,n,r){if(!rC(t,n,r))throw Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function sC(e){let t;for(t=0;e>NI;e>>=RI,t+=1);return t}const aC=e=>(DI<<BigInt(e-1))-RI,oC=e=>new Uint8Array(e),cC=e=>Uint8Array.from(e);function uC(e,t,n){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof n)throw Error("hmacFn must be a function");let r=oC(e),i=oC(e),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oC();i=o(cC([0]),e),r=o(),0!==e.length&&(i=o(cC([1]),e),r=o())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return tC(...n)};return(e,t)=>{let n;for(a(),c(e);!(n=t(u()));)c();return a(),n}}const lC={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||UI(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function hC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=lC[n];if("function"!=typeof i)throw Error(`Invalid validator "${n}", expected function`);const s=e[t];if(!(r&&void 0===s||i(s,e)))throw Error(`Invalid param ${t+""}=${s} (${typeof s}), expected ${n}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function fC(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];const o=e(n,...s);return t.set(n,o),o}}var dC=Object.freeze({__proto__:null,aInRange:iC,abool:LI,abytes:OI,bitGet:function(e,t){return e>>BigInt(t)&RI},bitLen:sC,bitMask:aC,bitSet:function(e,t,n){return e|(n?RI:NI)<<BigInt(t)},bytesToHex:KI,bytesToNumberBE:WI,bytesToNumberLE:YI,concatBytes:tC,createHmacDrbg:uC,ensureBytes:eC,equalBytes:function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},hexToBytes:$I,hexToNumber:jI,inRange:rC,isBytes:UI,memoized:fC,notImplemented:()=>{throw Error("not implemented")},numberToBytesBE:ZI,numberToBytesLE:XI,numberToHexUnpadded:FI,numberToVarBytesBE:function(e){return $I(FI(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},validateObject:hC});const pC=BigInt(0),yC=BigInt(1),gC=BigInt(2),mC=BigInt(3),wC=BigInt(4),bC=BigInt(5),vC=BigInt(8);function AC(e,t){const n=e%t;return n>=pC?n:t+n}function kC(e,t,n){if(n<=pC||t<pC)throw Error("Expected power/modulo > 0");if(n===yC)return pC;let r=yC;for(;t>pC;)t&yC&&(r=r*e%n),e=e*e%n,t>>=yC;return r}function EC(e,t,n){let r=e;for(;t-- >pC;)r*=r,r%=n;return r}function SC(e,t){if(e===pC||t<=pC)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=AC(e,t),r=t,i=pC,s=yC;for(;n!==pC;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==yC)throw Error("invert: does not exist");return AC(i,t)}BigInt(9),BigInt(16);const IC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CC(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function xC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=pC)throw Error("Expected Field ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=CC(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");const a=function(e){if(e%wC===mC){const t=(e+yC)/wC;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw Error("Cannot find square root");return r}}if(e%vC===bC){const t=(e-bC)/vC;return function(e,n){const r=e.mul(n,gC),i=e.pow(r,t),s=e.mul(n,i),a=e.mul(e.mul(s,gC),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),n))throw Error("Cannot find square root");return o}}return function(e){const t=(e-yC)/gC;let n,r,i;for(n=e-yC,r=0;n%gC===pC;n/=gC,r++);for(i=gC;i<e&&kC(i,t,e)!==e-yC;i++);if(1===r){const t=(e+yC)/wC;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw Error("Cannot find square root");return r}}const s=(n+yC)/gC;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,i),n),u=e.pow(a,s),l=e.pow(a,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,yC<<BigInt(o-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:aC(i),ZERO:pC,ONE:yC,create:t=>AC(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("Invalid field element: expected bigint, got "+typeof t);return pC<=t&&t<e},is0:e=>e===pC,isOdd:e=>(e&yC)===yC,neg:t=>AC(-t,e),eql:(e,t)=>e===t,sqr:t=>AC(t*t,e),add:(t,n)=>AC(t+n,e),sub:(t,n)=>AC(t-n,e),mul:(t,n)=>AC(t*n,e),pow:(e,t)=>function(e,t,n){if(n<pC)throw Error("Expected power > 0");if(n===pC)return e.ONE;if(n===yC)return t;let r=e.ONE,i=t;for(;n>pC;)n&yC&&(r=e.mul(r,i)),i=e.sqr(i),n>>=yC;return r}(o,e,t),div:(t,n)=>AC(t*SC(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>SC(t,e),sqrt:r.sqrt||(e=>a(o,e)),invertBatch:e=>function(e,t){const n=Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?XI(e,s):ZI(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return n?YI(e):WI(e)}});return Object.freeze(o)}function BC(e){if("bigint"!=typeof e)throw Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function PC(e){const t=BC(e);return t+Math.ceil(t/2)}const _C=BigInt(0),TC=BigInt(1),NC=new WeakMap,RC=new WeakMap;function DC(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>(r(e),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>_C;)n&TC&&(r=r.add(i)),i=i.double(),n>>=TC;return r},precomputeWindow(e,t){const{windows:n,windowSize:r}=i(t),s=[];let a=e,o=a;for(let i=0;i<n;i++){o=a,s.push(o);for(let e=1;e<r;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,r,s){const{windows:a,windowSize:o}=i(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*o;let i=Number(s&l);s>>=f,i>o&&(i-=h,s+=TC);const a=t,d=t+Math.abs(i)-1,p=e%2!=0,y=i<0;0===i?u=u.add(n(p,r[a])):c=c.add(n(y,r[d]))}return{p:c,f:u}},wNAFCached(e,t,n){const r=RC.get(e)||1;let i=NC.get(e);return i||(i=this.precomputeWindow(e,r),1!==r&&NC.set(e,n(i))),this.wNAF(r,i,t)},setWindowSize(e,t){r(t),RC.set(e,t),NC.delete(e)}}}function UC(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw Error("arrays of points and scalars must have equal length");r.forEach(((e,n)=>{if(!t.isValid(e))throw Error("wrong scalar at index "+n)})),n.forEach(((t,n)=>{if(!(t instanceof e))throw Error("wrong point at index "+n)}));const i=sC(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,o=Array(a+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/s)*s;let u=e.ZERO;for(let l=c;l>=0;l-=s){o.fill(e.ZERO);for(let e=0;e<r.length;e++){const t=r[e],i=Number(t>>BigInt(l)&BigInt(a));o[i]=o[i].add(n[e])}let t=e.ZERO;for(let n=o.length-1,r=e.ZERO;n>0;n--)r=r.add(o[n]),t=t.add(r);if(u=u.add(t),0!==l)for(let e=0;e<s;e++)u=u.double()}return u}function OC(e){return hC(e.Fp,IC.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),hC(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...CC(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function LC(e){void 0!==e.lowS&&LI("lowS",e.lowS),void 0!==e.prehash&&LI("prehash",e.prehash)}const{bytesToNumberBE:MC,hexToBytes:KC}=dC,FC={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_tlv:{encode:(e,t)=>{const{Err:n}=FC;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=FI(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?FI(i.length/2|128):"";return`${FI(e)}${s}${i}${t}`},decode(e,t){const{Err:n}=FC;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const a=t.subarray(r,r+e);if(a.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===a[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of a)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=FC;if(e<jC)throw new t("integer: negative integers are not allowed");let n=FI(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=FC;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return MC(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=FC,i="string"==typeof e?KC(e):e;OI(i);const{v:s,l:a}=r.decode(48,i);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:u,l:l}=r.decode(2,c);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=FC,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},jC=BigInt(0),QC=BigInt(1);BigInt(2);const zC=BigInt(3);function HC(e){const t=function(e){const t=OC(e);return hC(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function a(e){return AC(e,r)}function o(e){return SC(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=function(e){const t=function(e){const t=OC(e);hC(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=xC(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return tC(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){const{a:r,b:i}=t,s=n.sqr(e),a=n.mul(s,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw Error("bad generator point: equation left != right");function o(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!=typeof e){if(UI(e)&&(e=KI(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"==typeof e?e:WI(eC("private key",e,r))}catch(t){throw Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(a=AC(a,s)),iC("private key",a,QC,s),a}function c(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}const u=fC(((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));const o=n.mul(r,t),c=n.mul(i,t),u=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw Error("invZ was invalid");return{x:o,y:c}})),l=fC((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw Error("bad point: x or y not FE");const s=n.sqr(i),o=a(r);if(!n.eql(s,o))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0}));class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(s(eC("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(o(e))}static msm(e,t){return UC(h,r,e,t)}_setWindowSize(e){d.setWindowSize(this,e)}assertValidity(){l(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:i}=this,{px:s,py:a,pz:o}=e,u=n.eql(n.mul(t,o),n.mul(s,i)),l=n.eql(n.mul(r,o),n.mul(a,i));return u&&l}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,zC),{px:s,py:a,pz:o}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,f=n.mul(s,s),d=n.mul(a,a),p=n.mul(o,o),y=n.mul(s,a);return y=n.add(y,y),l=n.mul(s,o),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(d,u),u=n.add(d,u),u=n.mul(c,u),c=n.mul(y,c),l=n.mul(i,l),p=n.mul(e,p),y=n.sub(f,p),y=n.mul(e,y),y=n.add(y,l),l=n.add(f,f),f=n.add(l,f),f=n.add(f,p),f=n.mul(f,y),u=n.add(u,f),p=n.mul(a,o),p=n.add(p,p),f=n.mul(p,y),c=n.sub(c,f),l=n.mul(p,d),l=n.add(l,l),l=n.add(l,l),new h(c,u,l)}add(e){c(e);const{px:r,py:i,pz:s}=this,{px:a,py:o,pz:u}=e;let l=n.ZERO,f=n.ZERO,d=n.ZERO;const p=t.a,y=n.mul(t.b,zC);let g=n.mul(r,a),m=n.mul(i,o),w=n.mul(s,u),b=n.add(r,i),v=n.add(a,o);b=n.mul(b,v),v=n.add(g,m),b=n.sub(b,v),v=n.add(r,s);let A=n.add(a,u);return v=n.mul(v,A),A=n.add(g,w),v=n.sub(v,A),A=n.add(i,s),l=n.add(o,u),A=n.mul(A,l),l=n.add(m,w),A=n.sub(A,l),d=n.mul(p,v),l=n.mul(y,w),d=n.add(l,d),l=n.sub(m,d),d=n.add(m,d),f=n.mul(l,d),m=n.add(g,g),m=n.add(m,g),w=n.mul(p,w),v=n.mul(y,v),m=n.add(m,w),w=n.sub(g,w),w=n.mul(p,w),v=n.add(v,w),g=n.mul(m,v),f=n.add(f,g),g=n.mul(A,v),l=n.mul(b,l),l=n.sub(l,g),g=n.mul(b,m),d=n.mul(A,d),d=n.add(d,g),new h(l,f,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return d.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){iC("scalar",e,jC,t.n);const r=h.ZERO;if(e===jC)return r;if(e===QC)return this;const{endo:i}=t;if(!i)return d.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:o,k2:c}=i.splitScalar(e),u=r,l=r,f=this;for(;a>jC||c>jC;)a&QC&&(u=u.add(f)),c&QC&&(l=l.add(f)),f=f.double(),a>>=QC,c>>=QC;return s&&(u=u.negate()),o&&(l=l.negate()),l=new h(n.mul(l.px,i.beta),l.py,l.pz),u.add(l)}multiply(e){const{endo:r,n:i}=t;let s,a;if(iC("scalar",e,QC,i),r){const{k1neg:t,k1:i,k2neg:o,k2:c}=r.splitScalar(e);let{p:u,f:l}=this.wNAF(i),{p:f,f:p}=this.wNAF(c);u=d.constTimeNegate(t,u),f=d.constTimeNegate(o,f),f=new h(n.mul(f.px,r.beta),f.py,f.pz),s=u.add(f),a=l.add(p)}else{const{p:t,f:n}=this.wNAF(e);s=t,a=n}return h.normalizeZ([s,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==jC&&t!==QC&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===QC)return!0;if(n)return n(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===QC?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return LI("isCompressed",e),this.assertValidity(),i(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return LI("isCompressed",e),KI(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,d=DC(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:o,weierstrassEquation:a,isWithinCurveOrder:function(e){return rC(e,QC,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),a=tC;return LI("isCompressed",r),r?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r)return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const t=WI(a);if(!rC(t,QC,n.ORDER))throw Error("Point is not on curve");const i=l(t);let s;try{s=n.sqrt(i)}catch(e){const t=e instanceof Error?": "+e.message:"";throw Error("Point is not on curve"+t)}return!(1&~r)!==((s&QC)===QC)&&(s=n.neg(s)),{x:t,y:s}}}}),f=e=>KI(ZI(e,t.nByteLength));function d(e){return e>r>>QC}const p=(e,t,n)=>WI(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=eC("compactSignature",e,2*n),new y(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=FC.toSig(eC("DER",e));return new y(t,n)}assertValidity(){iC("r",this.r,QC,r),iC("s",this.s,QC,r)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,u=b(eC("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");const l=2===s||3===s?r+t.n:r;if(l>=n.ORDER)throw Error("recovery id 2 or 3 invalid");const h=1&s?"03":"02",d=c.fromHex(h+f(l)),p=o(l),y=a(-u*p),g=a(i*p),m=c.BASE.multiplyAndAddUnsafe(d,y,g);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return $I(this.toDERHex())}toDERHex(){return FC.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $I(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=PC(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=BC(t),s=PC(t);if(r<16||r<s||r>1024)throw Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=AC(n?WI(e):YI(e),t-yC)+yC;return n?XI(a,i):ZI(a,i)}(t.randomBytes(e),t.n)},precompute:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=UI(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof c}const w=t.bits2int||function(e){const n=WI(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return a(w(e))},v=aC(t.nBitLength);function A(e){return iC("num < 2^"+t.nBitLength,e,jC,v),ZI(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;if(["recovered","canonical"].some((e=>e in i)))throw Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:f,prehash:p,extraEntropy:g}=i;null==f&&(f=!0),e=eC("msgHash",e),LC(i),p&&(e=eC("prehashed msgHash",s(e)));const m=b(e),v=u(r),k=[A(v),A(m)];if(null!=g&&!1!==g){const e=!0===g?l(n.BYTES):g;k.push(eC("extraEntropy",e))}const S=tC(...k),I=m;return{seed:S,k2sig:function(e){const t=w(e);if(!h(t))return;const n=o(t),r=c.BASE.multiply(t).toAffine(),i=a(r.x);if(i===jC)return;const s=a(n*a(I+i*v));if(s===jC)return;let u=(r.x===i?0:2)|Number(r.y&QC),l=s;return f&&d(s)&&(l=function(e){return d(e)?a(-e):e}(s),u^=1),new y(i,l,u)}}}const E={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw Error("first arg must be private key");if(!m(t))throw Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;const{seed:i,k2sig:s}=k(e,n,r),a=t;return uC(a.hash.outputLen,a.nByteLength,a.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const s=e;if(n=eC("msgHash",n),r=eC("publicKey",r),"strict"in i)throw Error("options.strict was renamed to lowS");LC(i);const{lowS:u,prehash:l}=i;let h,f;try{if("string"==typeof s||UI(s))try{h=y.fromDER(s)}catch(e){if(!(e instanceof FC.Err))throw e;h=y.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw Error("PARSE");{const{r:e,s:t}=s;h=new y(e,t)}}f=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;l&&(n=t.hash(n));const{r:d,s:p}=h,g=b(n),m=o(p),w=a(g*m),v=a(d*m),A=c.BASE.multiplyAndAddUnsafe(f,w,v)?.toAffine();return!!A&&a(A.x)===d},ProjectivePoint:c,Signature:y,utils:g}}function GC(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return TI(e,t,gI(...r))},randomBytes:bI}}function VC(e,t){const n=t=>HC({...e,...GC(t)});return Object.freeze({...n(t),create:n})}BigInt(4);const qC=xC(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),JC=VC({a:qC.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:qC,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},BI),$C=BigInt(2**32-1),WC=BigInt(32);function YC(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&$C),l:Number(e>>WC&$C)}:{h:0|Number(e>>WC&$C),l:0|Number(e&$C)}}function ZC(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=YC(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}const XC=(e,t,n)=>e<<n|t>>>32-n,ex=(e,t,n)=>t<<n|e>>>32-n,tx=(e,t,n)=>t<<n-32|e>>>64-n,nx=(e,t,n)=>e<<n-32|t>>>64-n,rx={fromBig:YC,split:ZC,toBig:(e,t)=>BigInt(e>>>0)<<WC|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:XC,rotlSL:ex,rotlBH:tx,rotlBL:nx,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[ix,sx]=(()=>rx.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),ax=new Uint32Array(80),ox=new Uint32Array(80);class cx extends kI{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:a,Dl:o,Eh:c,El:u,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,n,r,i,s,a,o,c,u,l,h,f,d,p,y]}set(e,t,n,r,i,s,a,o,c,u,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let w=0;w<16;w++,t+=4)ax[w]=e.getUint32(t),ox[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|ax[w-15],t=0|ox[w-15],n=rx.rotrSH(e,t,1)^rx.rotrSH(e,t,8)^rx.shrSH(e,t,7),r=rx.rotrSL(e,t,1)^rx.rotrSL(e,t,8)^rx.shrSL(e,t,7),i=0|ax[w-2],s=0|ox[w-2],a=rx.rotrSH(i,s,19)^rx.rotrBH(i,s,61)^rx.shrSH(i,s,6),o=rx.rotrSL(i,s,19)^rx.rotrBL(i,s,61)^rx.shrSL(i,s,6),c=rx.add4L(r,o,ox[w-7],ox[w-16]),u=rx.add4H(c,n,a,ax[w-7],ax[w-16]);ax[w]=0|u,ox[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:a,Cl:o,Dh:c,Dl:u,Eh:l,El:h,Fh:f,Fl:d,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let w=0;w<80;w++){const e=rx.rotrSH(l,h,14)^rx.rotrSH(l,h,18)^rx.rotrBH(l,h,41),t=rx.rotrSL(l,h,14)^rx.rotrSL(l,h,18)^rx.rotrBL(l,h,41),b=l&f^~l&p,v=h&d^~h&y,A=rx.add5L(m,t,v,sx[w],ox[w]),k=rx.add5H(A,g,e,b,ix[w],ax[w]),E=0|A,S=rx.rotrSH(n,r,28)^rx.rotrBH(n,r,34)^rx.rotrBH(n,r,39),I=rx.rotrSL(n,r,28)^rx.rotrBL(n,r,34)^rx.rotrBL(n,r,39),C=n&i^n&a^i&a,x=r&s^r&o^s&o;g=0|p,m=0|y,p=0|f,y=0|d,f=0|l,d=0|h,({h:l,l:h}=rx.add(0|c,0|u,0|k,0|E)),c=0|a,u=0|o,a=0|i,o=0|s,i=0|n,s=0|r;const B=rx.add3L(E,I,x);n=rx.add3H(B,k,S,C),r=0|B}({h:n,l:r}=rx.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=rx.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=rx.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l:u}=rx.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=rx.add(0|this.Eh,0|this.El,0|l,0|h)),({h:f,l:d}=rx.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:y}=rx.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=rx.add(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(n,r,i,s,a,o,c,u,l,h,f,d,p,y,g,m)}roundClean(){ax.fill(0),ox.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ux extends cx{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const lx=wI((()=>new cx)),hx=wI((()=>new ux)),fx=xC(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),dx=VC({a:fx.create(BigInt("-3")),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Fp:fx,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},hx),px=xC(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),yx={a:px.create(BigInt("-3")),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Fp:px,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1)},gx=VC({a:yx.a,b:yx.b,Fp:px,n:yx.n,Gx:yx.Gx,Gy:yx.Gy,h:yx.h,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},lx),mx=[],wx=[],bx=[],vx=BigInt(0),Ax=BigInt(1),kx=BigInt(2),Ex=BigInt(7),Sx=BigInt(256),Ix=BigInt(113);for(let n=0,kN=Ax,EN=1,SN=0;n<24;n++){[EN,SN]=[SN,(2*EN+3*SN)%5],mx.push(2*(5*SN+EN)),wx.push((n+1)*(n+2)/2%64);let e=vx;for(let t=0;t<7;t++)kN=(kN<<Ax^(kN>>Ex)*Ix)%Sx,kN&kx&&(e^=Ax<<(Ax<<BigInt(t))-Ax);bx.push(e)}const[Cx,xx]=ZC(bx,!0),Bx=(e,t,n)=>n>32?tx(e,t,n):XC(e,t,n),Px=(e,t,n)=>n>32?nx(e,t,n):ex(e,t,n);class _x extends mI{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,iI(n),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){fI||dI(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],a=n[i+1],o=Bx(s,a,1)^n[t],c=Px(s,a,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=o,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=wx[n],s=Bx(t,i,r),a=Px(t,i,r),o=mx[n];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Cx[r],e[1]^=xx[r]}n.fill(0)}(this.state32,this.rounds),fI||dI(this.state32),this.posOut=0,this.pos=0}update(e){aI(this);const{blockLen:t,state:n}=this,r=(e=yI(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){aI(this,!1),sI(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return iI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(oI(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new _x(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Tx=(e,t,n)=>wI((()=>new _x(t,e,n))),Nx=Tx(6,136,32),Rx=Tx(6,72,64),Dx=(()=>function(e){const t=(t,n)=>e(n).update(yI(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _x(136,31,void 0===e.dkLen?32:e.dkLen,!0)})))(),Ux=BigInt(0),Ox=BigInt(1),Lx=BigInt(2),Mx=BigInt(8),Kx={zip215:!0};function Fx(e){const t=function(e){const t=OC(e);return hC(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:a,nByteLength:o,h:c}=t,u=Lx<<BigInt(8*o)-Ox,l=n.create,h=xC(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:Ux}}}),d=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(LI("phflag",n),t.length||n)throw Error("Contexts/pre-hash are not supported");return e});function y(e,t){iC("coordinate "+e,t,Ux,u)}function g(e){if(!(e instanceof b))throw Error("ExtendedPoint expected")}const m=fC(((e,t)=>{const{ex:r,ey:i,ez:s}=e,a=e.is0();null==t&&(t=a?Mx:n.inv(s));const o=l(r*t),c=l(i*t),u=l(s*t);if(a)return{x:Ux,y:Ox};if(u!==Ox)throw Error("invZ was invalid");return{x:o,y:c}})),w=fC((e=>{const{a:n,d:r}=t;if(e.is0())throw Error("bad point: ZERO");const{ex:i,ey:s,ez:a,et:o}=e,c=l(i*i),u=l(s*s),h=l(a*a),f=l(h*h),d=l(c*n);if(l(h*l(d+u))!==l(f+l(r*l(c*u))))throw Error("bad point: equation left != right (1)");if(l(i*s)!==l(a*o))throw Error("bad point: equation left != right (2)");return!0}));class b{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,y("x",e),y("y",t),y("z",n),y("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw Error("extended point not allowed");const{x:t,y:n}=e||{};return y("x",t),y("y",n),new b(t,n,Ox,l(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(b.fromAffine)}static msm(e,t){return UC(b,h,e,t)}_setWindowSize(e){k.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){g(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:a}=e,o=l(t*a),c=l(i*r),u=l(n*a),h=l(s*r);return o===c&&u===h}is0(){return this.equals(b.ZERO)}negate(){return new b(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=l(n*n),a=l(r*r),o=l(Lx*l(i*i)),c=l(e*s),u=n+r,h=l(l(u*u)-s-a),f=c+a,d=f-o,p=c-a,y=l(h*d),g=l(f*p),m=l(h*p),w=l(d*f);return new b(y,g,w,m)}add(e){g(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:a,et:o}=this,{ex:c,ey:u,ez:h,et:f}=e;if(n===BigInt(-1)){const e=l((s-i)*(u+c)),t=l((s+i)*(u-c)),n=l(t-e);if(n===Ux)return this.double();const r=l(a*Lx*f),d=l(o*Lx*h),p=d+r,y=t+e,g=d-r,m=l(p*n),w=l(y*g),v=l(p*g),A=l(n*y);return new b(m,w,A,v)}const d=l(i*c),p=l(s*u),y=l(o*r*f),m=l(a*h),w=l((i+s)*(c+u)-d-p),v=m-y,A=m+y,k=l(p-n*d),E=l(w*v),S=l(A*k),I=l(w*k),C=l(v*A);return new b(E,S,C,I)}subtract(e){return this.add(e.negate())}wNAF(e){return k.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;iC("scalar",t,Ox,r);const{p:n,f:i}=this.wNAF(t);return b.normalizeZ([n,i])[0]}multiplyUnsafe(e){const t=e;return iC("scalar",t,Ux,r),t===Ux?A:this.equals(A)||t===Ox?this:this.equals(v)?this.wNAF(t).p:k.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,r).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===Ox?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,a=n.BYTES;e=eC("pointHex",e,a),LI("zip215",r);const o=e.slice(),c=e[a-1];o[a-1]=-129&c;const h=YI(o),d=r?u:n.ORDER;iC("pointHex.y",h,Ux,d);const p=l(h*h),y=l(p-Ox),g=l(i*p-s);let{isValid:m,value:w}=f(y,g);if(!m)throw Error("Point.fromHex: invalid y coordinate");const v=(w&Ox)===Ox,A=!!(128&c);if(!r&&w===Ux&&A)throw Error("Point.fromHex: x=0 and x_0=1");return A!==v&&(w=l(-w)),b.fromAffine({x:w,y:h})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=XI(t,n.BYTES);return r[r.length-1]|=e&Ox?128:0,r}toHex(){return KI(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Ox,l(t.Gx*t.Gy)),b.ZERO=new b(Ux,Ox,Ox,Ux);const{BASE:v,ZERO:A}=b,k=DC(b,8*o);function E(e){return AC(e,r)}function S(e){return E(YI(e))}function I(e){const t=o;e=eC("private key",e,t);const n=eC("hashed private key",s(e),2*t),r=d(n.slice(0,t)),i=n.slice(t,2*t),a=S(r),c=v.multiply(a),u=c.toRawBytes();return{head:r,prefix:i,scalar:a,point:c,pointBytes:u}}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=tC(...n);return S(s(p(a,eC("context",e),!!i)))}const x=Kx;return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=eC("message",e),i&&(e=i(e));const{prefix:a,scalar:c,pointBytes:u}=I(t),l=C(s.context,a,e),h=v.multiply(l).toRawBytes(),f=E(l+C(s.context,h,u,e)*c);return iC("signature.s",f,Ux,r),eC("result",tC(h,XI(f,n.BYTES)),2*o)},verify:function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const{context:a,zip215:o}=s,c=n.BYTES;e=eC("signature",e,2*c),t=eC("message",t),void 0!==o&&LI("zip215",o),i&&(t=i(t));const u=YI(e.slice(c,2*c));let l,h,f;try{l=b.fromHex(r,o),h=b.fromHex(e.slice(0,c),o),f=v.multiplyUnsafe(u)}catch(e){return!1}if(!o&&l.isSmallOrder())return!1;const d=C(a,h.toRawBytes(),l.toRawBytes(),t);return h.add(l.multiplyUnsafe(d)).subtract(f).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>a(n.BYTES),precompute:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}const jx=BigInt(0),Qx=BigInt(1);const zx=wI((()=>Dx.create({dkLen:114}))),Hx=(wI((()=>Dx.create({dkLen:64}))),BigInt("726838724295606890549323807888004534353641360687318060281490199180612328166730772686396383698676545930088884461843637361053498018365439")),Gx=BigInt(1),Vx=BigInt(2),qx=BigInt(3);BigInt(4);const Jx=BigInt(11),$x=BigInt(22),Wx=BigInt(44),Yx=BigInt(88),Zx=BigInt(223);function Xx(e){const t=Hx,n=e*e*e%t,r=n*n*e%t,i=EC(r,qx,t)*r%t,s=EC(i,qx,t)*r%t,a=EC(s,Vx,t)*n%t,o=EC(a,Jx,t)*a%t,c=EC(o,$x,t)*o%t,u=EC(c,Wx,t)*c%t,l=EC(u,Yx,t)*u%t,h=EC(l,Wx,t)*c%t,f=EC(h,Vx,t)*n%t,d=EC(f,Gx,t)*e%t;return EC(d,Zx,t)*f%t}function eB(e){return e[0]&=252,e[55]|=128,e[56]=0,e}const tB=xC(Hx,456,!0),nB={a:BigInt(1),d:BigInt("726838724295606890549323807888004534353641360687318060281490199180612328166730772686396383698676545930088884461843637361053498018326358"),Fp:tB,n:BigInt("181709681073901722637330951972001133588410340171829515070372549795146003961539585716195755291692375963310293709091662304773755859649779"),nBitLength:456,h:BigInt(4),Gx:BigInt("224580040295924300187604334099896036246789641632564134246125461686950415467406032909029192869357953282578032075146446173674602635247710"),Gy:BigInt("298819210078481492676017930443930673437544040154080242095928241372331506189835876003536878655418784733982303233503462500531545062832660"),hash:zx,randomBytes:bI,adjustScalarBytes:eB,domain:(e,t,n)=>{if(t.length>255)throw Error("Context is too big: "+t.length);return gI(pI("SigEd448"),new Uint8Array([n?1:0,t.length]),t,e)},uvRatio:function(e,t){const n=Hx,r=AC(e*e*t,n),i=AC(r*e,n),s=AC(i*r*t,n),a=AC(i*Xx(s),n),o=AC(a*a,n);return{isValid:AC(o*t,n)===e,value:a}}},rB=Fx(nB),iB=(()=>function(e){const t=(hC(n=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=t,i=e=>AC(e,r),s=t.montgomeryBits,a=Math.ceil(s/8),o=t.nByteLength,c=t.adjustScalarBytes||(e=>e),u=t.powPminus2||(e=>kC(e,r-BigInt(2),r));function l(e,t,n){const r=i(e*(t-n));return[t=i(t-r),n=i(n+r)]}const h=(t.a-BigInt(2))/BigInt(4);function f(e){return XI(i(e),a)}function d(e,t){const n=function(e){const t=eC("u coordinate",e,a);return 32===o&&(t[31]&=127),YI(t)}(t),d=function(e){const t=eC("scalar",e),n=t.length;if(n!==a&&n!==o)throw Error(`Expected ${a} or ${o} bytes, got ${n}`);return YI(c(t))}(e),p=function(e,t){iC("u",e,jx,r),iC("scalar",t,jx,r);const n=t,a=e;let o,c=Qx,f=jx,d=e,p=Qx,y=jx;for(let r=BigInt(s-1);r>=jx;r--){const e=n>>r&Qx;y^=e,o=l(y,c,d),c=o[0],d=o[1],o=l(y,f,p),f=o[0],p=o[1],y=e;const t=c+f,s=i(t*t),u=c-f,g=i(u*u),m=s-g,w=d+p,b=i((d-p)*t),v=i(w*u),A=b+v,k=b-v;d=i(A*A),p=i(a*i(k*k)),c=i(s*g),f=i(m*(s+i(h*m)))}o=l(y,c,d),c=o[0],d=o[1],o=l(y,f,p),f=o[0],p=o[1];const g=u(f);return i(c*g)}(n,d);if(p===jx)throw Error("Invalid private or public key received");return f(p)}const p=f(t.Gu);function y(e){return d(e,p)}return{scalarMult:d,scalarMultBase:y,getSharedSecret:(e,t)=>d(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:p}}({a:BigInt(156326),montgomeryBits:448,nByteLength:56,P:Hx,Gu:BigInt(5),powPminus2:e=>{const t=Hx;return AC(EC(Xx(e),BigInt(2),t)*e,t)},adjustScalarBytes:eB,randomBytes:bI}))();tB.ORDER,BigInt(3),BigInt(4),BigInt(156326),BigInt("39082"),BigInt("78163"),BigInt("98944233647732219769177004876929019128417576295529901074099889598043702116001257856802131563896515373927712232092845883226922417596214"),BigInt("315019913931389607337177038330951043522456072897266928557328499619017160722351061360252776265186336876723201881398623946864393857820716"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const sB=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),oB=BigInt(1),cB=BigInt(2),uB=(e,t)=>(e+t/cB)/t,lB=xC(sB,void 0,void 0,{sqrt:function(e){const t=sB,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,h=EC(l,n,t)*l%t,f=EC(h,n,t)*l%t,d=EC(f,cB,t)*u%t,p=EC(d,i,t)*d%t,y=EC(p,s,t)*p%t,g=EC(y,o,t)*y%t,m=EC(g,c,t)*g%t,w=EC(m,o,t)*y%t,b=EC(w,n,t)*l%t,v=EC(b,a,t)*p%t,A=EC(v,r,t)*u%t,k=EC(A,cB,t);if(!lB.eql(lB.sqr(k),e))throw Error("Cannot find square root");return k}}),hB=VC({a:BigInt(0),b:BigInt(7),Fp:lB,n:aB,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=aB,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-oB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=uB(s*e,t),c=uB(-r*e,t);let u=AC(e-o*n-c*i,t),l=AC(-o*r-c*s,t);const h=u>a,f=l>a;if(h&&(u=t-u),f&&(l=t-l),u>a||l>a)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:f,k2:l}}}},BI);BigInt(0),hB.ProjectivePoint;const fB=xC(BigInt("0xa9fb57dba1eea9bc3e660a909d838d726e3bf623d52620282013481d1f6e5377")),dB=VC({a:fB.create(BigInt("0x7d5a0975fc2c3057eef67530417affe7fb8055c126dc5c6ce94a4b44f330b5d9")),b:BigInt("0x26dc5c6ce94a4b44f330b5d9bbd77cbf958416295cf7e1ce6bccdc18ff8c07b6"),Fp:fB,n:BigInt("0xa9fb57dba1eea9bc3e660a909d838d718c397aa3b561a6f7901e0e82974856a7"),Gx:BigInt("0x8bd2aeb9cb7e57cb2c4b482ffc81b7afb9de27e1e3bd23c23a4453bd9ace3262"),Gy:BigInt("0x547ef835c3dac4fd97f8461a14611dc9c27745132ded8e545c1d54c72f046997"),h:BigInt(1),lowS:!1},BI),pB=xC(BigInt("0x8cb91e82a3386d280f5d6f7e50e641df152f7109ed5456b412b1da197fb71123acd3a729901d1a71874700133107ec53")),yB=VC({a:pB.create(BigInt("0x7bc382c63d8c150c3c72080ace05afa0c2bea28e4fb22787139165efba91f90f8aa5814a503ad4eb04a8c7dd22ce2826")),b:BigInt("0x04a8c7dd22ce28268b39b55416f0447c2fb77de107dcd2a62e880ea53eeb62d57cb4390295dbc9943ab78696fa504c11"),Fp:pB,n:BigInt("0x8cb91e82a3386d280f5d6f7e50e641df152f7109ed5456b31f166e6cac0425a7cf3ab6af6b7fc3103b883202e9046565"),Gx:BigInt("0x1d1c64f068cf45ffa2a63a81b7c13f6b8847a3e77ef14fe3db7fcafe0cbd10e8e826e03436d646aaef87b2e247d4af1e"),Gy:BigInt("0x8abe1d7520f9c2a45cb1eb8e95cfd55262b70b29feec5864e19c054ff99129280e4646217791811142820341263c5315"),h:BigInt(1),lowS:!1},hx),gB=xC(BigInt("0xaadd9db8dbe9c48b3fd4e6ae33c9fc07cb308db3b3c9d20ed6639cca703308717d4d9b009bc66842aecda12ae6a380e62881ff2f2d82c68528aa6056583a48f3")),mB=VC({a:gB.create(BigInt("0x7830a3318b603b89e2327145ac234cc594cbdd8d3df91610a83441caea9863bc2ded5d5aa8253aa10a2ef1c98b9ac8b57f1117a72bf2c7b9e7c1ac4d77fc94ca")),b:BigInt("0x3df91610a83441caea9863bc2ded5d5aa8253aa10a2ef1c98b9ac8b57f1117a72bf2c7b9e7c1ac4d77fc94cadc083e67984050b75ebae5dd2809bd638016f723"),Fp:gB,n:BigInt("0xaadd9db8dbe9c48b3fd4e6ae33c9fc07cb308db3b3c9d20ed6639cca70330870553e5c414ca92619418661197fac10471db1d381085ddaddb58796829ca90069"),Gx:BigInt("0x81aee4bdd82ed9645a21322e9c4c6a9385ed9f70b5d916c1b43b62eef4d0098eff3b1f78e2d0d48d50d1687b93b97d5f7c6d5047406a5e688b352209bcb9f822"),Gy:BigInt("0x7dde385d566332ecc0eabfa9cf7822fdf209f70024a57b1aa000c55b881f8111b2dcde494a5f485e5bca4bd88a2763aed1ca2b2fa8f0540678cd1e0f3ad80892"),h:BigInt(1),lowS:!1},lx),wB=new Map(Object.entries({nistP256:JC,nistP384:dx,nistP521:gx,brainpoolP256r1:dB,brainpoolP384r1:yB,brainpoolP512r1:mB,secp256k1:hB,x448:iB,ed448:rB}));var bB=Object.freeze({__proto__:null,nobleCurves:wB});function vB(e,t,n,r,i,s){const a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let p,y,g,m,w,b,v,A,k,E,S=0,I=t.length;const C=32===e.length?3:9;A=3===C?n?[0,32,2]:[30,-2,-2]:n?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],n&&(t=function(e){const t=8-e.length%8;let n;if(!(t<8)){if(8===t)return e;throw Error("des: invalid padding")}n=0;const r=new Uint8Array(e.length+t);for(let i=0;i<e.length;i++)r[i]=e[i];for(let i=0;i<t;i++)r[e.length+i]=0;return r}(t),I=t.length);let x=new Uint8Array(I),B=0;for(;S<I;){for(b=t[S++]<<24|t[S++]<<16|t[S++]<<8|t[S++],v=t[S++]<<24|t[S++]<<16|t[S++]<<8|t[S++],g=252645135&(b>>>4^v),v^=g,b^=g<<4,g=65535&(b>>>16^v),v^=g,b^=g<<16,g=858993459&(v>>>2^b),b^=g,v^=g<<2,g=16711935&(v>>>8^b),b^=g,v^=g<<8,g=1431655765&(b>>>1^v),v^=g,b^=g<<1,b=b<<1|b>>>31,v=v<<1|v>>>31,y=0;y<C;y+=3){for(k=A[y+1],E=A[y+2],p=A[y];p!==k;p+=E)m=v^e[p],w=(v>>>4|v<<28)^e[p+1],g=b,b=v,v=g^(o[m>>>24&63]|u[m>>>16&63]|h[m>>>8&63]|d[63&m]|a[w>>>24&63]|c[w>>>16&63]|l[w>>>8&63]|f[63&w]);g=b,b=v,v=g}b=b>>>1|b<<31,v=v>>>1|v<<31,g=1431655765&(b>>>1^v),v^=g,b^=g<<1,g=16711935&(v>>>8^b),b^=g,v^=g<<8,g=858993459&(v>>>2^b),b^=g,v^=g<<2,g=65535&(b>>>16^v),v^=g,b^=g<<16,g=252645135&(b>>>4^v),v^=g,b^=g<<4,x[B++]=b>>>24,x[B++]=b>>>16&255,x[B++]=b>>>8&255,x[B++]=255&b,x[B++]=v>>>24,x[B++]=v>>>16&255,x[B++]=v>>>8&255,x[B++]=255&v}return n||(x=function(e){let t,n=null;if(t=0,!n){for(n=1;0===e[e.length-n];)n++;n--}return e.subarray(0,e.length-n)}(x)),x}function AB(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],r=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length>8?3:1,g=Array(32*y),m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let w,b,v,A=0,k=0;for(let E=0;E<y;E++){let y=e[A++]<<24|e[A++]<<16|e[A++]<<8|e[A++],E=e[A++]<<24|e[A++]<<16|e[A++]<<8|e[A++];v=252645135&(y>>>4^E),E^=v,y^=v<<4,v=65535&(E>>>-16^y),y^=v,E^=v<<-16,v=858993459&(y>>>2^E),E^=v,y^=v<<2,v=65535&(E>>>-16^y),y^=v,E^=v<<-16,v=1431655765&(y>>>1^E),E^=v,y^=v<<1,v=16711935&(E>>>8^y),y^=v,E^=v<<8,v=1431655765&(y>>>1^E),E^=v,y^=v<<1,v=y<<8|E>>>20&240,y=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=v;for(let e=0;e<16;e++)m[e]?(y=y<<2|y>>>26,E=E<<2|E>>>26):(y=y<<1|y>>>27,E=E<<1|E>>>27),y&=-15,E&=-15,w=t[y>>>28]|n[y>>>24&15]|r[y>>>20&15]|i[y>>>16&15]|s[y>>>12&15]|a[y>>>8&15]|o[y>>>4&15],b=c[E>>>28]|u[E>>>24&15]|l[E>>>20&15]|h[E>>>16&15]|f[E>>>12&15]|d[E>>>8&15]|p[E>>>4&15],v=65535&(b>>>16^w),g[k++]=w^v,g[k++]=b^v<<16}return g}function kB(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return vB(AB(this.key[2]),vB(AB(this.key[1]),vB(AB(this.key[0]),e,!0),!1),!0)}}function EB(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),e.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){const t=Array(e.length);for(let s=0;s<e.length;s+=8){let a,o=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],c=e[s+4]<<24|e[s+5]<<16|e[s+6]<<8|e[s+7];a=c,c=o^n(c,this.masking[0],this.rotate[0]),o=a,a=c,c=o^r(c,this.masking[1],this.rotate[1]),o=a,a=c,c=o^i(c,this.masking[2],this.rotate[2]),o=a,a=c,c=o^n(c,this.masking[3],this.rotate[3]),o=a,a=c,c=o^r(c,this.masking[4],this.rotate[4]),o=a,a=c,c=o^i(c,this.masking[5],this.rotate[5]),o=a,a=c,c=o^n(c,this.masking[6],this.rotate[6]),o=a,a=c,c=o^r(c,this.masking[7],this.rotate[7]),o=a,a=c,c=o^i(c,this.masking[8],this.rotate[8]),o=a,a=c,c=o^n(c,this.masking[9],this.rotate[9]),o=a,a=c,c=o^r(c,this.masking[10],this.rotate[10]),o=a,a=c,c=o^i(c,this.masking[11],this.rotate[11]),o=a,a=c,c=o^n(c,this.masking[12],this.rotate[12]),o=a,a=c,c=o^r(c,this.masking[13],this.rotate[13]),o=a,a=c,c=o^i(c,this.masking[14],this.rotate[14]),o=a,a=c,c=o^n(c,this.masking[15],this.rotate[15]),o=a,t[s]=c>>>24&255,t[s+1]=c>>>16&255,t[s+2]=c>>>8&255,t[s+3]=255&c,t[s+4]=o>>>24&255,t[s+5]=o>>>16&255,t[s+6]=o>>>8&255,t[s+7]=255&o}return t},this.decrypt=function(e){const t=Array(e.length);for(let s=0;s<e.length;s+=8){let a,o=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],c=e[s+4]<<24|e[s+5]<<16|e[s+6]<<8|e[s+7];a=c,c=o^n(c,this.masking[15],this.rotate[15]),o=a,a=c,c=o^i(c,this.masking[14],this.rotate[14]),o=a,a=c,c=o^r(c,this.masking[13],this.rotate[13]),o=a,a=c,c=o^n(c,this.masking[12],this.rotate[12]),o=a,a=c,c=o^i(c,this.masking[11],this.rotate[11]),o=a,a=c,c=o^r(c,this.masking[10],this.rotate[10]),o=a,a=c,c=o^n(c,this.masking[9],this.rotate[9]),o=a,a=c,c=o^i(c,this.masking[8],this.rotate[8]),o=a,a=c,c=o^r(c,this.masking[7],this.rotate[7]),o=a,a=c,c=o^n(c,this.masking[6],this.rotate[6]),o=a,a=c,c=o^i(c,this.masking[5],this.rotate[5]),o=a,a=c,c=o^r(c,this.masking[4],this.rotate[4]),o=a,a=c,c=o^n(c,this.masking[3],this.rotate[3]),o=a,a=c,c=o^i(c,this.masking[2],this.rotate[2]),o=a,a=c,c=o^r(c,this.masking[1],this.rotate[1]),o=a,a=c,c=o^n(c,this.masking[0],this.rotate[0]),o=a,t[s]=c>>>24&255,t[s+1]=c>>>16&255,t[s+2]=c>>>8&255,t[s+3]=255&c,t[s+4]=o>>>24&255,t[s+5]=o>>16&255,t[s+6]=o>>8&255,t[s+7]=255&o}return t};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function n(e,t,n){const r=t+e,i=r<<n|r>>>32-n;return(s[0][i>>>24]^s[1][i>>>16&255])-s[2][i>>>8&255]+s[3][255&i]}function r(e,t,n){const r=t^e,i=r<<n|r>>>32-n;return s[0][i>>>24]-s[1][i>>>16&255]+s[2][i>>>8&255]^s[3][255&i]}function i(e,t,n){const r=t-e,i=r<<n|r>>>32-n;return(s[0][i>>>24]+s[1][i>>>16&255]^s[2][i>>>8&255])-s[3][255&i]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(n){const r=[,,,,,,,,],i=Array(32);let a;for(let e=0;e<4;e++)a=4*e,r[e]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3];const o=[6,7,4,5];let c,u=0;for(let l=0;l<2;l++)for(let n=0;n<4;n++){for(a=0;a<4;a++){const t=e[n][a];c=r[t[1]],c^=s[4][r[t[2]>>>2]>>>24-8*(3&t[2])&255],c^=s[5][r[t[3]>>>2]>>>24-8*(3&t[3])&255],c^=s[6][r[t[4]>>>2]>>>24-8*(3&t[4])&255],c^=s[7][r[t[5]>>>2]>>>24-8*(3&t[5])&255],c^=s[o[a]][r[t[6]>>>2]>>>24-8*(3&t[6])&255],r[t[0]]=c}for(a=0;a<4;a++){const e=t[n][a];c=s[4][r[e[0]>>>2]>>>24-8*(3&e[0])&255],c^=s[5][r[e[1]>>>2]>>>24-8*(3&e[1])&255],c^=s[6][r[e[2]>>>2]>>>24-8*(3&e[2])&255],c^=s[7][r[e[3]>>>2]>>>24-8*(3&e[3])&255],c^=s[4+a][r[e[4]>>>2]>>>24-8*(3&e[4])&255],i[u]=c,u++}}for(let e=0;e<16;e++)this.masking[e]=i[e],this.rotate[e]=31&i[16+e]};const s=[,,,,,,,,];s[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],s[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],s[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],s[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],s[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],s[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],s[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],s[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function SB(e){this.cast5=new EB,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}kB.keySize=kB.prototype.keySize=24,kB.blockSize=kB.prototype.blockSize=8,SB.blockSize=SB.prototype.blockSize=8,SB.keySize=SB.prototype.keySize=16;const IB=4294967295;function CB(e,t){return(e<<t|e>>>32-t)&IB}function xB(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function BB(e,t,n){e.splice(t,4,255&n,n>>>8&255,n>>>16&255,n>>>24&255)}function PB(e,t){return e>>>8*t&255}function _B(e){this.tf=function(){let e=null,t=null,n=-1,r=[],i=[[],[],[],[]];function s(e){return i[0][PB(e,0)]^i[1][PB(e,1)]^i[2][PB(e,2)]^i[3][PB(e,3)]}function a(e){return i[0][PB(e,3)]^i[1][PB(e,0)]^i[2][PB(e,1)]^i[3][PB(e,2)]}function o(e,t){let n=s(t[0]),i=a(t[1]);t[2]=CB(t[2]^n+i+r[4*e+8]&IB,31),t[3]=CB(t[3],1)^n+2*i+r[4*e+9]&IB,n=s(t[2]),i=a(t[3]),t[0]=CB(t[0]^n+i+r[4*e+10]&IB,31),t[1]=CB(t[1],1)^n+2*i+r[4*e+11]&IB}function c(e,t){let n=s(t[0]),i=a(t[1]);t[2]=CB(t[2],1)^n+i+r[4*e+10]&IB,t[3]=CB(t[3]^n+2*i+r[4*e+11]&IB,31),n=s(t[2]),i=a(t[3]),t[0]=CB(t[0],1)^n+i+r[4*e+8]&IB,t[1]=CB(t[1]^n+2*i+r[4*e+9]&IB,31)}return{name:"twofish",blocksize:16,open:function(t){let n,s,a,o,c;e=t;const u=[],l=[],h=[];let f;const d=[];let p,y,g;const m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],w=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],b=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],v=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],A=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],k=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],E=[[],[]],S=[[],[],[],[]];function I(e){return e^e>>2^[0,90,180,238][3&e]}function C(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function x(e,t){let n,r,i;for(n=0;n<8;n++)r=t>>>24,t=t<<8&IB|e>>>24,e=e<<8&IB,i=r<<1,128&r&&(i^=333),t^=r^i<<16,i^=r>>>1,1&r&&(i^=166),t^=i<<24|i<<8;return t}function B(e,t){const n=t>>4,r=15&t,i=m[e][n^r],s=w[e][A[r]^k[n]];return v[e][A[s]^k[i]]<<4|b[e][i^s]}function P(e,t){let n=PB(e,0),r=PB(e,1),i=PB(e,2),s=PB(e,3);switch(f){case 4:n=E[1][n]^PB(t[3],0),r=E[0][r]^PB(t[3],1),i=E[0][i]^PB(t[3],2),s=E[1][s]^PB(t[3],3);case 3:n=E[1][n]^PB(t[2],0),r=E[1][r]^PB(t[2],1),i=E[0][i]^PB(t[2],2),s=E[0][s]^PB(t[2],3);case 2:n=E[0][E[0][n]^PB(t[1],0)]^PB(t[0],0),r=E[0][E[1][r]^PB(t[1],1)]^PB(t[0],1),i=E[1][E[0][i]^PB(t[1],2)]^PB(t[0],2),s=E[1][E[1][s]^PB(t[1],3)]^PB(t[0],3)}return S[0][n]^S[1][r]^S[2][i]^S[3][s]}for(e=e.slice(0,32),n=e.length;16!==n&&24!==n&&32!==n;)e[n++]=0;for(n=0;n<e.length;n+=4)h[n>>2]=xB(e,n);for(n=0;n<256;n++)E[0][n]=B(0,n),E[1][n]=B(1,n);for(n=0;n<256;n++)p=E[1][n],y=I(p),g=C(p),S[0][n]=p+(y<<8)+(g<<16)+(g<<24),S[2][n]=y+(g<<8)+(p<<16)+(g<<24),p=E[0][n],y=I(p),g=C(p),S[1][n]=g+(g<<8)+(y<<16)+(p<<24),S[3][n]=y+(p<<8)+(g<<16)+(y<<24);for(f=h.length/2,n=0;n<f;n++)s=h[n+n],u[n]=s,a=h[n+n+1],l[n]=a,d[f-n-1]=x(s,a);for(n=0;n<40;n+=2)s=16843009*n,a=s+16843009,s=P(s,u),a=CB(P(a,l),8),r[n]=s+a&IB,r[n+1]=CB(s+2*a,9);for(n=0;n<256;n++)switch(s=a=o=c=n,f){case 4:s=E[1][s]^PB(d[3],0),a=E[0][a]^PB(d[3],1),o=E[0][o]^PB(d[3],2),c=E[1][c]^PB(d[3],3);case 3:s=E[1][s]^PB(d[2],0),a=E[1][a]^PB(d[2],1),o=E[0][o]^PB(d[2],2),c=E[0][c]^PB(d[2],3);case 2:i[0][n]=S[0][E[0][E[0][s]^PB(d[1],0)]^PB(d[0],0)],i[1][n]=S[1][E[0][E[1][a]^PB(d[1],1)]^PB(d[0],1)],i[2][n]=S[2][E[1][E[0][o]^PB(d[1],2)]^PB(d[0],2)],i[3][n]=S[3][E[1][E[1][c]^PB(d[1],3)]^PB(d[0],3)]}},close:function(){r=[],i=[[],[],[],[]]},encrypt:function(e,i){t=e,n=i;const s=[xB(t,n)^r[0],xB(t,n+4)^r[1],xB(t,n+8)^r[2],xB(t,n+12)^r[3]];for(let t=0;t<8;t++)o(t,s);return BB(t,n,s[2]^r[4]),BB(t,n+4,s[3]^r[5]),BB(t,n+8,s[0]^r[6]),BB(t,n+12,s[1]^r[7]),n+=16,t},decrypt:function(e,i){t=e,n=i;const s=[xB(t,n)^r[4],xB(t,n+4)^r[5],xB(t,n+8)^r[6],xB(t,n+12)^r[7]];for(let t=7;t>=0;t--)c(t,s);BB(t,n,s[2]^r[0]),BB(t,n+4,s[3]^r[1]),BB(t,n+8,s[0]^r[2]),BB(t,n+12,s[1]^r[3]),n+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function TB(){}function NB(e){this.bf=new TB,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}_B.keySize=_B.prototype.keySize=32,_B.blockSize=_B.prototype.blockSize=16,TB.prototype.BLOCKSIZE=8,TB.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],TB.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],TB.prototype.NN=16,TB.prototype._clean=function(e){return e<0&&(e=2147483648+(2147483647&e)),e},TB.prototype._F=function(e){let t;const n=255&e,r=255&(e>>>=8),i=255&(e>>>=8),s=255&(e>>>=8);return t=this.sboxes[0][s]+this.sboxes[1][i],t^=this.sboxes[2][r],t+=this.sboxes[3][n],t},TB.prototype._encryptBlock=function(e){let t,n=e[0],r=e[1];for(t=0;t<this.NN;++t){n^=this.parray[t],r=this._F(n)^r;const e=n;n=r,r=e}n^=this.parray[this.NN+0],r^=this.parray[this.NN+1],e[0]=this._clean(r),e[1]=this._clean(n)},TB.prototype.encryptBlock=function(e){let t;const n=[0,0],r=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)n[0]=n[0]<<8|255&e[t+0],n[1]=n[1]<<8|255&e[t+r];this._encryptBlock(n);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=n[0]>>>24-8*t&255,i[t+r]=n[1]>>>24-8*t&255;return i},TB.prototype._decryptBlock=function(e){let t,n=e[0],r=e[1];for(t=this.NN+1;t>1;--t){n^=this.parray[t],r=this._F(n)^r;const e=n;n=r,r=e}n^=this.parray[1],r^=this.parray[0],e[0]=this._clean(r),e[1]=this._clean(n)},TB.prototype.init=function(e){let t,n=0;for(this.parray=[],t=0;t<this.NN+2;++t){let r=0;for(let t=0;t<4;++t)r=r<<8|255&e[n],++n>=e.length&&(n=0);this.parray[t]=this.PARRAY[t]^r}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],n=0;n<256;++n)this.sboxes[t][n]=this.SBOXES[t][n];const r=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(r),this.parray[t+0]=r[0],this.parray[t+1]=r[1];for(t=0;t<4;++t)for(n=0;n<256;n+=2)this._encryptBlock(r),this.sboxes[t][n+0]=r[0],this.sboxes[t][n+1]=r[1]},NB.keySize=NB.prototype.keySize=16,NB.blockSize=NB.prototype.blockSize=8;const RB=new Map([[km.symmetric.tripledes,kB],[km.symmetric.cast5,SB],[km.symmetric.blowfish,NB],[km.symmetric.twofish,_B]]);var DB=Object.freeze({__proto__:null,legacyCiphers:RB});const UB=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),OB=new Uint32Array(80);class LB extends kI{constructor(){super(64,20,8,!1),this.A=0|UB[0],this.B=0|UB[1],this.C=0|UB[2],this.D=0|UB[3],this.E=0|UB[4]}get(){const{A:e,B:t,C:n,D:r,E:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i}process(e,t){for(let o=0;o<16;o++,t+=4)OB[o]=e.getUint32(t,!1);for(let o=16;o<80;o++)OB[o]=hI(OB[o-3]^OB[o-8]^OB[o-14]^OB[o-16],1);let{A:n,B:r,C:i,D:s,E:a}=this;for(let o=0;o<80;o++){let e,t;o<20?(e=vI(r,i,s),t=1518500249):o<40?(e=r^i^s,t=1859775393):o<60?(e=AI(r,i,s),t=2400959708):(e=r^i^s,t=3395469782);const c=hI(n,5)+e+a+t+OB[o]|0;a=s,s=i,i=hI(r,30),r=n,n=c}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(n,r,i,s,a)}roundClean(){OB.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}const MB=wI((()=>new LB)),KB=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),FB=new Uint8Array(Array(16).fill(0).map(((e,t)=>t))),jB=FB.map((e=>(9*e+5)%16));let QB=[FB],zB=[jB];for(let n=0;n<4;n++)for(let e of[QB,zB])e.push(e[n].map((e=>KB[e])));const HB=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),GB=QB.map(((e,t)=>e.map((e=>HB[t][e])))),VB=zB.map(((e,t)=>e.map((e=>HB[t][e])))),qB=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),JB=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function $B(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const WB=new Uint32Array(16);class YB extends kI{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let f=0;f<16;f++,t+=4)WB[f]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,s=i,a=0|this.h2,o=a,c=0|this.h3,u=c,l=0|this.h4,h=l;for(let f=0;f<5;f++){const e=4-f,t=qB[f],d=JB[f],p=QB[f],y=zB[f],g=GB[f],m=VB[f];for(let r=0;r<16;r++){const e=hI(n+$B(f,i,a,c)+WB[p[r]]+t,g[r])+l|0;n=l,l=c,c=0|hI(a,10),a=i,i=e}for(let n=0;n<16;n++){const t=hI(r+$B(e,s,o,u)+WB[y[n]]+d,m[n])+h|0;r=h,h=u,u=0|hI(o,10),o=s,s=t}}this.set(this.h1+a+u|0,this.h2+c+h|0,this.h3+l+r|0,this.h4+n+s|0,this.h0+i+o|0)}roundClean(){WB.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ZB=new Map(Object.entries({sha1:MB,sha224:PI,sha256:BI,sha384:hx,sha512:lx,sha3_256:Nx,sha3_512:Rx,ripemd160:wI((()=>new YB))}));var XB=Object.freeze({__proto__:null,nobleHashes:ZB});function eP(e,t,n,r){e[t]+=n[r],e[t+1]+=n[r+1]+(e[t]<n[r])}function tP(e,t){e[0]+=t,e[1]+=e[0]<t}function nP(e,t,n,r,i,s,a,o){eP(e,n,e,r),eP(e,n,t,a);let c=e[s]^e[n],u=e[s+1]^e[n+1];e[s]=u,e[s+1]=c,eP(e,i,e,s),c=e[r]^e[i],u=e[r+1]^e[i+1],e[r]=c>>>24^u<<8,e[r+1]=u>>>24^c<<8,eP(e,n,e,r),eP(e,n,t,o),c=e[s]^e[n],u=e[s+1]^e[n+1],e[s]=c>>>16^u<<16,e[s+1]=u>>>16^c<<16,eP(e,i,e,s),c=e[r]^e[i],u=e[r+1]^e[i+1],e[r]=u>>>31^c<<1,e[r+1]=c>>>31^u<<1}const rP=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),iP=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e)));function sP(e,t){const n=new Uint32Array(32),r=new Uint32Array(e.b.buffer,e.b.byteOffset,32);for(let s=0;s<16;s++)n[s]=e.h[s],n[s+16]=rP[s];n[24]^=e.t0[0],n[25]^=e.t0[1];const i=t?4294967295:0;n[28]^=i,n[29]^=i;for(let s=0;s<12;s++){const e=s<<4;nP(n,r,0,8,16,24,iP[e+0],iP[e+1]),nP(n,r,2,10,18,26,iP[e+2],iP[e+3]),nP(n,r,4,12,20,28,iP[e+4],iP[e+5]),nP(n,r,6,14,22,30,iP[e+6],iP[e+7]),nP(n,r,0,10,20,30,iP[e+8],iP[e+9]),nP(n,r,2,12,22,24,iP[e+10],iP[e+11]),nP(n,r,4,14,16,26,iP[e+12],iP[e+13]),nP(n,r,6,8,18,28,iP[e+14],iP[e+15])}for(let s=0;s<16;s++)e.h[s]^=n[s]^n[s+16]}class aP{constructor(e,t,n,r){const i=new Uint8Array(64);this.S={b:new Uint8Array(uP),h:new Uint32Array(cP/4),t0:new Uint32Array(2),c:0,outlen:e},i[0]=e,t&&(i[1]=t.length),i[2]=1,i[3]=1,n&&i.set(n,32),r&&i.set(r,48);const s=new Uint32Array(i.buffer,i.byteOffset,i.length/Uint32Array.BYTES_PER_ELEMENT);for(let a=0;a<16;a++)this.S.h[a]=rP[a]^s[a];if(t){const e=new Uint8Array(uP);e.set(t),this.update(e)}}update(e){if(!(e instanceof Uint8Array))throw Error("Input must be Uint8Array or Buffer");let t=0;for(;t<e.length;){this.S.c===uP&&(tP(this.S.t0,this.S.c),sP(this.S,!1),this.S.c=0);let n=uP-this.S.c;this.S.b.set(e.subarray(t,t+n),this.S.c);const r=Math.min(n,e.length-t);this.S.c+=r,t+=r}return this}digest(e){tP(this.S.t0,this.S.c),this.S.b.fill(0,this.S.c),this.S.c=uP,sP(this.S,!0);const t=e||new Uint8Array(this.S.outlen);for(let n=0;n<this.S.outlen;n++)t[n]=this.S.h[n>>2]>>8*(3&n);return this.S.h=null,t.buffer}}function oP(e,t,n,r){if(e>cP)throw Error(`outlen must be at most ${cP} (given: ${e})`);return new aP(e,t,n,r)}const cP=64,uP=128,lP=1024,hP=205===new Uint8Array(new Uint16Array([43981]).buffer)[0];function fP(e,t,n){return e[n+0]=t,e[n+1]=t>>8,e[n+2]=t>>16,e[n+3]=t>>24,e}function dP(e,t,n){if(t>Number.MAX_SAFE_INTEGER)throw Error("LE64: large numbers unsupported");let r=t;for(let i=n;i<n+7;i++)e[i]=r,r=(r-e[i])/256;return e}function pP(e,t,n){const r=new Uint8Array(64),i=new Uint8Array(4+t.length);if(fP(i,e,0),i.set(t,4),e<=64)return oP(e).update(i).digest(n),n;const s=Math.ceil(e/32)-2;for(let o=0;o<s;o++)oP(64).update(0===o?i:r).digest(r),n.set(r.subarray(0,32),32*o);const a=new Uint8Array(oP(e-32*s).update(r).digest());return n.set(a,32*s),n}function yP(e,t,n,r){return e.fn.XOR(t.byteOffset,n.byteOffset,r.byteOffset),t}function gP(e,t,n,r){return e.fn.G(t.byteOffset,n.byteOffset,r.byteOffset,e.refs.gZ.byteOffset),r}function mP(e,t,n,r){return e.fn.G2(t.byteOffset,n.byteOffset,r.byteOffset,e.refs.gZ.byteOffset),r}function*wP(e,t,n,r,i,s,a,o){e.refs.prngTmp.fill(0);const c=e.refs.prngTmp.subarray(0,48);dP(c,t,0),dP(c,n,8),dP(c,r,16),dP(c,i,24),dP(c,s,32),dP(c,2,40);for(let u=1;u<=a;u++){dP(e.refs.prngTmp,u,c.length);const t=mP(e,e.refs.ZERO1024,e.refs.prngTmp,e.refs.prngR);for(let e=1===u?8*o:0;e<t.length;e+=8)yield t.subarray(e,e+8)}return[]}let bP;async function vP(e,t){const n=new WebAssembly.Memory({initial:1040,maximum:65536}),r=await async function(e,t,n){const r={env:{memory:e}};if(void 0===bP)try{const e=await t(r);return bP=!0,e}catch(e){bP=!1}return(bP?t:n)(r)}(n,e,t);return e=>function(e,t){let{memory:n,instance:r}=t;if(!hP)throw Error("BigEndian system not supported");const i=function(e){let{type:t,version:n,tagLength:r,password:i,salt:s,ad:a,secret:o,parallelism:c,memorySize:u,passes:l}=e;const h=(e,t,n,r)=>{if(t<n||t>r)throw Error(`${e} size should be between ${n} and ${r} bytes`)};if(2!==t||19!==n)throw Error("Unsupported type or version");return h("password",i,8,4294967295),h("salt",s,8,4294967295),h("tag",r,4,4294967295),h("memory",u,8*c,4294967295),a&&h("associated data",a,0,4294967295),o&&h("secret",o,0,32),{type:t,version:n,tagLength:r,password:i,salt:s,ad:a,secret:o,lanes:c,memorySize:u,passes:l}}({type:2,version:19,...e}),{G:s,G2:a,xor:o,getLZ:c}=r.exports,u={},l={};l.G=s,l.G2=a,l.XOR=o;const h=4*i.lanes*Math.floor(i.memorySize/(4*i.lanes)),f=h*lP+10240;if(n.buffer.byteLength<f){const e=Math.ceil((f-n.buffer.byteLength)/65536);n.grow(e)}let d=0;u.gZ=new Uint8Array(n.buffer,d,lP),d+=u.gZ.length,u.prngR=new Uint8Array(n.buffer,d,lP),d+=u.prngR.length,u.prngTmp=new Uint8Array(n.buffer,d,lP),d+=u.prngTmp.length,u.ZERO1024=new Uint8Array(n.buffer,d,1024),d+=u.ZERO1024.length;const p=new Uint32Array(n.buffer,d,2);d+=p.length*Uint32Array.BYTES_PER_ELEMENT;const y={fn:l,refs:u},g=new Uint8Array(n.buffer,d,lP);d+=g.length;const m=new Uint8Array(n.buffer,d,i.memorySize*lP),w=new Uint8Array(n.buffer,0,d),b=function(e){const t=oP(64),n=new Uint8Array(4),r=new Uint8Array(24);fP(r,e.lanes,0),fP(r,e.tagLength,4),fP(r,e.memorySize,8),fP(r,e.passes,12),fP(r,e.version,16),fP(r,e.type,20);const i=[r];e.password?(i.push(fP(new Uint8Array(4),e.password.length,0)),i.push(e.password)):i.push(n),e.salt?(i.push(fP(new Uint8Array(4),e.salt.length,0)),i.push(e.salt)):i.push(n),e.secret?(i.push(fP(new Uint8Array(4),e.secret.length,0)),i.push(e.secret)):i.push(n),e.ad?(i.push(fP(new Uint8Array(4),e.ad.length,0)),i.push(e.ad)):i.push(n),t.update(function(e){if(1===e.length)return e[0];let t=0;for(let i=0;i<e.length;i++){if(!(e[i]instanceof Uint8Array))throw Error("concatArrays: Data must be in the form of a Uint8Array");t+=e[i].length}const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(e,r),r+=e.length})),n}(i));const s=t.digest();return new Uint8Array(s)}(i),v=h/i.lanes,A=Array(i.lanes).fill(null).map((()=>Array(v))),k=(e,t)=>(A[e][t]=m.subarray(e*v*1024+1024*t,e*v*1024+1024*t+lP),A[e][t]);for(let C=0;C<i.lanes;C++){const e=new Uint8Array(b.length+8);e.set(b),fP(e,0,b.length),fP(e,C,b.length+4),pP(lP,e,k(C,0)),fP(e,1,b.length),pP(lP,e,k(C,1))}const E=v/4;for(let C=0;C<i.passes;C++)for(let e=0;e<4;e++){const t=0===C&&e<=1;for(let n=0;n<i.lanes;n++){let r=0===e&&0===C?2:0;const s=t?wP(y,C,n,e,h,i.passes,E,r):null;for(;r<E;r++){const a=e*E+r,o=a>0?A[n][a-1]:A[n][v-1],u=t?s.next().value:o;c(p.byteOffset,u.byteOffset,n,i.lanes,C,e,r,4,E);const l=p[0],h=p[1];0===C&&k(n,a),gP(y,o,A[l][h],C>0?g:A[n][a]),C>0&&yP(y,A[n][a],g,A[n][a])}}}const S=A[0][v-1];for(let C=1;C<i.lanes;C++)yP(y,S,S,A[C][v-1]);const I=pP(i.tagLength,S,new Uint8Array(i.tagLength));return w.fill(0),n.grow(0),I}(e,{instance:r.instance,memory:n})}function AP(e,t,n,r){var i=null,s=Qg.atob(n),a=s.length;i=new Uint8Array(new ArrayBuffer(a));for(var o=0;o<a;o++)i[o]=s.charCodeAt(o);return function(e,t){var n=WebAssembly.instantiate,r=WebAssembly.compile;return t?n(e,t):r(e)}(i,r)}var kP=Object.freeze({__proto__:null,default:async()=>vP((e=>AP(0,0,"AGFzbQEAAAABKwdgBH9/f38AYAABf2AAAGADf39/AGAJf39/f39/f39/AX9gAX8AYAF/AX8CEwEDZW52Bm1lbW9yeQIBkAiAgAQDCgkCAwAABAEFBgEEBQFwAQICBgkBfwFBkIjAAgsHfQoDeG9yAAEBRwACAkcyAAMFZ2V0TFoABBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALX2luaXRpYWxpemUAABBfX2Vycm5vX2xvY2F0aW9uAAgJc3RhY2tTYXZlAAUMc3RhY2tSZXN0b3JlAAYKc3RhY2tBbGxvYwAHCQcBAEEBCwEACs0gCQMAAQtYAQJ/A0AgACAEQQR0IgNqIAIgA2r9AAQAIAEgA2r9AAQA/VH9CwQAIAAgA0EQciIDaiACIANq/QAEACABIANq/QAEAP1R/QsEACAEQQJqIgRBwABHDQALC7ceAgt7A38DQCADIBFBBHQiD2ogASAPav0ABAAgACAPav0ABAD9USIF/QsEACACIA9qIAX9CwQAIAMgD0EQciIPaiABIA9q/QAEACAAIA9q/QAEAP1RIgX9CwQAIAIgD2ogBf0LBAAgEUECaiIRQcAARw0ACwNAIAMgEEEHdGoiAEEQaiAA/QAEcCAA/QAEMCIFIAD9AAQQIgT9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAQgBP0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgT9USIJQSD9ywEgCUEg/c0B/VAiCSAA/QAEUCIG/c4BIAkgCf0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIGIAX9USIFQSj9ywEgBUEY/c0B/VAiCCAE/c4BIAggCP0NAAECAwgJCgsAAQIDCAkKCyAEIAT9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIKIAogCf1RIgVBMP3LASAFQRD9zQH9UCIFIAb9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAYgBv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgkgCP1RIgRBAf3LASAEQT/9zQH9UCIMIAD9AARgIAD9AAQgIgQgAP0ABAAiBv3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBv1RIghBIP3LASAIQSD9zQH9UCIIIABBQGsiAf0ABAAiB/3OASAIIAj9DQABAgMICQoLAAECAwgJCgsgByAH/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiByAE/VEiBEEo/csBIARBGP3NAf1QIgsgBv3OASALIAv9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBiAI/VEiBEEw/csBIARBEP3NAf1QIgQgB/3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgByAH/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCCAL/VEiB0EB/csBIAdBP/3NAf1QIg0gDf0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eHyIH/c4BIAcgB/0NAAECAwgJCgsAAQIDCAkKCyAKIAr9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIKIAQgBSAF/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/VEiC0Eg/csBIAtBIP3NAf1QIgsgCP3OASALIAv9DQABAgMICQoLAAECAwgJCgsgCCAI/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCCAH/VEiB0Eo/csBIAdBGP3NAf1QIgcgCv3OASAHIAf9DQABAgMICQoLAAECAwgJCgsgCiAK/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiDv0LBAAgACAGIA0gDCAM/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4fIgr9zgEgCiAK/Q0AAQIDCAkKCwABAgMICQoLIAYgBv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgYgBSAEIAT9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9USIFQSD9ywEgBUEg/c0B/VAiBSAJ/c4BIAUgBf0NAAECAwgJCgsAAQIDCAkKCyAJIAn9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIJIAr9USIEQSj9ywEgBEEY/c0B/VAiCiAG/c4BIAogCv0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIE/QsEACAAIAQgBf1RIgVBMP3LASAFQRD9zQH9UCIFIA4gC/1RIgRBMP3LASAEQRD9zQH9UCIEIAT9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9CwRgIAAgBCAFIAX9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9CwRwIAEgBCAI/c4BIAQgBP0NAAECAwgJCgsAAQIDCAkKCyAIIAj9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIE/QsEACAAIAUgCf3OASAFIAX9DQABAgMICQoLAAECAwgJCgsgCSAJ/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCf0LBFAgACAEIAf9USIFQQH9ywEgBUE//c0B/VAiBSAJIAr9USIEQQH9ywEgBEE//c0B/VAiBCAE/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/QsEICAAIAQgBSAF/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/QsEMCAQQQFqIhBBCEcNAAtBACEQA0AgAyAQQQR0aiIAQYABaiAA/QAEgAcgAP0ABIADIgUgAP0ABIABIgT9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAQgBP0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgT9USIJQSD9ywEgCUEg/c0B/VAiCSAA/QAEgAUiBv3OASAJIAn9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBiAF/VEiBUEo/csBIAVBGP3NAf1QIgggBP3OASAIIAj9DQABAgMICQoLAAECAwgJCgsgBCAE/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiCiAKIAn9USIFQTD9ywEgBUEQ/c0B/VAiBSAG/c4BIAUgBf0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIJIAj9USIEQQH9ywEgBEE//c0B/VAiDCAA/QAEgAYgAP0ABIACIgQgAP0ABAAiBv3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBv1RIghBIP3LASAIQSD9zQH9UCIIIAD9AASABCIH/c4BIAggCP0NAAECAwgJCgsAAQIDCAkKCyAHIAf9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIHIAT9USIEQSj9ywEgBEEY/c0B/VAiCyAG/c4BIAsgC/0NAAECAwgJCgsAAQIDCAkKCyAGIAb9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIGIAj9USIEQTD9ywEgBEEQ/c0B/VAiBCAH/c4BIAQgBP0NAAECAwgJCgsAAQIDCAkKCyAHIAf9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIIIAv9USIHQQH9ywEgB0E//c0B/VAiDSAN/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4fIgf9zgEgByAH/Q0AAQIDCAkKCwABAgMICQoLIAogCv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgogBCAFIAX9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9USILQSD9ywEgC0Eg/c0B/VAiCyAI/c4BIAsgC/0NAAECAwgJCgsAAQIDCAkKCyAIIAj9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIIIAf9USIHQSj9ywEgB0EY/c0B/VAiByAK/c4BIAcgB/0NAAECAwgJCgsAAQIDCAkKCyAKIAr9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIO/QsEACAAIAYgDSAMIAz9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh8iCv3OASAKIAr9DQABAgMICQoLAAECAwgJCgsgBiAG/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBiAFIAQgBP0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eH/1RIgVBIP3LASAFQSD9zQH9UCIFIAn9zgEgBSAF/Q0AAQIDCAkKCwABAgMICQoLIAkgCf0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgkgCv1RIgRBKP3LASAEQRj9zQH9UCIKIAb9zgEgCiAK/Q0AAQIDCAkKCwABAgMICQoLIAYgBv0NAAECAwgJCgsAAQIDCAkKC/3eAUEB/csB/c4BIgT9CwQAIAAgBCAF/VEiBUEw/csBIAVBEP3NAf1QIgUgDiAL/VEiBEEw/csBIARBEP3NAf1QIgQgBP0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eH/0LBIAGIAAgBCAFIAX9DQABAgMEBQYHEBESExQVFhf9DQgJCgsMDQ4PGBkaGxwdHh/9CwSAByAAIAQgCP3OASAEIAT9DQABAgMICQoLAAECAwgJCgsgCCAI/Q0AAQIDCAkKCwABAgMICQoL/d4BQQH9ywH9zgEiBP0LBIAEIAAgBSAJ/c4BIAUgBf0NAAECAwgJCgsAAQIDCAkKCyAJIAn9DQABAgMICQoLAAECAwgJCgv93gFBAf3LAf3OASIJ/QsEgAUgACAEIAf9USIFQQH9ywEgBUE//c0B/VAiBSAJIAr9USIEQQH9ywEgBEE//c0B/VAiBCAE/Q0AAQIDBAUGBxAREhMUFRYX/Q0ICQoLDA0ODxgZGhscHR4f/QsEgAIgACAEIAUgBf0NAAECAwQFBgcQERITFBUWF/0NCAkKCwwNDg8YGRobHB0eH/0LBIADIBBBAWoiEEEIRw0AC0EAIRADQCACIBBBBHQiAGoiASAAIANq/QAEACAB/QAEAP1R/QsEACACIABBEHIiAWoiDyABIANq/QAEACAP/QAEAP1R/QsEACACIABBIHIiAWoiDyABIANq/QAEACAP/QAEAP1R/QsEACACIABBMHIiAGoiASAAIANq/QAEACAB/QAEAP1R/QsEACAQQQRqIhBBwABHDQALCxYAIAAgASACIAMQAiAAIAIgAiADEAILewIBfwF+IAIhCSABNQIAIQogBCAFcgRAIAEoAgQgA3AhCQsgACAJNgIAIAAgB0EBayAFIAQbIAhsIAZBAWtBAEF/IAYbIAIgCUYbaiIBIAVBAWogCGxBACAEG2ogAa0gCiAKfkIgiH5CIIinQX9zaiAHIAhscDYCBCAACwQAIwALBgAgACQACxAAIwAgAGtBcHEiACQAIAALBQBBgAgL",e)),(e=>AP(0,0,"AGFzbQEAAAABPwhgBH9/f38AYAABf2AAAGADf39/AGARf39/f39/f39/f39/f39/f38AYAl/f39/f39/f38Bf2ABfwBgAX8BfwITAQNlbnYGbWVtb3J5AgGQCICABAMLCgIDBAAABQEGBwEEBQFwAQICBgkBfwFBkIjAAgsHfQoDeG9yAAEBRwADAkcyAAQFZ2V0TFoABRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALX2luaXRpYWxpemUAABBfX2Vycm5vX2xvY2F0aW9uAAkJc3RhY2tTYXZlAAYMc3RhY2tSZXN0b3JlAAcKc3RhY2tBbGxvYwAICQcBAEEBCwEACssaCgMAAQtQAQJ/A0AgACAEQQN0IgNqIAIgA2opAwAgASADaikDAIU3AwAgACADQQhyIgNqIAIgA2opAwAgASADaikDAIU3AwAgBEECaiIEQYABRw0ACwveDwICfgF/IAAgAUEDdGoiEyATKQMAIhEgACAFQQN0aiIBKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIA1BA3RqIgUgESAFKQMAhUIgiSIRNwMAIAAgCUEDdGoiCSARIAkpAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAEgESABKQMAhUIoiSIRNwMAIBMgESATKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAFIBEgBSkDAIVCMIkiETcDACAJIBEgCSkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgASARIAEpAwCFQgGJNwMAIAAgAkEDdGoiDSANKQMAIhEgACAGQQN0aiICKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIA5BA3RqIgYgESAGKQMAhUIgiSIRNwMAIAAgCkEDdGoiCiARIAopAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAIgESACKQMAhUIoiSIRNwMAIA0gESANKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAGIBEgBikDAIVCMIkiETcDACAKIBEgCikDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgAiARIAIpAwCFQgGJNwMAIAAgA0EDdGoiDiAOKQMAIhEgACAHQQN0aiIDKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIA9BA3RqIgcgESAHKQMAhUIgiSIRNwMAIAAgC0EDdGoiCyARIAspAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAMgESADKQMAhUIoiSIRNwMAIA4gESAOKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAHIBEgBykDAIVCMIkiETcDACALIBEgCykDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgAyARIAMpAwCFQgGJNwMAIAAgBEEDdGoiDyAPKQMAIhEgACAIQQN0aiIEKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAAIBBBA3RqIgggESAIKQMAhUIgiSIRNwMAIAAgDEEDdGoiACARIAApAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAQgESAEKQMAhUIoiSIRNwMAIA8gESAPKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAIIBEgCCkDAIVCMIkiETcDACAAIBEgACkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgBCARIAQpAwCFQgGJNwMAIBMgEykDACIRIAIpAwAiEnwgEUIBhkL+////H4MgEkL/////D4N+fCIRNwMAIAggESAIKQMAhUIgiSIRNwMAIAsgESALKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACACIBEgAikDAIVCKIkiETcDACATIBEgEykDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgCCARIAgpAwCFQjCJIhE3AwAgCyARIAspAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAIgESACKQMAhUIBiTcDACANIA0pAwAiESADKQMAIhJ8IBFCAYZC/v///x+DIBJC/////w+DfnwiETcDACAFIBEgBSkDAIVCIIkiETcDACAAIBEgACkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgAyARIAMpAwCFQiiJIhE3AwAgDSARIA0pAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAUgESAFKQMAhUIwiSIRNwMAIAAgESAAKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACADIBEgAykDAIVCAYk3AwAgDiAOKQMAIhEgBCkDACISfCARQgGGQv7///8fgyASQv////8Pg358IhE3AwAgBiARIAYpAwCFQiCJIhE3AwAgCSARIAkpAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAQgESAEKQMAhUIoiSIRNwMAIA4gESAOKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACAGIBEgBikDAIVCMIkiETcDACAJIBEgCSkDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgBCARIAQpAwCFQgGJNwMAIA8gDykDACIRIAEpAwAiEnwgEUIBhkL+////H4MgEkL/////D4N+fCIRNwMAIAcgESAHKQMAhUIgiSIRNwMAIAogESAKKQMAIhJ8IBFC/////w+DIBJCAYZC/v///x+DfnwiETcDACABIBEgASkDAIVCKIkiETcDACAPIBEgDykDACISfCARQv////8PgyASQgGGQv7///8fg358IhE3AwAgByARIAcpAwCFQjCJIhE3AwAgCiARIAopAwAiEnwgEUL/////D4MgEkIBhkL+////H4N+fCIRNwMAIAEgESABKQMAhUIBiTcDAAvdCAEPfwNAIAIgBUEDdCIGaiABIAZqKQMAIAAgBmopAwCFNwMAIAIgBkEIciIGaiABIAZqKQMAIAAgBmopAwCFNwMAIAVBAmoiBUGAAUcNAAsDQCADIARBA3QiAGogACACaikDADcDACADIARBAXIiAEEDdCIBaiABIAJqKQMANwMAIAMgBEECciIBQQN0IgVqIAIgBWopAwA3AwAgAyAEQQNyIgVBA3QiBmogAiAGaikDADcDACADIARBBHIiBkEDdCIHaiACIAdqKQMANwMAIAMgBEEFciIHQQN0IghqIAIgCGopAwA3AwAgAyAEQQZyIghBA3QiCWogAiAJaikDADcDACADIARBB3IiCUEDdCIKaiACIApqKQMANwMAIAMgBEEIciIKQQN0IgtqIAIgC2opAwA3AwAgAyAEQQlyIgtBA3QiDGogAiAMaikDADcDACADIARBCnIiDEEDdCINaiACIA1qKQMANwMAIAMgBEELciINQQN0Ig5qIAIgDmopAwA3AwAgAyAEQQxyIg5BA3QiD2ogAiAPaikDADcDACADIARBDXIiD0EDdCIQaiACIBBqKQMANwMAIAMgBEEOciIQQQN0IhFqIAIgEWopAwA3AwAgAyAEQQ9yIhFBA3QiEmogAiASaikDADcDACADIARB//8DcSAAQf//A3EgAUH//wNxIAVB//8DcSAGQf//A3EgB0H//wNxIAhB//8DcSAJQf//A3EgCkH//wNxIAtB//8DcSAMQf//A3EgDUH//wNxIA5B//8DcSAPQf//A3EgEEH//wNxIBFB//8DcRACIARB8ABJIQAgBEEQaiEEIAANAAtBACEBIANBAEEBQRBBEUEgQSFBMEExQcAAQcEAQdAAQdEAQeAAQeEAQfAAQfEAEAIgA0ECQQNBEkETQSJBI0EyQTNBwgBBwwBB0gBB0wBB4gBB4wBB8gBB8wAQAiADQQRBBUEUQRVBJEElQTRBNUHEAEHFAEHUAEHVAEHkAEHlAEH0AEH1ABACIANBBkEHQRZBF0EmQSdBNkE3QcYAQccAQdYAQdcAQeYAQecAQfYAQfcAEAIgA0EIQQlBGEEZQShBKUE4QTlByABByQBB2ABB2QBB6ABB6QBB+ABB+QAQAiADQQpBC0EaQRtBKkErQTpBO0HKAEHLAEHaAEHbAEHqAEHrAEH6AEH7ABACIANBDEENQRxBHUEsQS1BPEE9QcwAQc0AQdwAQd0AQewAQe0AQfwAQf0AEAIgA0EOQQ9BHkEfQS5BL0E+QT9BzgBBzwBB3gBB3wBB7gBB7wBB/gBB/wAQAgNAIAIgAUEDdCIAaiIEIAAgA2opAwAgBCkDAIU3AwAgAiAAQQhyIgRqIgUgAyAEaikDACAFKQMAhTcDACACIABBEHIiBGoiBSADIARqKQMAIAUpAwCFNwMAIAIgAEEYciIAaiIEIAAgA2opAwAgBCkDAIU3AwAgAUEEaiIBQYABRw0ACwsWACAAIAEgAiADEAMgACACIAIgAxADC3sCAX8BfiACIQkgATUCACEKIAQgBXIEQCABKAIEIANwIQkLIAAgCTYCACAAIAdBAWsgBSAEGyAIbCAGQQFrQQBBfyAGGyACIAlGG2oiASAFQQFqIAhsQQAgBBtqIAGtIAogCn5CIIh+QiCIp0F/c2ogByAIbHA2AgQgAAsEACMACwYAIAAkAAsQACMAIABrQXBxIgAkACAACwUAQYAICw==",e)))}),EP=[0,1,3,7,15,31,63,127,255],SP=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};SP.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},SP.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var n=8-this.bitOffset;if(e>=n)t<<=n,t|=EP[n]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=n;else{t<<=e;var r=n-e;t|=(this.curByte&EP[e]<<r)>>r,this.bitOffset+=e,e=0}}return t},SP.prototype.seek=function(e){var t=e%8,n=(e-t)/8;this.bitOffset=t,this.stream.seek(n),this.hasByte=!1},SP.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(e){return Array.prototype.map.call(e,(e=>("00"+e.toString(16)).slice(-2))).join("")}(t)};var IP=SP,CP=function(){};CP.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},CP.prototype.read=function(e,t,n){for(var r=0;r<n;){var i=this.readByte();if(i<0)return 0===r?-1:r;e[t++]=i,r++}return r},CP.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},CP.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},CP.prototype.write=function(e,t,n){var r;for(r=0;r<n;r++)this.writeByte(e[t++]);return n},CP.prototype.flush=function(){};var xP,BP=CP,PP=(xP=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^xP[255&(e>>>24^t)]},this.updateCRCRun=function(t,n){for(;n-- >0;)e=e<<8^xP[255&(e>>>24^t)]}}),_P=IP,TP=BP,NP=PP,RP=function(e,t){var n,r=e[t];for(n=t;n>0;n--)e[n]=e[n-1];return e[0]=r,r},DP={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},UP={};UP[DP.LAST_BLOCK]="Bad file checksum",UP[DP.NOT_BZIP_DATA]="Not bzip data",UP[DP.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",UP[DP.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",UP[DP.DATA_ERROR]="Data error",UP[DP.OUT_OF_MEMORY]="Out of memory",UP[DP.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var OP=function(e,t){var n=UP[e]||"unknown error";t&&(n+=": "+t);var r=new TypeError(n);throw r.errorCode=e,r},LP=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};LP.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new NP,!0):(this.writeCount=-1,!1)},LP.prototype._start_bunzip=function(e,t){var n=new Uint8Array(4);4===e.read(n,0,4)&&"BZh"===String.fromCharCode(n[0],n[1],n[2])||OP(DP.NOT_BZIP_DATA,"bad magic");var r=n[3]-48;(r<1||r>9)&&OP(DP.NOT_BZIP_DATA,"level out of range"),this.reader=new _P(e),this.dbufSize=1e5*r,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},LP.prototype._get_next_block=function(){var e,t,n,r=this.reader,i=r.pi();if("177245385090"===i)return!1;"314159265359"!==i&&OP(DP.NOT_BZIP_DATA),this.targetBlockCRC=r.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,r.read(1)&&OP(DP.OBSOLETE_INPUT);var s=r.read(24);s>this.dbufSize&&OP(DP.DATA_ERROR,"initial position out of bounds");var a=r.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(a&1<<15-e){var u=16*e;for(n=r.read(16),t=0;t<16;t++)n&1<<15-t&&(o[c++]=u+t)}var l=r.read(3);(l<2||l>6)&&OP(DP.DATA_ERROR);var h=r.read(15);0===h&&OP(DP.DATA_ERROR);var f=new Uint8Array(256);for(e=0;e<l;e++)f[e]=e;var d=new Uint8Array(h);for(e=0;e<h;e++){for(t=0;r.read(1);t++)t>=l&&OP(DP.DATA_ERROR);d[e]=RP(f,t)}var p,y=c+2,g=[];for(t=0;t<l;t++){var m,w,b=new Uint8Array(y),v=new Uint16Array(21);for(a=r.read(5),e=0;e<y;e++){for(;(a<1||a>20)&&OP(DP.DATA_ERROR),r.read(1);)r.read(1)?a--:a++;b[e]=a}for(m=w=b[0],e=1;e<y;e++)b[e]>w?w=b[e]:b[e]<m&&(m=b[e]);p={},g.push(p),p.permute=new Uint16Array(258),p.limit=new Uint32Array(22),p.base=new Uint32Array(21),p.minLen=m,p.maxLen=w;var A=0;for(e=m;e<=w;e++)for(v[e]=p.limit[e]=0,a=0;a<y;a++)b[a]===e&&(p.permute[A++]=a);for(e=0;e<y;e++)v[b[e]]++;for(A=a=0,e=m;e<w;e++)A+=v[e],p.limit[e]=A-1,A<<=1,a+=v[e],p.base[e+1]=A-a;p.limit[w+1]=Number.MAX_VALUE,p.limit[w]=A+v[w]-1,p.base[m]=0}var k=new Uint32Array(256);for(e=0;e<256;e++)f[e]=e;var E,S=0,I=0,C=0,x=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,C>=h&&OP(DP.DATA_ERROR),p=g[d[C++]]),e=p.minLen,t=r.read(e);e>p.maxLen&&OP(DP.DATA_ERROR),!(t<=p.limit[e]);e++)t=t<<1|r.read(1);((t-=p.base[e])<0||t>=258)&&OP(DP.DATA_ERROR);var B=p.permute[t];if(0!==B&&1!==B){if(S)for(S=0,I+a>this.dbufSize&&OP(DP.DATA_ERROR),k[E=o[f[0]]]+=a;a--;)x[I++]=E;if(B>c)break;I>=this.dbufSize&&OP(DP.DATA_ERROR),k[E=o[E=RP(f,e=B-1)]]++,x[I++]=E}else S||(S=1,a=0),a+=0===B?S:2*S,S<<=1}for((s<0||s>=I)&&OP(DP.DATA_ERROR),t=0,e=0;e<256;e++)n=t+k[e],k[e]=t,t=n;for(e=0;e<I;e++)x[k[E=255&x[e]]]|=e<<8,k[E]++;var P=0,_=0,T=0;return I&&(_=255&(P=x[s]),P>>=8,T=-1),this.writePos=P,this.writeCurrent=_,this.writeCount=I,this.writeRun=T,!0},LP.prototype._read_bunzip=function(e,t){var n,r,i;if(this.writeCount<0)return 0;var s=this.dbuf,a=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,r=o,o=255&(a=s[a]),a>>=8,3==u++?(n=o,i=r,o=-1):(n=1,i=o),this.blockCRC.updateCRCRun(i,n);n--;)this.outputStream.writeByte(i),this.nextoutput++;o!=r&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&OP(DP.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var MP=function(e){if("readByte"in e)return e;var t=new TP;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t},KP=function(e){var t=new TP,n=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),n=!1;else{if("writeByte"in e)return e;t.buffer=e,n=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(n&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!n)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t},FP={Bunzip:LP,Stream:TP,Err:DP,decode:function(e,t,n){for(var r=MP(e),i=KP(t),s=new LP(r,i);!("eof"in r)||!r.eof();)if(s._init_block())s._read_bunzip();else{var a=s.reader.read(32)>>>0;if(a!==s.streamCRC&&OP(DP.DATA_ERROR,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+a.toString(16)+")"),!n||!("eof"in r)||r.eof())break;s._start_bunzip(r,i)}if("getBuffer"in i)return i.getBuffer()},decodeBlock:function(e,t,n){var r=MP(e),i=KP(n),s=new LP(r,i);if(s.reader.seek(t),s._get_next_block()&&(s.blockCRC=new NP,s.writeCopies=0,s._read_bunzip()),"getBuffer"in i)return i.getBuffer()},table:function(e,t,n){var r=new TP;r.delegate=MP(e),r.pos=0,r.readByte=function(){return this.pos++,this.delegate.readByte()},r.delegate.eof&&(r.eof=r.delegate.eof.bind(r.delegate));var i=new TP;i.pos=0,i.writeByte=function(){this.pos++};for(var s=new LP(r,i),a=s.dbufSize;!("eof"in r)||!r.eof();){var o=8*r.pos+s.reader.bitOffset;if(s.reader.hasByte&&(o-=8),s._init_block()){var c=i.pos;s._read_bunzip(),t(o,i.pos-c)}else{if(s.reader.read(32),!n||!("eof"in r)||r.eof())break;s._start_bunzip(r,i),console.assert(s.dbufSize===a,"shouldn't change block size within multistream file")}}}},jP=zg({__proto__:null},[FP]);const QP=()=>({cCNTP:{balance:"0",network:"CONET Holesky",decimal:18,contract:ss.address,name:"cCNTP"},conet:{balance:"0",network:"CONET Holesky",decimal:18,contract:"",name:"conet"}}),zP=(e,t,n)=>new Promise(((r,i)=>{const s=new XMLHttpRequest;s.onload=()=>{if(clearTimeout(a),200===s.status){if(!s.responseText.length)return r("");let e;try{e=JSON.parse(s.responseText)}catch(n){return r(t?"":s.responseText)}return r(e)}return console.log(`postToEndpoint [${e}] xhr.status [${200===s.status}] !== 200 Error`),r(!1)},s.onerror=e=>(console.log("xhr.onerror",e),clearTimeout(a),i(e)),s.open(t?"POST":"GET",e,!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.send(n?JSON.stringify(n):"");const a=setTimeout((()=>{const t="Timeout!";console.log(`postToEndpoint ${e} Timeout Error`,t),i(new Error(t))}),3e4)}));let HP=null;const GP=e=>{HP=e},VP=n(716).A;let qP=0;const JP=()=>{try{return jg.createRandom()}catch(e){return null}},$P=async(e,t,n)=>{const r={type:"ecc",passphrase:e,userIDs:[{name:t,email:n}],curve:"curve25519",format:"armored"};return await WS(r)},WP=async(e,t)=>{if("0"===(null===HP||void 0===HP?void 0:HP.profiles[0].tokens.conet.balance)){if(++qP>6)return qP=0,console.log("getFaucet Roop > 6 STOP process!"),null;const t="https://apiv4.conet.network/api/conet-faucet";let r;try{r=await zP(t,!0,{walletAddr:e})}catch(n){return console.log(`getFaucet postToEndpoint [${t}] error! `,n),null}return qP=0,!!r||null}{const e=new Bl(Nl),r=new jg(t,e),i=new ns(as.address,as.abi,r);try{const e=await i.getFaucet();return console.log(`success hash = ${e.hash}`),!0}catch(n){return console.log(n),null}}},YP=async()=>{var e;if(HP)try{await ZP("init",Buffer.from((e=HP,JSON.stringify(e,((e,t)=>"bigint"===typeof t?t.toString():t)))).toString("base64"))}catch(t){console.log("storeSystemData storageHashData Error!",t)}},ZP=async(e,t)=>{const n=VP(Tl,{auto_compaction:!0});let r;try{r=await n.get(e,{latest:!0});try{await n.put({_id:e,title:t,_rev:r._rev})}catch(i){console.log("put doc storageHashData Error!",i)}}catch(i){if(/^not_found/.test(i.name))try{await n.post({_id:e,title:t})}catch(i){console.log("create new doc storageHashData Error!",i)}else console.log("get doc storageHashData Error!",i)}},XP=async()=>{const e=VP(Tl,{auto_compaction:!0});try{const t=await e.get("init",{latest:!0}),n=JSON.parse(Buffer.from(t.title,"base64").toString());GP(n)}catch(t){return console.log("checkStorage have no CoNET data in IndexDB, INIT CoNET data")}};function e_(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();return e.call(this,n,i)}}var t_="function"===typeof queueMicrotask&&queueMicrotask,n_="function"===typeof setImmediate&&setImmediate,r_="object"===typeof process&&"function"===typeof process.nextTick;function i_(e){setTimeout(e,0)}function s_(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e((()=>t(...r)))}}var a_=s_(t_?queueMicrotask:n_?setImmediate:r_?process.nextTick:i_);function o_(e){return l_(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n.pop();return c_(e.apply(this,n),i)}:e_((function(t,n){var r;try{r=e.apply(this,t)}catch(Qg){return n(Qg)}if(r&&"function"===typeof r.then)return c_(r,n);n(null,r)}))}function c_(e,t){return e.then((e=>{u_(t,null,e)}),(e=>{u_(t,e&&(e instanceof Error||e.message)?e:new Error(e))}))}function u_(e,t,n){try{e(t,n)}catch(r){a_((e=>{throw e}),r)}}function l_(e){return"AsyncFunction"===e[Symbol.toStringTag]}function h_(e){if("function"!==typeof e)throw new Error("expected a function");return l_(e)?o_(e):e}function f_(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"function"===typeof r[t-1]?e.apply(this,r):new Promise(((n,i)=>{r[t-1]=function(e){if(e)return i(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];n(r.length>1?r:r[0])},e.apply(this,r)}))}}function d_(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=f_((function(n){var i=this;return e(t,((e,t)=>{h_(e).apply(i,r.concat(t))}),n)}));return s}}function p_(e,t,n,r){t=t||[];var i=[],s=0,a=h_(n);return e(t,((e,t,n)=>{var r=s++;a(e,((e,t)=>{i[r]=t,n(e)}))}),(e=>{r(e,i)}))}function y_(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}const g_={};function m_(e){function t(){if(null!==e){var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}return Object.assign(t,e),t}function w_(e){if(y_(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):function(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function i(){var s=t[++n];return"__proto__"===s?i():n<r?{value:e[s],key:s}:null}}(e)}function b_(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}function v_(e,t,n,r){let i=!1,s=!1,a=!1,o=0,c=0;function u(){o>=t||a||i||(a=!0,e.next().then((e=>{let{value:t,done:h}=e;if(!s&&!i){if(a=!1,h)return i=!0,void(o<=0&&r(null));o++,n(t,c,l),c++,u()}})).catch(h))}function l(e,t){if(o-=1,!s)return e?h(e):!1===e?(i=!0,void(s=!0)):t===g_||i&&o<=0?(i=!0,r(null)):void u()}function h(e){s||(a=!1,i=!0,r(e))}u()}var A_=e=>(t,n,r)=>{if(r=m_(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if(function(e){return"AsyncGenerator"===e[Symbol.toStringTag]}(t))return v_(t,e,n,r);if(function(e){return"function"===typeof e[Symbol.asyncIterator]}(t))return v_(t[Symbol.asyncIterator](),e,n,r);var i=w_(t),s=!1,a=!1,o=0,c=!1;function u(e,t){if(!a)if(o-=1,e)s=!0,r(e);else if(!1===e)s=!0,a=!0;else{if(t===g_||s&&o<=0)return s=!0,r(null);c||l()}}function l(){for(c=!0;o<e&&!s;){var t=i();if(null===t)return s=!0,void(o<=0&&r(null));o+=1,n(t.value,t.key,b_(u))}c=!1}l()};var k_=f_((function(e,t,n,r){return A_(t)(e,h_(n),r)}),4);function E_(e,t,n){n=m_(n);var r=0,i=0,{length:s}=e,a=!1;function o(e,t){!1===e&&(a=!0),!0!==a&&(e?n(e):++i!==s&&t!==g_||n(null))}for(0===s&&n(null);r<s;r++)t(e[r],r,b_(o))}function S_(e,t,n){return k_(e,1/0,t,n)}var I_=f_((function(e,t,n){return(y_(e)?E_:S_)(e,h_(t),n)}),3);var C_=f_((function(e,t,n){return p_(I_,e,t,n)}),3),x_=d_(C_);var B_=f_((function(e,t,n){return k_(e,1,t,n)}),3);var P_=f_((function(e,t,n){return p_(B_,e,t,n)}),3),__=d_(P_);const T_=Symbol("promiseCallback");function N_(){let e,t;function n(n){if(n)return t(n);for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];e(i.length>1?i:i[0])}return n[T_]=new Promise(((n,r)=>{e=n,t=r})),n}function R_(e,t,n){"number"!==typeof t&&(n=t,t=null),n=m_(n||N_());var r=Object.keys(e).length;if(!r)return n(null);t||(t=r);var i={},s=0,a=!1,o=!1,c=Object.create(null),u=[],l=[],h={};function f(e,t){u.push((()=>function(e,t){if(o)return;var r=b_((function(t){for(var r=arguments.length,u=new Array(r>1?r-1:0),l=1;l<r;l++)u[l-1]=arguments[l];if(s--,!1!==t)if(u.length<2&&([u]=u),t){var h={};if(Object.keys(i).forEach((e=>{h[e]=i[e]})),h[e]=u,o=!0,c=Object.create(null),a)return;n(t,h)}else i[e]=u,(c[e]||[]).forEach((e=>e())),d();else a=!0}));s++;var u=h_(t[t.length-1]);t.length>1?u(i,r):u(r)}(e,t)))}function d(){if(!a){if(0===u.length&&0===s)return n(null,i);for(;u.length&&s<t;){u.shift()()}}}function p(t){var n=[];return Object.keys(e).forEach((r=>{const i=e[r];Array.isArray(i)&&i.indexOf(t)>=0&&n.push(r)})),n}return Object.keys(e).forEach((t=>{var n=e[t];if(!Array.isArray(n))return f(t,[n]),void l.push(t);var r=n.slice(0,n.length-1),i=r.length;if(0===i)return f(t,n),void l.push(t);h[t]=i,r.forEach((s=>{if(!e[s])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+s+"` in "+r.join(", "));!function(e,t){var n=c[e];n||(n=c[e]=[]);n.push(t)}(s,(()=>{0===--i&&f(t,n)}))}))})),function(){var e=0;for(;l.length;)e++,p(l.pop()).forEach((e=>{0===--h[e]&&l.push(e)}));if(e!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),n[T_]}var D_=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,U_=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,O_=/,/,L_=/(=.+)?(\s*)$/;class M_{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):K_(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):K_(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:n}=t;e(t)&&this.removeLink(t),t=n}return this}}function K_(e,t){e.length=1,e.head=e.tail=t}function F_(e,t,n){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var r=h_(e),i=0,s=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function o(e,t){return e?t?void(a[e]=a[e].filter((e=>e!==t))):a[e]=[]:Object.keys(a).forEach((e=>a[e]=[]))}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a[e].forEach((e=>e(...n)))}var u=!1;function l(e,t,n,r){if(null!=r&&"function"!==typeof r)throw new Error("task callback must be a function");var i,s;function a(e){if(e)return n?s(e):i();for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(r.length<=1)return i(r[0]);i(r)}y.started=!0;var o=y._createTaskItem(e,n?a:r||a);if(t?y._tasks.unshift(o):y._tasks.push(o),u||(u=!0,a_((()=>{u=!1,y.process()}))),n||!r)return new Promise(((e,t)=>{i=e,s=t}))}function h(e){return function(t){i-=1;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var o=0,u=e.length;o<u;o++){var l=e[o],h=s.indexOf(l);0===h?s.shift():h>0&&s.splice(h,1),l.callback(t,...r),null!=t&&c("error",t,l.data)}i<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function f(e){return!(0!==e.length||!y.idle())&&(a_((()=>c("drain"))),!0)}const d=e=>t=>{if(!t)return new Promise(((t,n)=>{!function(e,t){const n=function(){o(e,n),t(...arguments)};a[e].push(n)}(e,((e,r)=>{if(e)return n(e);t(r)}))}));o(e),function(e,t){a[e].push(t)}(e,t)};var p=!1,y={_tasks:new M_,_createTaskItem:(e,t)=>({data:e,callback:t}),*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:n,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(f(e))return;return e.map((e=>l(e,!1,!1,t)))}return l(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(f(e))return;return e.map((e=>l(e,!1,!0,t)))}return l(e,!1,!0,t)},kill(){o(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(f(e))return;return e.map((e=>l(e,!0,!1,t)))}return l(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(f(e))return;return e.map((e=>l(e,!0,!0,t)))}return l(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!p){for(p=!0;!y.paused&&i<y.concurrency&&y._tasks.length;){var e=[],t=[],n=y._tasks.length;y.payload&&(n=Math.min(n,y.payload));for(var a=0;a<n;a++){var o=y._tasks.shift();e.push(o),s.push(o),t.push(o.data)}i+=1,0===y._tasks.length&&c("empty"),i===y.concurrency&&c("saturated");var u=b_(h(e));r(t,u)}p=!1}},length:()=>y._tasks.length,running:()=>i,workersList:()=>s,idle:()=>y._tasks.length+i===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,a_(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),y}var j_=f_((function(e,t,n,r){r=m_(r);var i=h_(n);return B_(e,((e,n,r)=>{i(t,e,((e,n)=>{t=n,r(e)}))}),(e=>r(e,t)))}),4);function Q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(h_);return function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[n.length-1];return"function"==typeof s?n.pop():s=N_(),j_(r,n,((t,n,r)=>{n.apply(e,t.concat((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r(e,n)})))}),((e,t)=>s(e,...t))),s[T_]}}var z_=f_((function(e,t,n,r){return p_(A_(t),e,n,r)}),4);var H_=f_((function(e,t,n,r){var i=h_(n);return z_(e,t,((e,t)=>{i(e,(function(e){if(e)return t(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(e,r)}))}),((e,t)=>{for(var n=[],i=0;i<t.length;i++)t[i]&&(n=n.concat(...t[i]));return r(e,n)}))}),4);var G_=f_((function(e,t,n){return H_(e,1/0,t,n)}),3);var V_=f_((function(e,t,n){return H_(e,1,t,n)}),3);function q_(e,t){return(n,r,i,s)=>{var a,o=!1;const c=h_(i);n(r,((n,r,i)=>{c(n,((r,s)=>r||!1===r?i(r):e(s)&&!a?(o=!0,a=t(!0,n),i(null,g_)):void i()))}),(e=>{if(e)return s(e);s(null,o?a:t(!1))}))}}var J_=f_((function(e,t,n){return q_((e=>e),((e,t)=>t))(I_,e,t,n)}),3);var $_=f_((function(e,t,n,r){return q_((e=>e),((e,t)=>t))(A_(t),e,n,r)}),4);var W_=f_((function(e,t,n){return q_((e=>e),((e,t)=>t))(A_(1),e,t,n)}),3);function Y_(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return h_(t)(...r,(function(t){if("object"===typeof console)if(t)console.error&&console.error(t);else if(console[e]){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((t=>console[e](t)))}}))}}var Z_=Y_("dir");var X_=f_((function(e,t,n){n=b_(n);var r,i=h_(e),s=h_(t);function a(e){if(e)return n(e);if(!1!==e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];r=i,s(...i,o)}}function o(e,t){return e?n(e):!1!==e?t?void i(a):n(null,...r):void 0}return o(null,!0)}),3);function eT(e){return(t,n,r)=>e(t,r)}var tT=f_((function(e,t,n){return I_(e,eT(h_(t)),n)}),3);var nT=f_((function(e,t,n,r){return A_(t)(e,eT(h_(n)),r)}),4);var rT=f_((function(e,t,n){return nT(e,1,t,n)}),3);function iT(e){return l_(e)?e:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop(),s=!0;n.push((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s?a_((()=>i(...t))):i(...t)})),e.apply(this,n),s=!1}}var sT=f_((function(e,t,n){return q_((e=>!e),(e=>!e))(I_,e,t,n)}),3);var aT=f_((function(e,t,n,r){return q_((e=>!e),(e=>!e))(A_(t),e,n,r)}),4);var oT=f_((function(e,t,n){return q_((e=>!e),(e=>!e))(B_,e,t,n)}),3);function cT(e,t,n,r){var i=new Array(t.length);e(t,((e,t,r)=>{n(e,((e,n)=>{i[t]=!!n,r(e)}))}),(e=>{if(e)return r(e);for(var n=[],s=0;s<t.length;s++)i[s]&&n.push(t[s]);r(null,n)}))}function uT(e,t,n,r){var i=[];e(t,((e,t,r)=>{n(e,((n,s)=>{if(n)return r(n);s&&i.push({index:t,value:e}),r(n)}))}),(e=>{if(e)return r(e);r(null,i.sort(((e,t)=>e.index-t.index)).map((e=>e.value)))}))}function lT(e,t,n,r){return(y_(t)?cT:uT)(e,t,h_(n),r)}var hT=f_((function(e,t,n){return lT(I_,e,t,n)}),3);var fT=f_((function(e,t,n,r){return lT(A_(t),e,n,r)}),4);var dT=f_((function(e,t,n){return lT(B_,e,t,n)}),3);var pT=f_((function(e,t){var n=b_(t),r=h_(iT(e));return function e(t){if(t)return n(t);!1!==t&&r(e)}()}),2);var yT=f_((function(e,t,n,r){var i=h_(n);return z_(e,t,((e,t)=>{i(e,((n,r)=>n?t(n):t(n,{key:r,val:e})))}),((e,t)=>{for(var n={},{hasOwnProperty:i}=Object.prototype,s=0;s<t.length;s++)if(t[s]){var{key:a}=t[s],{val:o}=t[s];i.call(n,a)?n[a].push(o):n[a]=[o]}return r(e,n)}))}),4);var gT=Y_("log");var mT=f_((function(e,t,n,r){r=m_(r);var i={},s=h_(n);return A_(t)(e,((e,t,n)=>{s(e,t,((e,r)=>{if(e)return n(e);i[t]=r,n(e)}))}),(e=>r(e,i)))}),4);var wT=s_(r_?process.nextTick:n_?setImmediate:i_),bT=f_(((e,t,n)=>{var r=y_(t)?[]:{};e(t,((e,t,n)=>{h_(e)((function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];s.length<2&&([s]=s),r[t]=s,n(e)}))}),(e=>n(e,r)))}),3);function vT(e,t){var n=h_(e);return F_(((e,t)=>{n(e[0],t)}),t,1)}class AT{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&ST(this.heap[e],this.heap[t=ET(e)]);){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}percDown(e){let t;for(;(t=kT(e))<this.heap.length&&(t+1<this.heap.length&&ST(this.heap[t+1],this.heap[t])&&(t+=1),!ST(this.heap[e],this.heap[t]));){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(let n=ET(this.heap.length-1);n>=0;n--)this.percDown(n);return this}}function kT(e){return 1+(e<<1)}function ET(e){return(e+1>>1)-1}function ST(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}var IT=f_((function(e,t){if(t=m_(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)h_(e[n])(t)}),2);function CT(e,t,n,r){var i=[...e].reverse();return j_(i,t,n,r)}function xT(e){var t=h_(e);return e_((function(e,n){return e.push((function(e){let t={};e&&(t.error=e);for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(i.length>0){var a=i;i.length<=1&&([a]=i),t.value=a}n(null,t)})),t.apply(this,e)}))}function BT(e,t,n,r){const i=h_(n);return lT(e,t,((e,t)=>{i(e,((e,n)=>{t(e,!n)}))}),r)}var PT=f_((function(e,t,n){return BT(I_,e,t,n)}),3);var _T=f_((function(e,t,n,r){return BT(A_(t),e,n,r)}),4);var TT=f_((function(e,t,n){return BT(B_,e,t,n)}),3);function NT(e){return function(){return e}}function RT(e,t,n){var r={times:5,intervalFunc:NT(0)};if(arguments.length<3&&"function"===typeof e?(n=t||N_(),t=e):(!function(e,t){if("object"===typeof t)e.times=+t.times||5,e.intervalFunc="function"===typeof t.interval?t.interval:NT(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}(r,e),n=n||N_()),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var i=h_(t),s=1;return function e(){i((function(t){if(!1!==t)if(t&&s++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(t)))setTimeout(e,r.intervalFunc(s-1));else{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];n(t,...a)}}))}(),n[T_]}var DT=f_((function(e,t,n){return q_(Boolean,(e=>e))(I_,e,t,n)}),3);var UT=f_((function(e,t,n,r){return q_(Boolean,(e=>e))(A_(t),e,n,r)}),4);var OT=f_((function(e,t,n){return q_(Boolean,(e=>e))(B_,e,t,n)}),3);var LT=f_((function(e,t,n){var r=h_(t);return C_(e,((e,t)=>{r(e,((n,r)=>{if(n)return t(n);t(n,{value:e,criteria:r})}))}),((e,t)=>{if(e)return n(e);n(null,t.sort(i).map((e=>e.value)))}));function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}}),3);function MT(e,t,n,r){var i=h_(n);return z_(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,i,r)}var KT=f_((function(e,t){var n,r=null;return rT(e,((e,t)=>{h_(e)((function(e){if(!1===e)return t(e);for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];s.length<2?[n]=s:n=s,r=e,t(e?null:{})}))}),(()=>t(r,n)))}));var FT=f_((function(e,t,n){n=b_(n);var r=h_(t),i=h_(e),s=[];function a(e){if(e)return n(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];s=r,!1!==e&&i(o)}function o(e,t){return e?n(e):!1!==e?t?void r(a):n(null,...s):void 0}return i(o)}),3);var jT=f_((function(e,t){if(t=m_(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){h_(e[n++])(...t,b_(i))}function i(i){if(!1!==i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if(i||n===e.length)return t(i,...a);r(a)}}r([])})),QT={apply:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e(...n,...r)}},applyEach:x_,applyEachSeries:__,asyncify:o_,auto:R_,autoInject:function(e,t){var n={};return Object.keys(e).forEach((t=>{var r,i=e[t],s=l_(i),a=!s&&1===i.length||s&&0===i.length;if(Array.isArray(i))r=[...i],i=r.pop(),n[t]=r.concat(r.length>0?o:i);else if(a)n[t]=i;else{if(r=function(e){const t=function(e){let t="",n=0,r=e.indexOf("*/");for(;n<e.length;)if("/"===e[n]&&"/"===e[n+1]){let t=e.indexOf("\n",n);n=-1===t?e.length:t}else if(-1!==r&&"/"===e[n]&&"*"===e[n+1]){let i=e.indexOf("*/",n);-1!==i?(n=i+2,r=e.indexOf("*/",n)):(t+=e[n],n++)}else t+=e[n],n++;return t}(e.toString());let n=t.match(D_);if(n||(n=t.match(U_)),!n)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,r]=n;return r.replace(/\s/g,"").split(O_).map((e=>e.replace(L_,"").trim()))}(i),0===i.length&&!s&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");s||r.pop(),n[t]=r.concat(o)}function o(e,t){var n=r.map((t=>e[t]));n.push(t),h_(i)(...n)}})),R_(n,t)},cargo:function(e,t){return F_(e,1,t)},cargoQueue:function(e,t,n){return F_(e,t,n)},compose:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q_(...t.reverse())},concat:G_,concatLimit:H_,concatSeries:V_,constant:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.pop()(null,...t)}},detect:J_,detectLimit:$_,detectSeries:W_,dir:Z_,doUntil:function(e,t,n){const r=h_(t);return X_(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.pop();r(...t,((e,t)=>i(e,!t)))}),n)},doWhilst:X_,each:tT,eachLimit:nT,eachOf:I_,eachOfLimit:k_,eachOfSeries:B_,eachSeries:rT,ensureAsync:iT,every:sT,everyLimit:aT,everySeries:oT,filter:hT,filterLimit:fT,filterSeries:dT,forever:pT,groupBy:function(e,t,n){return yT(e,1/0,t,n)},groupByLimit:yT,groupBySeries:function(e,t,n){return yT(e,1,t,n)},log:gT,map:C_,mapLimit:z_,mapSeries:P_,mapValues:function(e,t,n){return mT(e,1/0,t,n)},mapValuesLimit:mT,mapValuesSeries:function(e,t,n){return mT(e,1,t,n)},memoize:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;var n=Object.create(null),r=Object.create(null),i=h_(e),s=e_(((e,s)=>{var a=t(...e);a in n?a_((()=>s(null,...n[a]))):a in r?r[a].push(s):(r[a]=[s],i(...e,(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];e||(n[a]=i);var o=r[a];delete r[a];for(var c=0,u=o.length;c<u;c++)o[c](e,...i)})))}));return s.memo=n,s.unmemoized=e,s},nextTick:wT,parallel:function(e,t){return bT(I_,e,t)},parallelLimit:function(e,t,n){return bT(A_(t),e,n)},priorityQueue:function(e,t){var n=vT(e,t),{push:r,pushAsync:i}=n;function s(e,t){return Array.isArray(e)?e.map((e=>({data:e,priority:t}))):{data:e,priority:t}}return n._tasks=new AT,n._createTaskItem=(e,t)=>{let{data:n,priority:r}=e;return{data:n,priority:r,callback:t}},n.push=function(e){let t=arguments.length>2?arguments[2]:void 0;return r(s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),t)},n.pushAsync=function(e){let t=arguments.length>2?arguments[2]:void 0;return i(s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),t)},delete n.unshift,delete n.unshiftAsync,n},queue:vT,race:IT,reduce:j_,reduceRight:CT,reflect:xT,reflectAll:function(e){var t;return Array.isArray(e)?t=e.map(xT):(t={},Object.keys(e).forEach((n=>{t[n]=xT.call(this,e[n])}))),t},reject:PT,rejectLimit:_T,rejectSeries:TT,retry:RT,retryable:function(e,t){t||(t=e,e=null);let n=e&&e.arity||t.length;l_(t)&&(n+=1);var r=h_(t);return e_(((t,i)=>{function s(e){r(...t,e)}return(t.length<n-1||null==i)&&(t.push(i),i=N_()),e?RT(e,s,i):RT(s,i),i[T_]}))},seq:Q_,series:function(e,t){return bT(B_,e,t)},setImmediate:a_,some:DT,someLimit:UT,someSeries:OT,sortBy:LT,timeout:function(e,t,n){var r=h_(e);return e_(((i,s)=>{var a,o=!1;i.push((function(){o||(s(...arguments),clearTimeout(a))})),a=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),o=!0,s(r)}),t),r(...i)}))},times:function(e,t,n){return MT(e,1/0,t,n)},timesLimit:MT,timesSeries:function(e,t,n){return MT(e,1,t,n)},transform:function(e,t,n,r){arguments.length<=3&&"function"===typeof t&&(r=n,n=t,t=Array.isArray(e)?[]:{}),r=m_(r||N_());var i=h_(n);return I_(e,((e,n,r)=>{i(t,e,n,r)}),(e=>r(e,t))),r[T_]},tryEach:KT,unmemoize:function(e){return function(){return(e.unmemoized||e)(...arguments)}},until:function(e,t,n){const r=h_(e);return FT((e=>r(((t,n)=>e(t,!n)))),t,n)},waterfall:jT,whilst:FT,all:sT,allLimit:aT,allSeries:oT,any:DT,anyLimit:UT,anySeries:OT,find:J_,findLimit:$_,findSeries:W_,flatMap:G_,flatMapLimit:H_,flatMapSeries:V_,forEach:tT,forEachSeries:rT,forEachLimit:nT,forEachOf:I_,forEachOfSeries:B_,forEachOfLimit:k_,inject:j_,foldl:j_,foldr:CT,select:hT,selectLimit:fT,selectSeries:dT,wrapSync:o_,during:FT,doDuring:X_};let zT=[],HT=0,GT="",VT=null,qT=0,JT=!1,$T=null;const WT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;const t=zT.length-1;if(!t)return null;const n=Math.floor(Math.random()*t);if(e>-1&&n===e)return console.log(`getRandomNodeV2 nodeNumber ${n} == index ${e} REUNING AGAIN!`),WT(e);const r=zT[n];return console.log(`getRandomNodeV2 Guardian_Nodes length =${zT.length} nodeNumber = ${n} `),r},YT=async(e,t)=>{var n,r,i;await(async()=>{if(JT)return;JT=!0;const e=new ns(is.address,is.abi,Rl);let t=0;try{const n=await e.currentNodeID();t=parseInt(n.toString())}catch(s){return console.log("getAllNodes currentNodeID Error",s)}if(!t)return console.log("getAllNodes STOP scan because scanNodes == 0");zT=[];for(let a=0;a<t;a++)zT.push({region:"",country:"",ip_addr:"",armoredPublicKey:"",last_online:!1,nftNumber:100+a});const n=new ns(rs.address,rs.abi,Rl);let r=0;await QT.mapLimit(zT,5,(async(e,t)=>{const i=await n.getNodeInfoById(e.nftNumber);if(null!==i&&void 0!==i&&i.pgp){r=e.nftNumber,e.region=i.regionName,e.ip_addr=i.ipaddress,e.armoredPublicKey=Buffer.from(i.pgp,"base64").toString();const t=await zS({armoredKey:e.armoredPublicKey});e.domain=t.getKeyIDs()[1].toHex().toUpperCase()+".conet.network"}})).catch((()=>{}));const i=zT.findIndex((e=>e.nftNumber===r))+1;zT=zT.slice(0,i),JT=!1})(),GT=e.keyID.toLowerCase();const s=zT.length-1;if(!s)return void console.log("totalNodes is empty");const a=Math.floor(Math.random()*s),o=zT[a];if(!o)return void console.log("connectNode is empty");if(null===e||void 0===e||!e.pgpKey){const t=await(async(e,t,n)=>{const r={type:"ecc",passphrase:e,userIDs:[{name:t,email:n}],curve:"curve25519",format:"armored"};return await WS(r)})("","","");e.pgpKey={privateKeyArmor:t.privateKey,publicKeyArmor:t.publicKey}}const c=zT.findIndex((e=>e.ip_addr===o.ip_addr));zT.splice(c,1);const u=await tN(e,o);let l=!0;const h=null===e||void 0===e||null===(n=e.tokens)||void 0===n||null===(r=n.cCNTP)||void 0===r?void 0:r.balance;if(HT=h?parseFloat(h):0,null===o||void 0===o||!o.domain||!u)return void console.log("connectNode.domain or postData is empty");const f=`https://${o.domain}/post`;VT=rN(f,!0,{data:null===u||void 0===u||null===(i=u.requestData)||void 0===i?void 0:i[0]},(async(n,r)=>{var i;if(n)return console.log(n),void t({status:404,epoch:0,rate:"",hash:"",nodeWallet:"",currentCCNTP:"",minerResponseHash:"",userWallets:[],nodeWallets:[],online:0});console.log("_startMiningV2 success",r);const s=JSON.parse(r);qT=0,t(s),null!==e&&void 0!==e&&e.tokens||(e.tokens=QP()),null!==(i=e.tokens)&&void 0!==i&&i.cCNTP||(e.tokens.cCNTP={balance:"0",network:"CONET Holesky",decimal:18,contract:ss.address,name:"cCNTP"});const o=e.tokens.cCNTP;if(l)return $T=e,l=!1,HT=parseFloat(o.balance||"0"),s.currentCCNTP="0",["success",JSON.stringify(s)];const c=parseFloat(s.rate);s.rate=isNaN(c)?"":c.toFixed(8),s.currentCCNTP=(parseFloat(e.tokens.cCNTP.balance||"0")-HT).toFixed(8),s.currentCCNTP<"0"&&(HT=parseFloat(e.tokens.cCNTP.balance),s.currentCCNTP="0");const u=WT(a);u?ZT(s,e,u):console.log("_startMiningV2 Error! getRandomNodeV2 return null!")}))},ZT=async(e,t,n)=>{if(!e.hash)return console.log(e),console.log("checkMiningHash got NULL response.hash ERROR!");const r=function(e,t){return Jc(Ip(e),t)}(JSON.stringify({epoch:e.epoch,wallet:t.keyID.toLowerCase()}),e.hash);if(r.toLowerCase()!==e.nodeWallet.toLowerCase())return console.log(`validator va${r.toLowerCase()} !== response.nodeWallet ${e.nodeWallet.toLowerCase()}`);const i=new jg(t.privateKeyArmor);e.minerResponseHash=await i.signMessage(e.hash),e.userWallets=e.nodeWallets=[];const s=await XT(t,n,e);if(!s)return console.log("ceateMininngValidator got null Error!");const a=`https://${n.domain}/post`,o=await zP(a,!0,{data:s.requestData[0]}).catch((e=>{console.log(e)}));console.log(o)},XT=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!e.pgpKey||!t.armoredPublicKey)return console.log(`currentProfile?.pgpKey[${null===e||void 0===e?void 0:e.pgpKey}]|| !SaaSnode?.armoredPublicKey[${null===t||void 0===t?void 0:t.armoredPublicKey}] Error`),null;const r=Buffer.from(crypto.getRandomValues(new Uint8Array(16))).toString("base64"),i={command:"mining_validator",algorithm:"aes-256-cbc",Securitykey:r,requestData:n,walletAddress:e.keyID.toLowerCase()},s=JSON.stringify(i),a=new jg(e.privateKeyArmor),o=await a.signMessage(s);let c=null;try{c=await eN(e.pgpKey.privateKeyArmor)}catch(l){return console.log(l)}const u=await nN(c,t.armoredPublicKey,{message:s,signMessage:o});return i.requestData=[u,"",r],i},eN=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e){const e="makePrivateKeyObj have no privateArmor Error!";return console.log(e)}let n=await async function(e){let{armoredKey:t,binaryKey:n,config:r,...i}=e;if(r={...Em,...r},!t&&!n)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(t&&!Im.isString(t))throw Error("readPrivateKey: options.armoredKey must be a string");if(n&&!Im.isUint8Array(n))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const s=Object.keys(i);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let a;if(t){const{type:e,data:n}=await Fm(t);if(e!==km.armor.privateKey)throw Error("Armored text not of type private key");a=n}else a=n;const o=await WE.fromBinary(a,FS,r),c=o.indexOfTag(km.packet.publicKey,km.packet.secretKey);for(let u=0;u<c.length;u++){if(o[c[u]].constructor.tag===km.packet.publicKey)continue;const e=o.slice(c[u],c[u+1]);return new KS(e)}throw Error("No secret key packet found")}({armoredKey:e});return n.isDecrypted()||(n=await async function(e){let{privateKey:t,passphrase:n,config:r,...i}=e;eI(r={...Em,...r});const s=Object.keys(i);if(s.length>0)throw Error("Unknown option: "+s.join(", "));if(!t.isPrivate())throw Error("Cannot decrypt a public key");const a=t.clone(!0),o=Im.isArray(n)?n:[n];try{return await Promise.all(a.getKeys().map((e=>Im.anyPromise(o.map((t=>e.keyPacket.decrypt(t))))))),await a.validate(r),a}catch(t){throw a.clearPrivateParams(),Im.wrapError("Error decrypting private key",t)}}({privateKey:n,passphrase:t})),n},tN=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!e.pgpKey||!t.armoredPublicKey)return console.log(`currentProfile?.pgpKey[${null===e||void 0===e?void 0:e.pgpKey}]|| !SaaSnode?.armoredPublicKey[${null===t||void 0===t?void 0:t.armoredPublicKey}] Error`),null;const r=Buffer.from(crypto.getRandomValues(new Uint8Array(16))).toString("base64"),i={command:"mining",algorithm:"aes-256-cbc",Securitykey:r,requestData:n,walletAddress:e.keyID.toLowerCase()};console.log("mining");const s=JSON.stringify(i),a=new jg(e.privateKeyArmor),o=await a.signMessage(s);let c=null;try{c=await eN(e.pgpKey.privateKeyArmor)}catch(l){return console.log(l)}const u=await nN(c,t.armoredPublicKey,{message:s,signMessage:o});return i.requestData=[u,"",r],i},nN=async(e,t,n)=>{const r={message:await $S({text:Buffer.from(JSON.stringify(n)).toString("base64")}),encryptionKeys:await zS({armoredKey:t}),signingKeys:e,config:{preferredCompressionAlgorithm:km.compression.zlib}};return await async function(e){let{message:t,encryptionKeys:n,signingKeys:r,passwords:i,sessionKey:s,format:a="armored",signature:o=null,wildcard:c=!1,signingKeyIDs:u=[],encryptionKeyIDs:l=[],date:h=new Date,signingUserIDs:f=[],encryptionUserIDs:d=[],signatureNotations:p=[],config:y,...g}=e;if(eI(y={...Em,...y}),YS(t),ZS(a),n=tI(n),r=tI(r),i=tI(i),u=tI(u),l=tI(l),f=tI(f),d=tI(d),p=tI(p),g.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(g.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(g.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==g.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const m=Object.keys(g);if(m.length>0)throw Error("Unknown option: "+m.join(", "));r||(r=[]);try{if((r.length||o)&&(t=await t.sign(r,n,o,u,h,f,l,p,y)),t=t.compress(await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Em;const i=km.compression.uncompressed,s=r.preferredCompressionAlgorithm,a=await Promise.all(e.map((async function(e,i){const a=(await e.getPrimarySelfSignature(t,n[i],r)).preferredCompressionAlgorithms;return!!a&&a.indexOf(s)>=0})));return a.every(Boolean)?s:i}(n,h,d,y),y),t=await t.encrypt(n,i,s,c,l,h,d,y),"object"===a)return t;const e="armored"===a?t.armor(y):t.write();return await nI(e)}catch(t){throw Im.wrapError("Error encrypting message",t)}}(r)},rN=(e,t,n,r)=>{const i=new XMLHttpRequest;let s=0;i.onprogress=async e=>{const t=await i.responseText;if(clearTimeout(a),e.eventPhase<2)return console.log(`xhr.status = ${i.status} e.eventPhase [${e.eventPhase}]`,t);if(401===i.status)return r("Err_Multiple_IP","");if(402===i.status)return r("Err_Existed","");if(200!==i.status)return r("FAILURE","");const n=t.substring(s);t.split("\r\n\r\n");s=t.length,r(null,n)},i.upload.onabort=()=>{console.log("xhr.upload.onabort")},i.upload.onerror=e=>{clearTimeout(a),console.log("xhr.upload.onerror",e)},i.onerror=e=>{console.log("xhr.onerror",e),clearTimeout(a),r("NOT_INTERNET","")};const a=setTimeout((()=>{console.log("postToEndpoint Error","postToEndpoint Timeout!"),r("TIMEOUT","")}),45e3);return i.open(t?"POST":"GET",e,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send("string"!==typeof n?JSON.stringify(n):n),i},iN=BigInt(-1),sN=BigInt(0),aN=BigInt(1),oN=BigInt(5),cN={};let uN="0000";for(;uN.length<80;)uN+=uN;function lN(e){let t=uN;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function hN(e,t,n){const r=BigInt(t.width);if(t.signed){const t=aN<<r-aN;Ke(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>sN?fn(pn(e,r),r):-fn(pn(-e,r),r)}else{const t=aN<<r;Ke(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-aN}return e}function fN(e){"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Fe(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(Fe(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}Fe(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Fe(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}class dN{format;#vt;#At;#kt;_value;constructor(e,t,n){He(e,cN,"FixedNumber"),this.#At=t,this.#vt=n;const r=function(e,t){let n="";e<sN&&(n="-",e*=iN);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=uN+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);De(this,{format:n.name,_value:r}),this.#kt=lN(n.decimals)}get signed(){return this.#vt.signed}get width(){return this.#vt.width}get decimals(){return this.#vt.decimals}get value(){return this.#At}#Et(e){Fe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#St(e,t){return e=hN(e,this.#vt,t),new dN(cN,e,this.#vt)}#It(e,t){return this.#Et(e),this.#St(this.#At+e.#At,t)}addUnsafe(e){return this.#It(e)}add(e){return this.#It(e,"add")}#Ct(e,t){return this.#Et(e),this.#St(this.#At-e.#At,t)}subUnsafe(e){return this.#Ct(e)}sub(e){return this.#Ct(e,"sub")}#xt(e,t){return this.#Et(e),this.#St(this.#At*e.#At/this.#kt,t)}mulUnsafe(e){return this.#xt(e)}mul(e){return this.#xt(e,"mul")}mulSignal(e){this.#Et(e);const t=this.#At*e.#At;return Ke(t%this.#kt===sN,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#St(t/this.#kt,"mulSignal")}#Bt(e,t){return Ke(e.#At!==sN,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Et(e),this.#St(this.#At*this.#kt/e.#At,t)}divUnsafe(e){return this.#Bt(e)}div(e){return this.#Bt(e,"div")}divSignal(e){Ke(e.#At!==sN,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Et(e);const t=this.#At*this.#kt;return Ke(t%e.#At===sN,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#St(t/e.#At,"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=lN(r):r<0&&(t*=lN(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#At;return this.#At<sN&&(e-=this.#kt-aN),e=this.#At/this.#kt*this.#kt,this.#St(e,"floor")}ceiling(){let e=this.#At;return this.#At>sN&&(e+=this.#kt-aN),e=this.#At/this.#kt*this.#kt,this.#St(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=oN*lN(t-1);let r=this.value+n;const i=lN(t);return r=r/i*i,hN(r,this.#vt,"round"),new dN(cN,r,this.#vt)}isZero(){return this.#At===sN}isNegative(){return this.#At<sN}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return dN.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:bn(t),i=fN(n);let s=yn(e,"value");const a=r-i.decimals;if(a>0){const t=lN(a);Ke(s%t===sN,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else a<0&&(s*=lN(-a));return hN(s,i,"fromValue"),new dN(cN,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Fe(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=fN(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=uN;Ke(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const a=BigInt(n[1]+i+s);return hN(a,r,"fromString"),new dN(cN,a,r)}static fromBytes(e,t){let n=wn(jt(e,"value"));const r=fN(t);return r.signed&&(n=fn(n,r.width)),hN(n,r,"fromBytes"),new dN(cN,n,r)}}const pN=["wei","kwei","mwei","gwei","szabo","finney","ether"];function yN(e){return function(e,t){let n=18;if("string"===typeof t){const e=pN.indexOf(t);Fe(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=bn(t,"unit"));return dN.fromValue(e,n,{decimals:n,width:512}).toString()}(e,18)}let gN=0;const mN=async e=>{const t=e.keyID;if(t){var n,r;e.tokens||(e.tokens=QP());const[i,s]=await Promise.all([wN(t),bN(t)]);null!==(n=e.tokens)&&void 0!==n&&n.cCNTP?e.tokens.cCNTP.balance=!1===i?"":parseFloat(yN(i)).toFixed(6):e.tokens.cCNTP={balance:!1===i?"":parseFloat(yN(i)).toFixed(6),network:"CONET Holesky",decimal:18,contract:ss.address,name:"cCNTP"},null!==(r=e.tokens)&&void 0!==r&&r.conet?e.tokens.conet.balance=!1===s?"":parseFloat(yN(s)).toFixed(6):e.tokens.conet={balance:!1===s?"":parseFloat(yN(s)).toFixed(6),network:"CONET Holesky",decimal:18,contract:"",name:"conet"};const a=HP;if(!a)return!1;a.profiles[0]=e,console.log("ccntp balance",e.tokens.cCNTP.balance),GP(a)}return!0},wN=async e=>{const t=new ns(ss.address,ss.abi,Rl);try{return await t.balanceOf(e)}catch(n){return console.log("scan_erc20_balance Error!"),!1}},bN=async e=>{try{return await Rl.getBalance(e)}catch(t){return console.log("scan_natureBalance Error!",t),!1}};n.g.Buffer=n(382).hp;const vN=function(){const{setProfile:e,setMiningData:t}=Pe();return(0,r.useEffect)((()=>{(async()=>{var n;await(async()=>{if(await XP(),!HP||null===HP||void 0===HP||!HP.profiles){var e;const t=JP(),n=await $P("","","");if(!t)return;const r={tokens:QP(),publicKeyArmor:t.publicKey,keyID:t.address,isPrimary:!0,referrer:null,isNode:!1,pgpKey:{privateKeyArmor:n.privateKey,publicKeyArmor:n.publicKey},privateKeyArmor:t.signingKey.privateKey,hdPath:t.path,index:t.index},i={mnemonicPhrase:null===t||void 0===t||null===(e=t.mnemonic)||void 0===e?void 0:e.phrase,profiles:[r],isReady:!0,ver:0,nonce:0};GP(i)}const t=HP;if(null===t||void 0===t||t.profiles.forEach((async e=>{e.keyID=e.keyID.toLocaleLowerCase(),e.tokens.cCNTP.unlocked=!1})),GP(t),!HP)return;return await WP(HP.profiles[0].keyID,HP.profiles[0].privateKeyArmor),await YP(),HP.profiles[0]})(),(async e=>{gN=await Rl.getBlockNumber(),Rl.on("block",(async t=>{if(t===gN+1){gN++;const t=null===HP||void 0===HP?void 0:HP.profiles;if(!t)return;const n=[];for(let e of t)n.push(mN(e));await Promise.all(n),null!==HP&&void 0!==HP&&HP.profiles[0]&&e(null===HP||void 0===HP?void 0:HP.profiles[0])}})),gN=await Rl.getBlockNumber()})(e),HP&&null!==HP&&void 0!==HP&&HP.profiles&&await YT(null===HP||void 0===HP||null===(n=HP.profiles)||void 0===n?void 0:n[0],t)})()}),[]),(0,Ce.jsx)("div",{className:"App",children:(0,Ce.jsx)(be,{children:(0,Ce.jsxs)(ge,{children:[(0,Ce.jsx)(pe,{path:"/regions",element:(0,Ce.jsx)(Ep,{})}),(0,Ce.jsx)(pe,{path:"/about",element:(0,Ce.jsx)(Sp,{})}),(0,Ce.jsx)(pe,{path:"/",element:(0,Ce.jsx)(kp,{})})]})})})},AN=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};s.createRoot(document.getElementById("root")).render((0,Ce.jsx)(r.StrictMode,{children:(0,Ce.jsx)(_e,{children:(0,Ce.jsx)(vN,{})})})),AN()})()})();
//# sourceMappingURL=main.5906fad1.js.map